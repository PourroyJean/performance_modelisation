------------------------------------------------------------------------
r1219 | brarcher | 2015-08-02 15:31:21 -0400 (Sun, 02 Aug 2015) | 1 line
Changed paths:
   A /tags/check-0.10.0 (from /trunk:1218)

Tagging for check-0.10.0
------------------------------------------------------------------------
r1218 | brarcher | 2015-08-02 15:22:58 -0400 (Sun, 02 Aug 2015) | 1 line
Changed paths:
   M /trunk/NEWS

Update for release
------------------------------------------------------------------------
r1217 | brarcher | 2015-08-02 15:21:14 -0400 (Sun, 02 Aug 2015) | 1 line
Changed paths:
   M /trunk/configure.ac

Update for release
------------------------------------------------------------------------
r1216 | brarcher | 2015-08-02 12:59:36 -0400 (Sun, 02 Aug 2015) | 11 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/configure.ac

configure: Remove duplicated use of AC_USE_SYSTEM_EXTENSIONS

Either the first or the second one is redundant so one should be
removed but beware, there's a bug introduced in automake 1.14
(fixed in 1.15) that would potentially cause trouble if you put it
before AM_INIT_AUTOMAKE.

More info about this automake bug here:
http://debbugs.gnu.org/cgi/bugreport.cgi?bug=15981

https://sourceforge.net/p/check/bugs/109
------------------------------------------------------------------------
r1215 | brarcher | 2015-07-06 19:29:02 -0400 (Mon, 06 Jul 2015) | 4 lines
Changed paths:
   M /trunk/tests/test_check_nofork_teardown.sh

tests: adjust expected line number due to previous commit

A header was added to the program under test, which adjusted the
line numbers.
------------------------------------------------------------------------
r1214 | brarcher | 2015-07-06 09:20:31 -0400 (Mon, 06 Jul 2015) | 5 lines
Changed paths:
   M /trunk/tests/check_nofork_teardown.c

tests: include missing libcompat header

This header is necessary one some platforms where some portions
of check.h are unrecognized. For example, using the MSVC compiler
on Windows the pid_t usage in check.h results in a compiler error.
------------------------------------------------------------------------
r1213 | brarcher | 2015-07-06 09:20:28 -0400 (Mon, 06 Jul 2015) | 4 lines
Changed paths:
   M /trunk/tests/check_check_master.c

tests: define variable at top of block

Some compilers may be picky about defining variables at the
beginning of the block.
------------------------------------------------------------------------
r1212 | brarcher | 2015-07-06 09:20:26 -0400 (Mon, 06 Jul 2015) | 4 lines
Changed paths:
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

replace // comments with /* */ comments

Some compilers are strict with only accepting C style
block comments
------------------------------------------------------------------------
r1211 | brarcher | 2015-07-06 09:20:24 -0400 (Mon, 06 Jul 2015) | 1 line
Changed paths:
   M /trunk/doc/check.texi

doc: Change "Variables" -> "Variables" for consistency
------------------------------------------------------------------------
r1210 | brarcher | 2015-07-05 23:28:35 -0400 (Sun, 05 Jul 2015) | 3 lines
Changed paths:
   M /trunk/doc/check.texi

doc: Add appendix containing all environment variables

Bug#33
------------------------------------------------------------------------
r1209 | brarcher | 2015-06-14 12:07:03 -0400 (Sun, 14 Jun 2015) | 5 lines
Changed paths:
   M /trunk/configure.ac

configure: fix check micro version

This was not updated during the last release. Although it is technically
still out of date (as this is now check 0.9.14+), it is at least
a little more correct.
------------------------------------------------------------------------
r1208 | brarcher | 2015-06-14 12:07:02 -0400 (Sun, 14 Jun 2015) | 1 line
Changed paths:
   M /trunk/configure.ac

configure: output check version in summary
------------------------------------------------------------------------
r1207 | brarcher | 2015-06-14 11:55:09 -0400 (Sun, 14 Jun 2015) | 4 lines
Changed paths:
   M /trunk/configure.ac

configure: do not use echo -n option in summary print out

OSX's version of echo does not support the -n option, and thus the
summary output looked incorrect.
------------------------------------------------------------------------
r1206 | brarcher | 2015-06-14 11:55:08 -0400 (Sun, 14 Jun 2015) | 1 line
Changed paths:
   M /trunk/tests/check_mem_leaks.c

tests: remove unused variables from main()
------------------------------------------------------------------------
r1205 | brarcher | 2015-06-14 11:55:05 -0400 (Sun, 14 Jun 2015) | 4 lines
Changed paths:
   M /trunk/tests/check_check_sub.c

tests: fix compiler warning regarding improper prototype

Clang warned that this prototype was not proper as it had
no parameter list, and insisted on 'void'.
------------------------------------------------------------------------
r1204 | brarcher | 2015-06-14 11:55:02 -0400 (Sun, 14 Jun 2015) | 7 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/CMakeLists.txt
   M /trunk/NEWS

cmake: Include time.h on several checks to prevent false negatives

The clock_t, clockid_t and timer_t types are deemed not found when they
are actually available if time.h is included. Include the header during
the checks.

Patch#53
------------------------------------------------------------------------
r1203 | brarcher | 2015-05-06 23:16:26 -0400 (Wed, 06 May 2015) | 15 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/NEWS
   M /trunk/src/check_run.c

Catch SIGINT and SIGTERM and kill running tests

Tests are forked and placed into their own process group.
If the test runner process receives a terminal signal it
exits but the test continue running. This could result
in test processes running indefinitely if they do not
exit themselves.

This changes catches SIGINT and SIGTERM signals and kills
the test processes.

Note that other signals, such as SIGSEGV and SIGFPE will still
result in test processes being leaked.

This code is based on that in patch #52.
------------------------------------------------------------------------
r1202 | brarcher | 2015-05-06 23:16:23 -0400 (Wed, 06 May 2015) | 6 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/src/check.c
   M /trunk/src/check.h.in
   M /trunk/src/check_run.c
   M /trunk/tests/check_nofork.c
   M /trunk/tests/test_check_nofork.sh

Change behavior of calls for fork() on non-fork() platforms

It was requested by users of Windows (e.g. non-fork() supporting
platforms) that calls to set CK_FORK mode be ignored if fork()
is not supported. This is to avoid the need to detect the
current platform and conditionally compile unit test code.
------------------------------------------------------------------------
r1201 | brarcher | 2015-03-14 22:23:38 -0400 (Sat, 14 Mar 2015) | 1 line
Changed paths:
   M /trunk/AUTHORS

update AUTHORS file
------------------------------------------------------------------------
r1200 | brarcher | 2015-03-12 09:02:04 -0400 (Thu, 12 Mar 2015) | 1 line
Changed paths:
   M /trunk/NEWS

Update NEWS
------------------------------------------------------------------------
r1199 | brarcher | 2015-03-12 08:58:57 -0400 (Thu, 12 Mar 2015) | 20 lines
Changed paths:
   M /trunk/src/check.h.in
   M /trunk/tests/check_check_master.c

add extra space around comparison operators for assert messages

The following argument was made in the report of bug #102 to
include extra space around the comparison operator in
assert messages:

When ck_assert_int_gt(1 + 2, 3 + 4) fails, it outputs a string like this:

   Assertion '1 + 2>3 + 4' failed: 1 + 2==3, 3 + 4==7

This doesnâ€™t look nice, since most programmers write spaces around comparison operators.
Therefore, the assertion message should do the same.

   Assertion '1 + 2 > 3 + 4' failed: 1 + 2 == 3, 3 + 4 == 7

For condensed code, it would look like this:

   Assertion '1+2 > 3+4' failed: 1+2 == 3, 3+4 == 7

I think the versions with the spaces look nicer than those without.
------------------------------------------------------------------------
r1198 | brarcher | 2015-03-11 22:50:43 -0400 (Wed, 11 Mar 2015) | 6 lines
Changed paths:
   M /trunk/doc/Makefile.am

Do not remove check.info during 'clean' target

It was observed that if one does not have texinfo installed
and invoked "make clean" then a subsequent build will fail
because the docs cannot be built. The issue is that
"make clean" will remove check.info and require it be rebuilt.
------------------------------------------------------------------------
r1197 | brarcher | 2015-03-11 22:31:57 -0400 (Wed, 11 Mar 2015) | 3 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/CMakeLists.txt
   M /trunk/NEWS
   M /trunk/configure.ac
   M /trunk/src/check_msg.c
   M /trunk/tests/check_check_master.c

Use mkstemp() if available instead of tmpfile() or tempnam()

This is based on patch #51 submitted by Neos3452 from Sourceforge.
------------------------------------------------------------------------
r1196 | brarcher | 2014-11-28 10:35:33 -0500 (Fri, 28 Nov 2014) | 4 lines
Changed paths:
   M /trunk/tests/test_check_nofork_teardown.sh

tests: expect location of file based on srcdir

Otherwise, when the test is run out of the source tree
the test will fail.
------------------------------------------------------------------------
r1195 | brarcher | 2014-11-28 01:05:42 -0500 (Fri, 28 Nov 2014) | 3 lines
Changed paths:
   M /trunk/tests/Makefile.am

add test_check_nofork_teardown.sh to EXTRA_DIST

Otherwise, the prereleasecheck target will fail
------------------------------------------------------------------------
r1194 | brarcher | 2014-11-28 00:50:23 -0500 (Fri, 28 Nov 2014) | 1 line
Changed paths:
   M /trunk/NEWS

Change spacing.
------------------------------------------------------------------------
r1193 | brarcher | 2014-11-28 00:50:22 -0500 (Fri, 28 Nov 2014) | 18 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/CMakeLists.txt
   M /trunk/NEWS
   M /trunk/src/check_msg.c
   M /trunk/tests/CMakeLists.txt
   M /trunk/tests/Makefile.am
   A /trunk/tests/check_nofork_teardown.c
   A /trunk/tests/test_check_nofork_teardown.sh

report correct error if teardown after failure in no fork mode

In nofork mode, the location of a failed assertion within a test
case is lost if that test case has a checked teardown fixture
(even if that fixture function is empty).

The reason why this happens is this: the end of the message sequence
coming down the pipe is CK_MSG_LOC (location of failing test),
CK_MSG_FAIL, CK_MSG_CTX (TEARDOWN). It is this final message that
confuses things, because rcvmsg_update_ctx() updates rmsg->lastctx
(which I suspect is the right thing for it to do), which is the ctx
value used by the first 'if' body in construct_test_result() in its
call to tr_set_loc_by_ctx().

The solution is to initialize tr->ctx to rmsg->failctx if
it is not CK_CTX_INVALID.

Bug #99.
------------------------------------------------------------------------
r1192 | brarcher | 2014-09-22 21:29:02 -0400 (Mon, 22 Sep 2014) | 6 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/doc/example/configure.ac

autotools: change automake requirement to 1.11.2

The AM_PROG_AR macro was introduced into Automake 1.11.2
(Dec 2011), which is used in Check's configure script and
in the example's. Check for this version of Automake
instead.
------------------------------------------------------------------------
r1191 | brarcher | 2014-08-19 08:22:56 -0400 (Tue, 19 Aug 2014) | 1 line
Changed paths:
   M /trunk/doc/check.texi

doc: change 'mimick' -> 'mimic'
------------------------------------------------------------------------
r1190 | brarcher | 2014-08-19 08:22:54 -0400 (Tue, 19 Aug 2014) | 1 line
Changed paths:
   M /trunk/doc/check.texi

doc: mention that the output from "make check" depends on Automake version
------------------------------------------------------------------------
r1189 | brarcher | 2014-08-19 08:22:52 -0400 (Tue, 19 Aug 2014) | 1 line
Changed paths:
   M /trunk/Makefile.am

update online docs during updateweb
------------------------------------------------------------------------
r1188 | brarcher | 2014-08-18 21:21:37 -0400 (Mon, 18 Aug 2014) | 1 line
Changed paths:
   M /trunk/doc/check.texi

doc: change phrasing on request for corrections to docs.
------------------------------------------------------------------------
r1187 | brarcher | 2014-08-18 21:21:35 -0400 (Mon, 18 Aug 2014) | 1 line
Changed paths:
   M /trunk/doc/check.texi

doc: update docs to deprecate AM_PATH_CHECK, mention CMake
------------------------------------------------------------------------
r1186 | brarcher | 2014-08-18 21:21:30 -0400 (Mon, 18 Aug 2014) | 1 line
Changed paths:
   M /trunk/doc/check.texi

doc: update copyright on docs
------------------------------------------------------------------------
r1185 | brarcher | 2014-07-30 08:49:11 -0400 (Wed, 30 Jul 2014) | 3 lines
Changed paths:
   M /trunk/tests/check_check_master.c

tests: cast output of malloc() to goal type

clang++ did not like casting void* to char* implicitly.
------------------------------------------------------------------------
r1184 | brarcher | 2014-07-30 08:49:08 -0400 (Wed, 30 Jul 2014) | 3 lines
Changed paths:
   M /trunk/tests/check_check_master.c

tests: add prototype for escape_percent()

clang++ emitted an error if the prototype was not present
------------------------------------------------------------------------
r1183 | brarcher | 2014-07-29 23:09:12 -0400 (Tue, 29 Jul 2014) | 16 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/src/check.c
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

Do not vsnprintf expression string passed to ck_abort()

If ck_abort() detects a failure, the expression which was
evaluated is passed to _ck_assert_failed to print.
However, the previous behavior was to send the expression
to vsnprintf(), which would expect it to be properly formatted.

If the expression in ck_abort() contained % characters, such as:
   ck_abort(bar%foo == 0)
the "%f" portion would be printed as some non-existent floating
point number.

Now, if there is no message passed (and the expression is to
be used) simply report the expression as is. Only format
something with vsnprintf() if there is actual data that
expects formatting.
------------------------------------------------------------------------
r1182 | brarcher | 2014-07-29 23:09:09 -0400 (Tue, 29 Jul 2014) | 15 lines
Changed paths:
   M /trunk/tests/check_check_master.c

tests: escape % before passing string to ck_abort_msg()

ch_abort_msg() expects printf arguments. Passing in a constant
string that happens to have '%' in it will not end as expected,
as the underlying vsnprintf will attempt to format them.

As some unit tests now attempt to have improper output involving
'%' in expressions, it is now possible that the failure message
which is expected during Check's unit tests involve '%'. As such,
only a properly escaped string should be passed to ck_abort_msg().

This change will force the string passed to ck_abort_msg() in the
test_check_failure_msgs unit test to properly escape any '%'
found, so that if a failure did happen the correct text is printed
to the screen.
------------------------------------------------------------------------
r1181 | brarcher | 2014-07-26 21:50:34 -0400 (Sat, 26 Jul 2014) | 1 line
Changed paths:
   M /trunk/web/install.html

web: add instructions for building on Solaris
------------------------------------------------------------------------
r1180 | brarcher | 2014-07-26 11:21:54 -0400 (Sat, 26 Jul 2014) | 1 line
Changed paths:
   M /trunk/NEWS

NEWS: restore in development header
------------------------------------------------------------------------
r1179 | brarcher | 2014-07-26 11:21:53 -0400 (Sat, 26 Jul 2014) | 1 line
Changed paths:
   M /trunk/index.html

web: update release version on main page
------------------------------------------------------------------------
r1177 | brarcher | 2014-07-26 00:31:17 -0400 (Sat, 26 Jul 2014) | 1 line
Changed paths:
   M /trunk/configure.ac

Update for release
------------------------------------------------------------------------
r1176 | brarcher | 2014-07-25 23:37:51 -0400 (Fri, 25 Jul 2014) | 5 lines
Changed paths:
   M /trunk/index.html

web: add link to solaris buildbot

An automated build has been setup for the Check project on
OpenCSW's BuildBot, which builds for Solaris. The link leads
to the latest build status of Check on several architectures.
------------------------------------------------------------------------
r1175 | brarcher | 2014-07-25 23:37:48 -0400 (Fri, 25 Jul 2014) | 1 line
Changed paths:
   M /trunk/NEWS

* update for release
------------------------------------------------------------------------
r1174 | brarcher | 2014-07-03 14:43:49 -0400 (Thu, 03 Jul 2014) | 1 line
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/lib/CMakeLists.txt

cmake: include getline.c into libcompat if getline() is missing
------------------------------------------------------------------------
r1173 | brarcher | 2014-06-24 09:00:29 -0400 (Tue, 24 Jun 2014) | 8 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/lib/libcompat.h

autotools: remove AIX fix for broken xlc v6 compiler

The issue with the xlc v6 compiler on AIX seems to be a compiler
bug which is resolved in future releases of the compiler.

This fix, as it turns out, did not properly detect the bug
or resolve the issue. Unless it becomes really important,
the attempt to get around the bug is removed from Check.
------------------------------------------------------------------------
r1172 | brarcher | 2014-06-24 00:45:07 -0400 (Tue, 24 Jun 2014) | 4 lines
Changed paths:
   M /trunk/configure.ac
   A /trunk/lib/getline.c
   M /trunk/lib/libcompat.h

Provide getline() if unavailable

getline() is POSIX.1-2008, but is unavailable on several platforms,
including MinGW and Solaris 10.
------------------------------------------------------------------------
r1171 | brarcher | 2014-06-23 00:13:57 -0400 (Mon, 23 Jun 2014) | 3 lines
Changed paths:
   M /trunk/lib/snprintf.c

Use casts when assigning a void*

The changes are necessary for Check to compile with a c++ compiler.
------------------------------------------------------------------------
r1170 | brarcher | 2014-06-23 00:13:55 -0400 (Mon, 23 Jun 2014) | 4 lines
Changed paths:
   M /trunk/lib/timer_delete.c
   M /trunk/lib/timer_settime.c

Change name 'new' to something else

Change necessary for compiling on c++ compiler, as
'new' is a reserved name.
------------------------------------------------------------------------
r1169 | brarcher | 2014-06-23 00:13:54 -0400 (Mon, 23 Jun 2014) | 6 lines
Changed paths:
   M /trunk/tests/check_check_fixture.c

Add comment for why test should be CK_FORK mode only

Some of these tests, now that checked fixtures can be used
with CK_NOFORK mode, may be enabled regardless of fork()
availability. This specific test, however, will not work as is
without fork().
------------------------------------------------------------------------
r1168 | brarcher | 2014-06-23 00:13:52 -0400 (Mon, 23 Jun 2014) | 34 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/tests/check_check.h
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

rework how line numbers are verified in check_check_sub.c

Line number checking failures in check_check_sub.c are broken
and were broken since r527 (2009-02-02).

_STR(__LINE__) as is evaluates to "__LINE__", which results in -1
being returned from atoi. A -1 means to not check the line
number of the failure. As a result, no line numbers were checked
since r527. Checking with strtol finds the conversion failure,
which is what identified this bug.

Note that more redirection can be used to convert __LINE__ to a string,
e.g.:
   #define LINE_TO_STRING(Y) #Y
   #define _LINE_TO_STRING(Y) LINE_TO_STRING(Y)
   #define _STR(Y) _LINE_TO_STRING(Y)

However, then the line converted to a string is the line which references
the macro. I.e., not the line number of the test, which was expected.

The tests of the failure line numbers are valuable. To fix them,
instead of determining the values at compile time, they are determined
at run time. Whenever a test should fail, record_failure_line_num()
will be used to record the line number to a temporary file.
This in several cases required splitting up a test which was used
to induce a success and a failure. For such functions, there is
now a clear function to use when a success is required (no call
to record_failure_line_num()) and one to use when a failure
is required at a specific location (to call record_failure_line_num()).

The FILE pointer is created at the setup of the sub suite, and
deleted on the cleanup. The test_check_failure_lnos test then
will, for each failure, read the next line in the file and make
sure it matches the value reported by Check.
------------------------------------------------------------------------
r1167 | brarcher | 2014-06-23 00:13:50 -0400 (Mon, 23 Jun 2014) | 3 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/tests/ex_output.c

Use proper storage type for print_output

This fix was necessary to get Check compiling with a c++ compiler.
------------------------------------------------------------------------
r1166 | brarcher | 2014-06-23 00:13:48 -0400 (Mon, 23 Jun 2014) | 4 lines
Changed paths:
   M /trunk/tests/check_check_sub.c

Pass in print_output to srunner_run_all in test_null

Change was necessary to get Check to compile on a c++
compiler
------------------------------------------------------------------------
r1165 | brarcher | 2014-06-23 00:13:46 -0400 (Mon, 23 Jun 2014) | 4 lines
Changed paths:
   M /trunk/tests/check_check_pack.c

Cast to ck_result_ctx in test_pack_ctx_limit

This change was necessary to get Check compiling on a c++
compiler.
------------------------------------------------------------------------
r1164 | brarcher | 2014-06-23 00:13:44 -0400 (Mon, 23 Jun 2014) | 4 lines
Changed paths:
   M /trunk/tests/check_check_pack.c

Pass in proper arguments for upack in test_pack_abuse

Even those the test 'abuses' upack, passing in a non-pointer
to a pointer argument is a bad idea.
------------------------------------------------------------------------
r1163 | brarcher | 2014-06-23 00:13:42 -0400 (Mon, 23 Jun 2014) | 8 lines
Changed paths:
   M /trunk/tests/check_check.h
   M /trunk/tests/check_check_master.c

Move sub_nfailed/ntests vars inside check_check_master.c

The header file check_check.h declaring these resulted in
multiple files creating storage but for duplicate names.

Only one of these (sub_ntests) was ever used outside of
check_check_master.c. Now it is accessable via an extern
declaration.
------------------------------------------------------------------------
r1162 | brarcher | 2014-06-23 00:13:39 -0400 (Mon, 23 Jun 2014) | 3 lines
Changed paths:
   M /trunk/src/check_pack.c

cast upack_int() to goal container

Needed to get Check to compile on a c++ compiler
------------------------------------------------------------------------
r1161 | brarcher | 2014-06-23 00:13:37 -0400 (Mon, 23 Jun 2014) | 4 lines
Changed paths:
   M /trunk/src/check_pack.c

Case void* to pthread_mutex_t before passing to unlock

This change was necessary to get Check to compile on a
c++ compiler
------------------------------------------------------------------------
r1160 | brarcher | 2014-06-23 00:13:35 -0400 (Mon, 23 Jun 2014) | 4 lines
Changed paths:
   M /trunk/src/check_log.c

Case void* to goal container for logging callbacks

These changes were necessary to get Check to compile on
a c++ compiler
------------------------------------------------------------------------
r1159 | brarcher | 2014-06-23 00:13:32 -0400 (Mon, 23 Jun 2014) | 3 lines
Changed paths:
   M /trunk/tests/check_check_sub.c

cast value sent to srunner_set_fork_status to fork_status

The change is necessary for compiling Check with a c++ compiler.
------------------------------------------------------------------------
r1158 | brarcher | 2014-06-23 00:13:29 -0400 (Mon, 23 Jun 2014) | 3 lines
Changed paths:
   M /trunk/src/check.c

Fix data type of internal fork_status variable

This was necessary to compile Check with a c++ compiler.
------------------------------------------------------------------------
r1157 | brarcher | 2014-06-23 00:13:21 -0400 (Mon, 23 Jun 2014) | 4 lines
Changed paths:
   M /trunk/src/check.c
   M /trunk/src/check_log.c
   M /trunk/src/check_print.c
   M /trunk/src/check_run.c
   M /trunk/tests/check_check_log_internal.c
   M /trunk/tests/check_list.c

Case void* to goal container after using Check's lists

These changes were necessary to get Check to compile with
a c++ compiler.
------------------------------------------------------------------------
r1156 | brarcher | 2014-06-23 00:13:18 -0400 (Mon, 23 Jun 2014) | 4 lines
Changed paths:
   M /trunk/src/check.c
   M /trunk/src/check_list.c
   M /trunk/src/check_log.c
   M /trunk/src/check_pack.c
   M /trunk/src/check_run.c
   M /trunk/src/check_str.c
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_pack.c

Case void* to goal container after emalloc()

These changes were necessary to get Check to compile with
a c++ compiler.
------------------------------------------------------------------------
r1155 | brarcher | 2014-06-23 00:13:16 -0400 (Mon, 23 Jun 2014) | 9 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/src/check.c

Allow checked fixtures when compiled without fork().

Previously such setup/teardown functions were disabled, as the
full contract for checked fixtures could not be honored. Checked
fixtures in CK_NOFORK mode are now closer to the contract, and are
now enabled.

Besides, it was possible to use checked fixtures if the system
had fork() but the tests were configured to run in CK_NOFORK mode.
------------------------------------------------------------------------
r1154 | brarcher | 2014-06-23 00:13:13 -0400 (Mon, 23 Jun 2014) | 3 lines
Changed paths:
   M /trunk/src/check_print.c

Use US_PER_SEC instead of magic number

Patch provided by Michael Piszczek
------------------------------------------------------------------------
r1153 | brarcher | 2014-06-23 00:13:11 -0400 (Mon, 23 Jun 2014) | 9 lines
Changed paths:
   M /trunk/src/check_pack.h

Add DurationMsg to CheckMsg union

As the CheckMsg union is passed around to the various
pack/upack functions, and a DurationMsg is valid to be
passed around, include it in the union just in case
the DurationMsg is or becomes larger than the other
members.

Patch provided by Michael Piszczek
------------------------------------------------------------------------
r1152 | brarcher | 2014-06-23 00:13:09 -0400 (Mon, 23 Jun 2014) | 3 lines
Changed paths:
   M /trunk/src/check_pack.c

Initialize buf before use

Patch provided by Michael Piszczek
------------------------------------------------------------------------
r1151 | brarcher | 2014-06-23 00:13:06 -0400 (Mon, 23 Jun 2014) | 3 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/src/check_log.c

Remove unused declaration

Patch provided by Michael Piszczek
------------------------------------------------------------------------
r1150 | brarcher | 2014-06-23 00:13:03 -0400 (Mon, 23 Jun 2014) | 25 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/src/check.h.in
   M /trunk/src/check_run.c
   M /trunk/tests/check_check_fixture.c

Fix checked teardown calls going into infinate loop in CK_NOFORK mode

A test can be created with a checked teardown, where the teardown
would call some Check asserts. If the test was run in CK_NOFORK
mode and one of the asserts in the teardown failed, longjmp()
would be called, which would result in the setjmp() being returned
to which monitored the test function, and the checked teardowns
executed again. This lead to an infinate loop.

The fix* for this is to execute the checked teardowns in their
own setjmp() block. A test is added to ensure that CK_NOFORK
with a failed checked teardown does not go into an infinate loop.

In addition, the comments for the checked and unchecked
fixture API are updated to be more clear as to what occurs
for CK_FORK and CK_NOFORK mode.

* This reveals another problem: a failed checked teardown
reacts differently for CK_FORK and CK_NOFORK mode.

CK_FORK: the test is marked as failed
CK_NOFORK: the test is marked as passed

More work will need to be done to allow CK_NOFORK mode to also
cause a test to fail if the checked teardown fails.
------------------------------------------------------------------------
r1149 | brarcher | 2014-06-23 00:13:00 -0400 (Mon, 23 Jun 2014) | 4 lines
Changed paths:
   M /trunk/src/check_run.c

Combine checked and unchecked setup handling

The code for checked and unchecked was very similar, and
was combined to simplify things.
------------------------------------------------------------------------
r1148 | brarcher | 2014-06-23 00:12:58 -0400 (Mon, 23 Jun 2014) | 1 line
Changed paths:
   M /trunk/src/check_run.c

Fix spacing
------------------------------------------------------------------------
r1147 | brarcher | 2014-06-23 00:12:55 -0400 (Mon, 23 Jun 2014) | 12 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/configure.ac

autotools: change check for floor() and __floor()

The reason AIX is having difficulty with floor() is that the
   AC_CHECK_LIB([m], [floor])
finds floor() in libm, however due to some header file stuff
(maybe) floor() cannot be used directly. Instead, there is likely
a definition for __floor() -> floor().

To check for this, floor() is detected in libm as normal. After,
determine if floor() can be used directly. If not, check if __floor()
is defined (not necessarily a function). If floor() is usable, do
that. If not but __floor() is available, try using that.
------------------------------------------------------------------------
r1146 | brarcher | 2014-06-23 00:12:53 -0400 (Mon, 23 Jun 2014) | 1 line
Changed paths:
   M /trunk/AUTHORS

Update AUTHORS file
------------------------------------------------------------------------
r1145 | brarcher | 2014-06-18 21:53:32 -0400 (Wed, 18 Jun 2014) | 7 lines
Changed paths:
   M /trunk/checkmk/test/check_checkmk

Use env to find shell to use

On at least one platform (Solaris), the shell located at /bin/sh is
not a compliant shell. Using env as a form of redirection to find
a sh program, the PATH can be changed to find a compliant sh
to use. On platforms where /bin/sh is compliant, env should work
just fine.
------------------------------------------------------------------------
r1144 | brarcher | 2014-06-18 21:53:30 -0400 (Wed, 18 Jun 2014) | 13 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/configure.ac

autotools: fix floor() check

The floor check did not work properly on Solaris.

The check yields this in config.h:

   #define HAVE_FLOOR $HAVE_FLOOR

which results in the following build failure:

   "libcompat.h", line 127: token not allowed in directive: $

This fix is provided by Georg Sauthoff.
------------------------------------------------------------------------
r1143 | brarcher | 2014-06-15 19:15:10 -0400 (Sun, 15 Jun 2014) | 4 lines
Changed paths:
   M /trunk/configure.ac

autotools: include flag for AIX only if on AIX

Also, correcting comment about this being for Solaris.
It is for AIX instead.
------------------------------------------------------------------------
r1142 | brarcher | 2014-06-15 19:15:07 -0400 (Sun, 15 Jun 2014) | 4 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/lib/libcompat.h

autoconf: attempt to find __floor() if floor() is unavailable

On the AIX platform, floor() is not in libm, but
__floor() is an internal function in the compiler.
------------------------------------------------------------------------
r1141 | brarcher | 2014-05-30 20:45:48 -0400 (Fri, 30 May 2014) | 1 line
Changed paths:
   M /trunk/NEWS

Restore development header in NEWS
------------------------------------------------------------------------
r1140 | brarcher | 2014-05-30 20:45:45 -0400 (Fri, 30 May 2014) | 1 line
Changed paths:
   M /trunk/index.html

Update for release
------------------------------------------------------------------------
r1138 | brarcher | 2014-05-30 20:09:01 -0400 (Fri, 30 May 2014) | 1 line
Changed paths:
   M /trunk/NEWS
   M /trunk/configure.ac

Update for release
------------------------------------------------------------------------
r1137 | brarcher | 2014-05-26 17:03:09 -0400 (Mon, 26 May 2014) | 4 lines
Changed paths:
   M /trunk/configure.ac

autoconf: add cflag for Solaris to enable c99 features

Without this flag, Solaris will fail to compile in check.h when
it hits the variable macros.
------------------------------------------------------------------------
r1136 | brarcher | 2014-05-26 17:03:06 -0400 (Mon, 26 May 2014) | 4 lines
Changed paths:
   M /trunk/lib/libcompat.h
   M /trunk/lib/timer_create.c

change first arg of timer_create to clockid_t

The clock id argument should have been of type
clockid_t.
------------------------------------------------------------------------
r1135 | brarcher | 2014-05-21 08:07:44 -0400 (Wed, 21 May 2014) | 4 lines
Changed paths:
   M /trunk/tests/check_check_sub.c

only declare atexit() test if fork is available

The test is already disabled if fork is disabled.
No need to compile the code.
------------------------------------------------------------------------
r1134 | brarcher | 2014-05-20 23:28:07 -0400 (Tue, 20 May 2014) | 5 lines
Changed paths:
   M /trunk/tests/check_check_sub.c

use atexit() instead of on_exit() for test

atexit() is POSIX, whereas on_exit() is not.
Specifically, on_exit() does not exist on
OpenBSD (and perhaps other platforms)
------------------------------------------------------------------------
r1133 | brarcher | 2014-05-11 21:38:24 -0400 (Sun, 11 May 2014) | 7 lines
Changed paths:
   M /trunk/tests/test_check_nofork.sh
   M /trunk/tests/test_log_output.sh
   M /trunk/tests/test_mem_leaks.sh
   M /trunk/tests/test_output.sh
   M /trunk/tests/test_tap_output.sh
   M /trunk/tests/test_xml_output.sh

Use env to find shell to use

On at least one platform (Solaris), the shell located at /bin/sh is
not a compliant shell. Using env as a form of redirection to find
a sh program, the PATH can be changed to find a compliant sh
to use. On platforms where /bin/sh is compliant, env should work
just fine.
------------------------------------------------------------------------
r1132 | brarcher | 2014-05-09 08:48:05 -0400 (Fri, 09 May 2014) | 1 line
Changed paths:
   M /trunk/tests/check_check_sub.c
   M /trunk/tests/check_mem_leaks.c

remove warnings about prototypes
------------------------------------------------------------------------
r1131 | brarcher | 2014-05-09 08:41:02 -0400 (Fri, 09 May 2014) | 4 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/src/Makefile.am

autotools: find compliant sed to use

On Solaris the default sed program in the PATH may not work
very well. Attempt to find a better one with the AC_PROG_SED macro
------------------------------------------------------------------------
r1130 | brarcher | 2014-05-09 08:41:00 -0400 (Fri, 09 May 2014) | 3 lines
Changed paths:
   M /trunk/AUTHORS

Update AUTHORS file

For the changes that Georg is helping with
------------------------------------------------------------------------
r1129 | brarcher | 2014-05-07 07:03:17 -0400 (Wed, 07 May 2014) | 1 line
Changed paths:
   M /trunk/configure.ac

add comment about not using -pedantic flag due to solaris issue
------------------------------------------------------------------------
r1128 | brarcher | 2014-05-07 06:59:33 -0400 (Wed, 07 May 2014) | 13 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/NEWS
   M /trunk/src/check.c
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

upon test failure, invoke _exit() instead of exit()

exit() will call atexit handlers, which may try to
clean up things or wait for things to get cleaned up,
which we don't want or need. We just want to stop
and let the parent know about the failure as quickly
as possible in case fork() is used.

Fixes timeouts on assert failures in checks where
an exit handler waits for things to stop, but they
don't stop because they haven't been shut down,
and they haven't been shut down because there's no
simple way to do so on failures.
------------------------------------------------------------------------
r1127 | brarcher | 2014-05-06 21:37:11 -0400 (Tue, 06 May 2014) | 1 line
Changed paths:
   M /trunk/NEWS

Update NEWS with bug#96 fix
------------------------------------------------------------------------
r1126 | brarcher | 2014-05-06 21:32:50 -0400 (Tue, 06 May 2014) | 11 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/src/check.h.in
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

fix formatting for ck_assert_(u)int_* calls if using % operator

If an expression is used in any of the ck_assert_(u)int_* calls
that uses the % operator, for example:

ck_assert_int_eq(fs.write.slot % fs.slots_per_sector, i+1);

the result was the "% f" would be interpreted as a format string.

This fix prevents the issue by passing the entire expression as a
string, and feeding the underlying printf a "%s" argument instead.
------------------------------------------------------------------------
r1125 | cpickett | 2014-04-07 12:16:46 -0400 (Mon, 07 Apr 2014) | 2 lines
Changed paths:
   M /trunk/configure.ac

* add LT_INIT to configure.ac to build .la files

------------------------------------------------------------------------
r1124 | brarcher | 2014-03-04 21:19:32 -0500 (Tue, 04 Mar 2014) | 6 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/doc/example/configure.ac

example: use pkg-config to find check

Moving away from the deprecated AM_PATH_CHECK to the
not-deprecated PKG_CHECK_MODULES

Based on patch submitted by Julien Godin
------------------------------------------------------------------------
r1123 | brarcher | 2014-02-18 21:39:54 -0500 (Tue, 18 Feb 2014) | 6 lines
Changed paths:
   M /trunk/tests/check_check_exit.c

include signal.h in exit tests

technically this should have been here before. However, the
autotools build did not need it, so it was not caught.
The CMake build requires it be in place to get the definition
of the SIGSEGV signal.
------------------------------------------------------------------------
r1122 | brarcher | 2014-02-17 07:07:52 -0500 (Mon, 17 Feb 2014) | 3 lines
Changed paths:
   M /trunk/src/check.h.in
   M /trunk/tests/check_check_exit.c

add test for tcase_add_loop_test_raise_signal

There was originally no test for this
------------------------------------------------------------------------
r1121 | brarcher | 2014-02-16 11:22:40 -0500 (Sun, 16 Feb 2014) | 4 lines
Changed paths:
   M /trunk/tests/check_check_master.c

fix spelling issue in test

The code changed 'occured' -> 'occurred', but the tests needed
to be changed as well.
------------------------------------------------------------------------
r1120 | brarcher | 2014-02-16 00:20:41 -0500 (Sun, 16 Feb 2014) | 1 line
Changed paths:
   M /trunk/src/check.h.in

spacing
------------------------------------------------------------------------
r1119 | brarcher | 2014-02-16 00:20:39 -0500 (Sun, 16 Feb 2014) | 4 lines
Changed paths:
   M /trunk/src/check.h.in

remove @since tag from fork_status enum

The intention was to have the @since tags on the
functions instead.
------------------------------------------------------------------------
r1118 | brarcher | 2014-02-15 23:59:03 -0500 (Sat, 15 Feb 2014) | 1 line
Changed paths:
   M /trunk/Makefile.am
   M /trunk/doc/Makefile.am

Making doxygen API page is now part of the release
------------------------------------------------------------------------
r1117 | brarcher | 2014-02-15 23:59:01 -0500 (Sat, 15 Feb 2014) | 4 lines
Changed paths:
   M /trunk/index.html
   M /trunk/web/install.html
   M /trunk/web/users-of-check.html

web: reference new API page

The API page is Doxygen documentation refering to Check's
API in check.h
------------------------------------------------------------------------
r1116 | brarcher | 2014-02-15 23:59:00 -0500 (Sat, 15 Feb 2014) | 1 line
Changed paths:
   A /trunk/doc/doxygen.conf

doc: include doxygen config used to create API web page
------------------------------------------------------------------------
r1115 | brarcher | 2014-02-15 23:58:57 -0500 (Sat, 15 Feb 2014) | 1 line
Changed paths:
   M /trunk/src/check.h.in

Fix a few spelling issues in check.h.in
------------------------------------------------------------------------
r1114 | brarcher | 2014-02-15 23:58:55 -0500 (Sat, 15 Feb 2014) | 4 lines
Changed paths:
   M /trunk/src/check.h.in

Remove documentation at top of check.h.in

This documentation is captured better in other places, including
Check's documentation and examples.
------------------------------------------------------------------------
r1113 | brarcher | 2014-02-15 23:58:52 -0500 (Sat, 15 Feb 2014) | 6 lines
Changed paths:
   M /trunk/src/check.h.in

Make check.h.in Doxygen friendly

All prototypes and enums are now documented using javadoc.
Doxygen is able to convert this file into a web page displaying
Check's API. This will be used on Check's web page to display
what API is available and when it was introduced.
------------------------------------------------------------------------
r1112 | brarcher | 2014-02-14 05:59:03 -0500 (Fri, 14 Feb 2014) | 1 line
Changed paths:
   M /trunk/configure.ac

configure.ac: add comment regarding not using -ansi
------------------------------------------------------------------------
r1111 | brarcher | 2014-02-14 05:59:00 -0500 (Fri, 14 Feb 2014) | 6 lines
Changed paths:
   M /trunk/configure.ac

configure.ac: print summary at end of configure

The reason for the summary is mostly for convenience, when
trying Check out on different platforms.

This includes most of the possible configurable options.
------------------------------------------------------------------------
r1110 | brarcher | 2014-02-08 02:01:42 -0500 (Sat, 08 Feb 2014) | 4 lines
Changed paths:
   M /trunk/doc/check.texi

doc: add info on using Valgrind to find memory leaks

This was prompted from a discussion on Check's user mailing
list.
------------------------------------------------------------------------
r1109 | brarcher | 2014-02-08 02:01:35 -0500 (Sat, 08 Feb 2014) | 1 line
Changed paths:
   M /trunk/doc/check.texi

doc: fix a few spelling mistakes
------------------------------------------------------------------------
r1108 | brarcher | 2014-02-08 02:01:30 -0500 (Sat, 08 Feb 2014) | 4 lines
Changed paths:
   M /trunk/index.html

web: mention logging formats in Check description

For some people, the logging format (e.g. TAP) is also important
to know.
------------------------------------------------------------------------
r1107 | brarcher | 2014-02-05 11:08:57 -0500 (Wed, 05 Feb 2014) | 1 line
Changed paths:
   M /trunk/NEWS

NEWS: Mention example now works with CMake
------------------------------------------------------------------------
r1106 | brarcher | 2014-02-05 11:08:53 -0500 (Wed, 05 Feb 2014) | 1 line
Changed paths:
   M /trunk/NEWS

NEWS: mention fix for check_stdint.h for CMake builds
------------------------------------------------------------------------
r1105 | brarcher | 2014-02-05 11:08:50 -0500 (Wed, 05 Feb 2014) | 1 line
Changed paths:
   M /trunk/NEWS

NEWS: Indent last entry
------------------------------------------------------------------------
r1104 | brarcher | 2014-02-05 11:08:44 -0500 (Wed, 05 Feb 2014) | 1 line
Changed paths:
   M /trunk/doc/check.texi

example: Mention that was tested on Windows 7 with CMake
------------------------------------------------------------------------
r1103 | brarcher | 2014-02-05 11:08:40 -0500 (Wed, 05 Feb 2014) | 1 line
Changed paths:
   M /trunk/doc/check.texi

example: add info on config.h.in, which is part of the CMake example
------------------------------------------------------------------------
r1102 | brarcher | 2014-02-05 11:08:36 -0500 (Wed, 05 Feb 2014) | 1 line
Changed paths:
   M /trunk/doc/check.texi
   M /trunk/doc/example/README

example: update docs to mention CHECK_INSTALL_DIR var
------------------------------------------------------------------------
r1101 | brarcher | 2014-02-05 11:08:31 -0500 (Wed, 05 Feb 2014) | 1 line
Changed paths:
   M /trunk/doc/example/tests/check_money.6.c

remove trailing white space
------------------------------------------------------------------------
r1100 | brarcher | 2014-02-05 11:08:26 -0500 (Wed, 05 Feb 2014) | 1 line
Changed paths:
   M /trunk/doc/example/tests/check_money.3.c
   M /trunk/doc/example/tests/check_money.6.c
   M /trunk/doc/example/tests/check_money.7.c
   M /trunk/doc/example/tests/check_money.c

example: declare variables at top, for MSVC
------------------------------------------------------------------------
r1099 | brarcher | 2014-02-05 11:08:21 -0500 (Wed, 05 Feb 2014) | 4 lines
Changed paths:
   M /trunk/doc/example/tests/check_money.c

example: include stdint.h

Without this, the intmax_t and uintmax_t definitions will not
be available on MSVC
------------------------------------------------------------------------
r1098 | brarcher | 2014-02-05 11:08:15 -0500 (Wed, 05 Feb 2014) | 4 lines
Changed paths:
   M /trunk/doc/example/tests/check_money.c

example: include config.h

Without it, the pid_t definition will be missed, which is needed
by check.h
------------------------------------------------------------------------
r1097 | brarcher | 2014-02-05 11:08:10 -0500 (Wed, 05 Feb 2014) | 1 line
Changed paths:
   M /trunk/doc/example/tests/CMakeLists.txt

example: add note about CHECK_INSTALL_DIR
------------------------------------------------------------------------
r1096 | brarcher | 2014-02-05 11:08:05 -0500 (Wed, 05 Feb 2014) | 1 line
Changed paths:
   M /trunk/doc/example/cmake/config.h.in

example: provide intmax_t and uintmax_t if missing
------------------------------------------------------------------------
r1095 | brarcher | 2014-02-05 11:08:00 -0500 (Wed, 05 Feb 2014) | 10 lines
Changed paths:
   M /trunk/doc/example/cmake/FindCheck.cmake

example: Add CHECK_INSTALL_DIR override for FindCheck.cmake

If pkg-config is not installed on the system, then the
FindCheck.cmake script may fail. This is especially likely
on Windows. In this case, we expect that the variable
CHECK_INSTALL_DIR points to the install location of Check.

If this variable is not defined, then the find_path() and
find_library() functions will try to locate Check the
best that it can.
------------------------------------------------------------------------
r1094 | brarcher | 2014-02-05 11:07:55 -0500 (Wed, 05 Feb 2014) | 3 lines
Changed paths:
   M /trunk/CMakeLists.txt

cmake: install the check_stdint.h header

This header is needed by check.h, but was not installed.
------------------------------------------------------------------------
r1093 | brarcher | 2014-02-03 19:36:15 -0500 (Mon, 03 Feb 2014) | 1 line
Changed paths:
   M /trunk/doc/check.texi

doc: fix typo in check.texi
------------------------------------------------------------------------
r1092 | brarcher | 2014-02-03 19:36:12 -0500 (Mon, 03 Feb 2014) | 1 line
Changed paths:
   M /trunk/doc/check.texi

doc: update check.texi with CMake tutorial
------------------------------------------------------------------------
r1091 | brarcher | 2014-02-03 19:36:04 -0500 (Mon, 03 Feb 2014) | 1 line
Changed paths:
   M /trunk/doc/example/src/money.6.c
   M /trunk/doc/example/src/money.c

example: MSVC wants the var decl at the top
------------------------------------------------------------------------
r1090 | brarcher | 2014-02-03 19:35:56 -0500 (Mon, 03 Feb 2014) | 6 lines
Changed paths:
   M /trunk/src/CMakeLists.txt

cmake: install a check.cmake file to help configure projects

If CMake was used to compile and install Check, then a check.cmake
file was generated and installed along with the library. If a project
wants to link against Check in this situation, then the project
will need to include that check.cmake file.
------------------------------------------------------------------------
r1089 | brarcher | 2014-02-03 19:35:43 -0500 (Mon, 03 Feb 2014) | 9 lines
Changed paths:
   M /trunk/doc/Makefile.am
   A /trunk/doc/example/CMakeLists.txt
   M /trunk/doc/example/README
   A /trunk/doc/example/cmake
   A /trunk/doc/example/cmake/COPYING-CMAKE-SCRIPTS.txt
   A /trunk/doc/example/cmake/FindCheck.cmake
   A /trunk/doc/example/cmake/config.h.in
   A /trunk/doc/example/src/CMakeLists.txt
   A /trunk/doc/example/tests/CMakeLists.txt

example: add CMake based example

This example does the same thing, just with CMake instead
of autotools.

Note that it uses a FindCheck.cmake file to locate
libcheck on the system using pkg-config. This file is
originally from the opensync project. Attribution and info
on how to find the original are included.
------------------------------------------------------------------------
r1088 | brarcher | 2014-02-03 19:35:24 -0500 (Mon, 03 Feb 2014) | 3 lines
Changed paths:
   M /trunk/doc/example/README

example: clarify the autotools based example

there will be a CMake example later
------------------------------------------------------------------------
r1087 | brarcher | 2014-01-26 23:41:52 -0500 (Sun, 26 Jan 2014) | 7 lines
Changed paths:
   M /trunk/tests/test_log_output.sh
   M /trunk/tests/test_output.sh
   M /trunk/tests/test_tap_output.sh
   M /trunk/tests/test_xml_output.sh

source test_output_strings from src tree tests dir

If Check is built out of tree, then the test_output_strings
file was expected to be in the build tree, which is not
where it is; it is in the source tree.

Now find the file in the same directory that the script is in.
------------------------------------------------------------------------
r1086 | brarcher | 2014-01-26 23:41:50 -0500 (Sun, 26 Jan 2014) | 1 line
Changed paths:
   M /trunk/tests/Makefile.am

Include test_output_strings in EXTRA_DIST
------------------------------------------------------------------------
r1085 | brarcher | 2014-01-26 22:18:47 -0500 (Sun, 26 Jan 2014) | 1 line
Changed paths:
   M /trunk/doc/check.texi

doc: mention setting '-' as filename to log to stdout
------------------------------------------------------------------------
r1084 | brarcher | 2014-01-26 22:18:45 -0500 (Sun, 26 Jan 2014) | 1 line
Changed paths:
   M /trunk/NEWS

NEWS: Mention logging to stdout if file name is "-"
------------------------------------------------------------------------
r1083 | brarcher | 2014-01-26 22:18:44 -0500 (Sun, 26 Jan 2014) | 1 line
Changed paths:
   M /trunk/NEWS

NEWS: start heading for ongoing development
------------------------------------------------------------------------
r1082 | brarcher | 2014-01-26 22:18:42 -0500 (Sun, 26 Jan 2014) | 1 line
Changed paths:
   M /trunk/TODO

TODO: Update with info on previous and next release
------------------------------------------------------------------------
r1081 | brarcher | 2014-01-26 22:18:40 -0500 (Sun, 26 Jan 2014) | 19 lines
Changed paths:
   M /trunk/doc/example/src/main.c
   M /trunk/doc/example/src/money.2.h
   M /trunk/doc/example/src/money.3.c
   M /trunk/doc/example/src/money.4.c
   M /trunk/doc/example/src/money.5.c
   M /trunk/doc/example/src/money.6.c
   M /trunk/doc/example/src/money.c
   M /trunk/doc/example/src/money.h
   M /trunk/doc/example/tests/check_money.1.c
   M /trunk/doc/example/tests/check_money.2.c
   M /trunk/doc/example/tests/check_money.3.c
   M /trunk/doc/example/tests/check_money.6.c
   M /trunk/doc/example/tests/check_money.7.c
   M /trunk/doc/example/tests/check_money.c
   M /trunk/lib/alarm.c
   M /trunk/lib/clock_gettime.c
   M /trunk/lib/gettimeofday.c
   M /trunk/lib/libcompat.c
   M /trunk/lib/libcompat.h
   M /trunk/lib/localtime_r.c
   M /trunk/lib/malloc.c
   M /trunk/lib/realloc.c
   M /trunk/lib/strdup.c
   M /trunk/lib/strsignal.c
   M /trunk/lib/timer_create.c
   M /trunk/lib/timer_delete.c
   M /trunk/lib/timer_settime.c
   M /trunk/src/check.c
   M /trunk/src/check.h.in
   M /trunk/src/check_error.c
   M /trunk/src/check_error.h
   M /trunk/src/check_impl.h
   M /trunk/src/check_list.c
   M /trunk/src/check_list.h
   M /trunk/src/check_log.c
   M /trunk/src/check_log.h
   M /trunk/src/check_msg.c
   M /trunk/src/check_msg.h
   M /trunk/src/check_pack.c
   M /trunk/src/check_pack.h
   M /trunk/src/check_print.c
   M /trunk/src/check_print.h
   M /trunk/src/check_run.c
   M /trunk/src/check_str.c
   M /trunk/src/check_str.h
   M /trunk/tests/ex_output.c

Run indent on source

The indent program was run against the source, to enforce a consistent
layout and spacing. The following arguments were used:

--blank-lines-after-declarations --blank-lines-after-procedures
--brace-indent0 --case-indentation4 --case-brace-indentation0
--no-space-after-function-call-names --no-space-after-casts
--declaration-indentation1 --no-blank-lines-after-commas
--braces-after-struct-decl-line --braces-after-func-def-line
--continue-at-parentheses --preprocessor-indentation0  --indent-level4
--no-tabs --dont-break-procedure-type --no-space-after-parentheses
--no-space-after-for --no-space-after-if --no-space-after-while

Note that this was not run againt the test files for two reasons:
1) some of the tests depend on the failures occuring on specific lines,
and I did not want to go through and fix that for each test.
2) indent does not know what to do with END_TEST, and thinks it is a
type modifier for the function that follows.
------------------------------------------------------------------------
r1080 | brarcher | 2014-01-26 22:18:33 -0500 (Sun, 26 Jan 2014) | 5 lines
Changed paths:
   M /trunk/tests/ex_output.c
   M /trunk/tests/test_output.sh

Add test for logging to stdout

This checks that both setting "-" with the related
environment and with the srummer_set_*() call both
result in printing the logging data to stdout.
------------------------------------------------------------------------
r1079 | brarcher | 2014-01-26 22:18:32 -0500 (Sun, 26 Jan 2014) | 4 lines
Changed paths:
   M /trunk/tests/test_log_output.sh
   M /trunk/tests/test_output.sh
   A /trunk/tests/test_output_strings
   M /trunk/tests/test_tap_output.sh
   M /trunk/tests/test_xml_output.sh

move all expected output strings to a common file

The test_output.sh script will eventually need strings
from the logging types.
------------------------------------------------------------------------
r1078 | brarcher | 2014-01-26 22:18:29 -0500 (Sun, 26 Jan 2014) | 4 lines
Changed paths:
   D /trunk/tests/ex_xml_output.exe

remove file accidentally checked in

This file, a binary from a test run, should never have been
checked in.
------------------------------------------------------------------------
r1077 | brarcher | 2014-01-26 22:18:28 -0500 (Sun, 26 Jan 2014) | 5 lines
Changed paths:
   M /trunk/src/check_log.c

if log file name is "-", print to stdout instead

This is mostly to support logging TAP to stdout instead of
to a file. However, this is made more general and applies
to all log output types.
------------------------------------------------------------------------
r1076 | brarcher | 2014-01-26 22:18:26 -0500 (Sun, 26 Jan 2014) | 1 line
Changed paths:
   M /trunk/src/check_log.c

move common log opening code to common function
------------------------------------------------------------------------
r1075 | brarcher | 2014-01-26 22:18:24 -0500 (Sun, 26 Jan 2014) | 5 lines
Changed paths:
   M /trunk/src/check_log.c

change argument for 'close' from 2 -> 1

The close variable determines if the file will be closed
after logging completes. It is used as a flag, and only really
needs to be '0' or '1'. A value of '2' is just confusing.
------------------------------------------------------------------------
r1074 | brarcher | 2014-01-25 13:18:34 -0500 (Sat, 25 Jan 2014) | 1 line
Changed paths:
   M /trunk/src/check_log.c

Add missing enumeration value to switch
------------------------------------------------------------------------
r1073 | brarcher | 2014-01-25 13:18:32 -0500 (Sat, 25 Jan 2014) | 3 lines
Changed paths:
   M /trunk/tests/check_check_msg.c

include headers to get tr_free() prototype

to remove a warning
------------------------------------------------------------------------
r1072 | brarcher | 2014-01-25 13:18:31 -0500 (Sat, 25 Jan 2014) | 3 lines
Changed paths:
   M /trunk/tests/check_mem_leaks.c

include check_check.h, to avoid warnings

Needed the prototypes of the make_*_suite() calls
------------------------------------------------------------------------
r1071 | brarcher | 2014-01-25 13:18:28 -0500 (Sat, 25 Jan 2014) | 1 line
Changed paths:
   M /trunk/tests/check_mem_leaks.c

remove main() args to remove warnings
------------------------------------------------------------------------
r1070 | brarcher | 2014-01-25 13:18:25 -0500 (Sat, 25 Jan 2014) | 12 lines
Changed paths:
   M /trunk/configure.ac

removing pedantic warning

This results in printing warnings about the assert macros and
comma pasting, such as the following:

In file included from check_check_master.c:6:
../src/check.h:301:75: warning: Use of comma pasting extension is non-portable
      [-pedantic]
  ...__LINE__, "Assertion '"#expr"' failed" , ## __VA_ARGS__, NULL)
                                              ^

To remove this warning, the macros would need to be reworked.
------------------------------------------------------------------------
r1069 | brarcher | 2014-01-25 13:18:23 -0500 (Sat, 25 Jan 2014) | 3 lines
Changed paths:
   M /trunk/src/check_log.c

marking second arg in tap_lfun as unused

to remove a warning
------------------------------------------------------------------------
r1068 | brarcher | 2014-01-25 13:18:21 -0500 (Sat, 25 Jan 2014) | 5 lines
Changed paths:
   M /trunk/configure.ac

removing -Wmissing-noreturn

This warnings points out that many unit tests could be
declared as 'noreturn'. As all tests could or could not
return (it is up to them), the warning is being dropped.
------------------------------------------------------------------------
r1067 | brarcher | 2014-01-25 13:18:19 -0500 (Sat, 25 Jan 2014) | 3 lines
Changed paths:
   M /trunk/tests/check_check_fork.c

Only pass non-const data to putenv

The definition of putenv accepts non const data only.
------------------------------------------------------------------------
r1066 | brarcher | 2014-01-25 13:18:17 -0500 (Sat, 25 Jan 2014) | 9 lines
Changed paths:
   M /trunk/src/check_print.c

simplify path and file name handling and honor const rules

the path and file name variables are not const, but were assigned
const strings. However, both variables could be reassigned
non const data, and the path_name could be allocated data.
To prevent this mix, they are both non-const and initially NULL.
If they are NULL during the print, they are replaced before printing.
Further, the path_name is now always free'd at the end, as it is
either NULL or allocated memory.
------------------------------------------------------------------------
r1065 | brarcher | 2014-01-25 13:18:15 -0500 (Sat, 25 Jan 2014) | 5 lines
Changed paths:
   M /trunk/tests/check_list.c

do not pass const pointer to list API in unit test

The check list API does not accept const pointers.
Only pass in strings that are mutable in the check_list
unit tests.
------------------------------------------------------------------------
r1064 | brarcher | 2014-01-25 13:18:14 -0500 (Sat, 25 Jan 2014) | 12 lines
Changed paths:
   M /trunk/src/check_msg.c

no longer violate the const part of 'const char *' in send functions.

FailMsg and LocMsg contain char* fields which are not const. Assigning
the passed const char* to a FailMsg or LocMsg violates the const.
To avoid this, a copy of the data is made using strdup. Yes, the
extra copy is functionally unnecessary, but to honor the const
it must be done.

The alternative is to make the char* fields in FailMsg and LocMsg
const. This will not work, however, as those fields are sometimes
assigned malloc'ed data in the code and free'd. You cannot pass
a const pointer to free without a warning.
------------------------------------------------------------------------
r1063 | brarcher | 2014-01-25 13:18:12 -0500 (Sat, 25 Jan 2014) | 8 lines
Changed paths:
   M /trunk/src/check_list.c
   M /trunk/src/check_list.h

Removing const identifier from List data structure

The const identifier on the data field of List would imply that
nothing is ever done to modify or destroy the data. However, the
data can be accessed later and modified or freed, as was being done
in places. By removing the const identifiers, the implied safety
of the stored values (which is being violated anyway) is not
advertised in the API.
------------------------------------------------------------------------
r1062 | brarcher | 2014-01-25 13:18:10 -0500 (Sat, 25 Jan 2014) | 1 line
Changed paths:
   M /trunk/src/check_pack.c

Silence type conversion warnings in the (u)pack_int functions
------------------------------------------------------------------------
r1061 | brarcher | 2014-01-25 13:18:08 -0500 (Sat, 25 Jan 2014) | 10 lines
Changed paths:
   M /trunk/src/check.c
   M /trunk/src/check_impl.h
   M /trunk/src/check_run.c

change expected exit values of tests to consistently be signed chars

when a forked process finishes, waitpid() will return the status
as an int. Several macros determine what the status means.
WEXITSTATUS() is defined as returning the low-order 8 bits of the status
argument that the child process passed to _exit() or exit(), or the
value the child process returned from main(). It makes sense for the
value to be stored as either a signed or unsigned char. As the
decision is arbitrary (e.g. it only matters internally to check),
signed is used to keep consistent with the _tcase_add_test function.
------------------------------------------------------------------------
r1060 | brarcher | 2014-01-25 13:18:05 -0500 (Sat, 25 Jan 2014) | 5 lines
Changed paths:
   M /trunk/src/check_log.c

Changing duration returned from DIFF_IN_USEC to unsigned long

In the case that the diff returned from the start and end of the test
overflowed an unsigned int, making the container for the result
an unsigned long. (This is the type returned from the macro anyway).
------------------------------------------------------------------------
r1059 | brarcher | 2014-01-21 22:08:52 -0500 (Tue, 21 Jan 2014) | 3 lines
Changed paths:
   D /trunk/patches/README
   D /trunk/patches/fbeckmann.windows.patch
   D /trunk/patches/mloskot.windows.patch

remove unnecessary patches for Windows

A superset of these patches is incorporated into Check proper.
------------------------------------------------------------------------
r1058 | brarcher | 2014-01-20 23:05:47 -0500 (Mon, 20 Jan 2014) | 1 line
Changed paths:
   M /trunk/index.html

web: update release side-bar for 0.9.12
------------------------------------------------------------------------
r1057 | brarcher | 2014-01-20 23:05:44 -0500 (Mon, 20 Jan 2014) | 1 line
Changed paths:
   M /trunk/index.html

web: mention that MSVC is supported by Check
------------------------------------------------------------------------
r1055 | brarcher | 2014-01-20 22:11:24 -0500 (Mon, 20 Jan 2014) | 1 line
Changed paths:
   M /trunk/NEWS
   M /trunk/configure.ac

* Update for release
------------------------------------------------------------------------
r1054 | brarcher | 2014-01-16 18:08:03 -0500 (Thu, 16 Jan 2014) | 1 line
Changed paths:
   M /trunk/web/users-of-check.html

web: add new user of check
------------------------------------------------------------------------
r1053 | brarcher | 2014-01-12 15:19:41 -0500 (Sun, 12 Jan 2014) | 3 lines
Changed paths:
   M /trunk/doc/check.texi

doc: fix logic typo in fail_* API description

Patch provided by Bill Kolokithas
------------------------------------------------------------------------
r1052 | brarcher | 2014-01-12 15:19:37 -0500 (Sun, 12 Jan 2014) | 3 lines
Changed paths:
   M /trunk/checkmk/doc/checkmk.1

checkmk: list new supported directives

Patch provided by Bill Kolokithas
------------------------------------------------------------------------
r1051 | brarcher | 2014-01-12 15:19:34 -0500 (Sun, 12 Jan 2014) | 3 lines
Changed paths:
   M /trunk/checkmk/doc/checkmk.1

checkmk: replace usage of deprecated check calls

Patch provided by Bill Kolokithas
------------------------------------------------------------------------
r1050 | brarcher | 2014-01-08 22:51:55 -0500 (Wed, 08 Jan 2014) | 5 lines
Changed paths:
   M /trunk/tests/check_check_pack.c

check_check_pack: use NULL as 'invalid string' instead of a literal

Just in case something does go wrong, the string literal could
end up being free'd. To prevent this, use NULL as the "this should
not happen" example instead.
------------------------------------------------------------------------
r1049 | brarcher | 2014-01-08 22:51:53 -0500 (Wed, 08 Jan 2014) | 1 line
Changed paths:
   M /trunk/tests/check_check_fixture.c

check_check_fixture: free TestResult array when finished
------------------------------------------------------------------------
r1048 | brarcher | 2014-01-08 22:51:50 -0500 (Wed, 08 Jan 2014) | 1 line
Changed paths:
   M /trunk/tests/check_check_pack.c

check_check_pack: free result_file at end of test
------------------------------------------------------------------------
r1047 | brarcher | 2014-01-06 22:24:48 -0500 (Mon, 06 Jan 2014) | 4 lines
Changed paths:
   M /trunk/Makefile.am

autotools/cmake: add cmake files to distribution

Otherwise, the cmake files will not get distributed with
the next check release.
------------------------------------------------------------------------
r1046 | brarcher | 2014-01-06 22:24:44 -0500 (Mon, 06 Jan 2014) | 4 lines
Changed paths:
   M /trunk/tests/test_vars.in

test_vars: add extra spaces around !=

sh is picky about space, and without it the last part
of the condition always evaluates to true.
------------------------------------------------------------------------
r1045 | brarcher | 2014-01-06 08:25:14 -0500 (Mon, 06 Jan 2014) | 6 lines
Changed paths:
   M /trunk/tests/test_vars.in

test_vars: also check @IS_MSVC@ content

On autotools if @IS_MSVC@ is not defined, it is left as a string
literal, instead of being nothing. Because of that, the content
is now also checked. For CMake and MSVC, @IS_MSVC@ will be '1'.
Otherwise, it can be anything else.
------------------------------------------------------------------------
r1044 | brarcher | 2014-01-05 23:41:54 -0500 (Sun, 05 Jan 2014) | 4 lines
Changed paths:
   M /trunk/web/install.html

web: mention "Windows" on all Windows options

All the other options mention their OS, Windows options
should to.
------------------------------------------------------------------------
r1043 | brarcher | 2014-01-05 23:41:53 -0500 (Sun, 05 Jan 2014) | 1 line
Changed paths:
   M /trunk/NEWS

NEWS: Add information on Check with MSVC
------------------------------------------------------------------------
r1042 | brarcher | 2014-01-05 23:41:51 -0500 (Sun, 05 Jan 2014) | 1 line
Changed paths:
   M /trunk/NEWS

NEWS: Add clarification to running check_check in Windows
------------------------------------------------------------------------
r1041 | brarcher | 2014-01-05 23:41:48 -0500 (Sun, 05 Jan 2014) | 3 lines
Changed paths:
   M /trunk/src/check_print.c

check for both / and \ when logging XML

Windows uses \ for directory delimitors, so detect that as well
------------------------------------------------------------------------
r1040 | brarcher | 2014-01-05 23:41:46 -0500 (Sun, 05 Jan 2014) | 5 lines
Changed paths:
   M /trunk/src/check_log.c

Only create datetime string if localtime_r succeeded

On MSVC localtime_r (which redirects to localtime in libcompat)
can fail. The reason is not yet known. Instead of printing
garbage in this case, simply do not print the date time.
------------------------------------------------------------------------
r1039 | brarcher | 2014-01-05 23:41:44 -0500 (Sun, 05 Jan 2014) | 1 line
Changed paths:
   M /trunk/lib/libcompat.h

libcompat: fix typo in comment
------------------------------------------------------------------------
r1038 | brarcher | 2014-01-05 23:41:41 -0500 (Sun, 05 Jan 2014) | 10 lines
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/lib/localtime_r.c

libcompat: remove alternatives for localtime_r

returning to the previous localtime_r implementation that uses
localtime. The _localtime64_s implementation had issues, in that
it wanted to write to the "now" variable. (Should have been
passed "result" instead). Further, on MSVC (for which this replacement
is being considered) localtime redirects to _localtime64_s anyway.

For how Check is using localtime_r, just using localtime is
sufficient.
------------------------------------------------------------------------
r1037 | brarcher | 2014-01-05 23:41:39 -0500 (Sun, 05 Jan 2014) | 5 lines
Changed paths:
   M /trunk/tests/CMakeLists.txt
   M /trunk/tests/test_vars.in

test_vars: add correct slash if on Unix or MSVC

The IS_MSVC variable is only set from CMake, and only if
the platform is MSVC. If it is not set, the Unix slash will
be used.
------------------------------------------------------------------------
r1036 | brarcher | 2014-01-05 23:41:36 -0500 (Sun, 05 Jan 2014) | 1 line
Changed paths:
   M /trunk/tests/test_log_output.sh
   M /trunk/tests/test_output.sh
   M /trunk/tests/test_tap_output.sh

test_vars: deterine final value for SRCDIR in test_vars
------------------------------------------------------------------------
r1035 | brarcher | 2014-01-05 23:41:34 -0500 (Sun, 05 Jan 2014) | 1 line
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/tests/CMakeLists.txt

cmake: configure test_vars in the tests' CMakeLists.txt
------------------------------------------------------------------------
r1034 | brarcher | 2014-01-05 23:41:32 -0500 (Sun, 05 Jan 2014) | 1 line
Changed paths:
   M /trunk/web/install.html

web: add help for compiling Check with MSVC
------------------------------------------------------------------------
r1033 | brarcher | 2014-01-05 23:41:30 -0500 (Sun, 05 Jan 2014) | 1 line
Changed paths:
   M /trunk/web/install.html

web: add help for compiling check using Visual Studios
------------------------------------------------------------------------
r1032 | brarcher | 2014-01-05 23:41:28 -0500 (Sun, 05 Jan 2014) | 1 line
Changed paths:
   M /trunk/NEWS

NEWS: update with info on new Check unit tests
------------------------------------------------------------------------
r1031 | brarcher | 2014-01-04 14:39:44 -0500 (Sat, 04 Jan 2014) | 1 line
Changed paths:
   M /trunk/tests/test_output.sh

test_output.sh: fix typo in variable name
------------------------------------------------------------------------
r1030 | brarcher | 2014-01-04 14:26:38 -0500 (Sat, 04 Jan 2014) | 5 lines
Changed paths:
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

only test test_invalid_set_fork_status if not mem leak checking

This test leaks memory, as the allocated suite, test case, and
suite runner remain after the call to srunner_run_all() calls
exit(2) due to the error.
------------------------------------------------------------------------
r1029 | brarcher | 2014-01-04 14:26:36 -0500 (Sat, 04 Jan 2014) | 4 lines
Changed paths:
   M /trunk/src/check_run.c

check_run.c: remove unreachable code

This code cannot be reached, as tr->msg is never not NULL in
this scope.
------------------------------------------------------------------------
r1028 | brarcher | 2014-01-04 13:34:10 -0500 (Sat, 04 Jan 2014) | 4 lines
Changed paths:
   M /trunk/tests/check_check_pack.c

check_check_pack: add tests for using pack(), upack() improperly

Sure, check does not use these improperly, but if we did,
just making sure they respond as expected.
------------------------------------------------------------------------
r1027 | brarcher | 2014-01-04 13:34:08 -0500 (Sat, 04 Jan 2014) | 7 lines
Changed paths:
   M /trunk/tests/test_output.sh

test_output.sh: add tests for srunner_print()

There were no tests for srunner_print(). These tests, when run
with the STDOUT_DUMP output type, will output the normal
output to stdout, then call
   srunner_print()
on each output type, dumping that to stdout.
------------------------------------------------------------------------
r1026 | brarcher | 2014-01-04 13:34:06 -0500 (Sat, 04 Jan 2014) | 1 line
Changed paths:
   M /trunk/tests/test_output.sh

test_output.sh: spacing
------------------------------------------------------------------------
r1025 | brarcher | 2014-01-04 13:34:05 -0500 (Sat, 04 Jan 2014) | 4 lines
Changed paths:
   M /trunk/tests/test_output.sh

test_output.sh: separate progress and result from expected output

This separation will make testing the output of srunner_print()
easier later on.
------------------------------------------------------------------------
r1024 | brarcher | 2014-01-04 13:34:03 -0500 (Sat, 04 Jan 2014) | 5 lines
Changed paths:
   M /trunk/tests/ex_output.c

ex_output.c: add new output mode STDOUT_DUMP

This mode will print the normal suite progress and result to
stdout, but then dump every mode using
  srunner_print()
------------------------------------------------------------------------
r1023 | brarcher | 2014-01-04 13:34:01 -0500 (Sat, 04 Jan 2014) | 5 lines
Changed paths:
   M /trunk/src/check_log.c

check_log.c: remove unnecessary checks for CK_ENV

this code is unnecessary, as srunner_register_lfun will
determine the real print mode before stdout_lfun gets called.
That is, CK_ENV will never be passed.
------------------------------------------------------------------------
r1022 | brarcher | 2014-01-04 13:33:59 -0500 (Sat, 04 Jan 2014) | 1 line
Changed paths:
   M /trunk/tests/test_output.sh

test_output.sh: spacing
------------------------------------------------------------------------
r1021 | brarcher | 2014-01-04 13:33:58 -0500 (Sat, 04 Jan 2014) | 3 lines
Changed paths:
   M /trunk/tests/ex_output.c
   M /trunk/tests/test_output.sh

Add tests for CK_VERBOSITY env var

There were previously no tests that checked this.
------------------------------------------------------------------------
r1020 | brarcher | 2014-01-04 13:33:56 -0500 (Sat, 04 Jan 2014) | 3 lines
Changed paths:
   M /trunk/tests/test_output.sh

test_output.sh: do not include leading 'x' in expected output

Mostly because it can be confusing.
------------------------------------------------------------------------
r1019 | brarcher | 2014-01-04 13:33:55 -0500 (Sat, 04 Jan 2014) | 1 line
Changed paths:
   M /trunk/tests/test_output.sh

test_output.sh: rename variables to make sense
------------------------------------------------------------------------
r1018 | brarcher | 2014-01-04 13:33:53 -0500 (Sat, 04 Jan 2014) | 3 lines
Changed paths:
   M /trunk/tests/check_list.c

add test for check_list_advance(NULL)

There had been no test yet for this case.
------------------------------------------------------------------------
r1017 | brarcher | 2014-01-04 13:33:51 -0500 (Sat, 04 Jan 2014) | 1 line
Changed paths:
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

Add test for setting invalid for status
------------------------------------------------------------------------
r1016 | brarcher | 2014-01-04 13:33:49 -0500 (Sat, 04 Jan 2014) | 5 lines
Changed paths:
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

Add new test case for Check error printouts

When check hits an eprintf() call, this is a "Check error printout".
This test case, only available when fork() is available, will
test the instances when check should hit an eprintf() and exit.
------------------------------------------------------------------------
r1015 | brarcher | 2014-01-04 13:33:46 -0500 (Sat, 04 Jan 2014) | 4 lines
Changed paths:
   M /trunk/tests/check_check_sub.c

do not compile in msg and fork tests suites if fork() disabled

The tests were already disabled, but the TCase was still there,
but empty.
------------------------------------------------------------------------
r1014 | brarcher | 2014-01-04 13:33:45 -0500 (Sat, 04 Jan 2014) | 1 line
Changed paths:
   M /trunk/tests/check_check_master.c

Add /* HAVE_FORK */ comment
------------------------------------------------------------------------
r1013 | brarcher | 2014-01-04 13:33:43 -0500 (Sat, 04 Jan 2014) | 4 lines
Changed paths:
   M /trunk/src/check_run.c

check_run.c: also check HAVE_FORK==0 for fork disabled

Using CMake, !defined(HAVE_FORK) is not sufficient to determine
if fork is unavailable, has HAVE_FORK=0 is possible.
------------------------------------------------------------------------
r1012 | brarcher | 2014-01-04 13:33:41 -0500 (Sat, 04 Jan 2014) | 3 lines
Changed paths:
   M /trunk/src/check.c

check.c: remove tr_reset()

This function was never called anywhere
------------------------------------------------------------------------
r1011 | brarcher | 2014-01-04 13:33:39 -0500 (Sat, 04 Jan 2014) | 3 lines
Changed paths:
   M /trunk/src/check.c

check.c: remove debug

removing some debug printing that was left in.
------------------------------------------------------------------------
r1010 | brarcher | 2014-01-04 13:33:37 -0500 (Sat, 04 Jan 2014) | 3 lines
Changed paths:
   M /trunk/tests/check_check_sub.c

check_check_sub: add tests for suite_tcase(NULL,NULL)

Previously a test that exercise this did not exist
------------------------------------------------------------------------
r1009 | brarcher | 2014-01-04 13:33:35 -0500 (Sat, 04 Jan 2014) | 5 lines
Changed paths:
   M /trunk/src/check.h.in

check.h: export suite_tcase() function

Because it did not have CK_EXPORT in front of it, the symbol
was not being exported. It looks like this function should
be callable, but it could not before.
------------------------------------------------------------------------
r1008 | brarcher | 2014-01-02 08:19:28 -0500 (Thu, 02 Jan 2014) | 3 lines
Changed paths:
   M /trunk/src/CMakeLists.txt

cmake: install check.h from the src directory

cmake was looking for check.h in the root directory, not under src.
------------------------------------------------------------------------
r1007 | brarcher | 2014-01-02 08:19:26 -0500 (Thu, 02 Jan 2014) | 3 lines
Changed paths:
   M /trunk/CMakeLists.txt

cmake: only run shell unit tests if sh interpreter is available

Namely, on the MSVC IDE, there is none.
------------------------------------------------------------------------
r1006 | brarcher | 2014-01-01 21:43:24 -0500 (Wed, 01 Jan 2014) | 1 line
Changed paths:
   M /trunk/NEWS

NEWS: mention status of MSVC: check_check passes
------------------------------------------------------------------------
r1005 | brarcher | 2014-01-01 21:43:22 -0500 (Wed, 01 Jan 2014) | 7 lines
Changed paths:
   M /trunk/cmake/config.h.in

cmake: remove HAVE_* for snprintf in config.h.in

Having these caused MSVC to not compile, not having them
makes Linux fail prior to adding these definitions
in CMakeLists.txt. As they now cause problems for MSVC, but
the CMakeLists.txt definitions allow Linux to compile, there
should not be any issue.
------------------------------------------------------------------------
r1004 | brarcher | 2014-01-01 21:43:19 -0500 (Wed, 01 Jan 2014) | 8 lines
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/lib/CMakeLists.txt

cmake: move snprintf definitions to make cmake file

Keeping them in lib/CMakeLists.txt made them only visible
in libcompat. Moving them to the main CMakeLists.txt file
makes them visible to everything.

In addition, also setting the HAVE_* definitions if snprintf
is available.
------------------------------------------------------------------------
r1003 | brarcher | 2014-01-01 21:43:17 -0500 (Wed, 01 Jan 2014) | 3 lines
Changed paths:
   M /trunk/lib/CMakeLists.txt

cmake: do not check HAVE__SNPRINTF

This did not hurt anything, but was missed earlier
------------------------------------------------------------------------
r1002 | brarcher | 2014-01-01 21:43:15 -0500 (Wed, 01 Jan 2014) | 1 line
Changed paths:
   M /trunk/cmake/config.h.in

cmake: add printf entries to config.h.in
------------------------------------------------------------------------
r1001 | brarcher | 2014-01-01 21:43:13 -0500 (Wed, 01 Jan 2014) | 4 lines
Changed paths:
   M /trunk/cmake/config.h.in

cmake: remove many unneeded entries in config.h.in

These entries are probably not hurting anything, but
are unnecessary.
------------------------------------------------------------------------
r1000 | brarcher | 2014-01-01 21:43:11 -0500 (Wed, 01 Jan 2014) | 1 line
Changed paths:
   M /trunk/lib/libcompat.h

libcompat: remove ; from #defines
------------------------------------------------------------------------
r999 | brarcher | 2014-01-01 21:43:09 -0500 (Wed, 01 Jan 2014) | 4 lines
Changed paths:
   M /trunk/tests/check_check_sub.c

Check for MEMORY_LEAKING_TESTS_ENABLED consistently

The line number table did not have the related test
compiled out when it should have.
------------------------------------------------------------------------
r998 | brarcher | 2014-01-01 21:43:07 -0500 (Wed, 01 Jan 2014) | 6 lines
Changed paths:
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

Check for __GNUC__ consistently

Some tests will only be executed if compiled on gcc. However,
some of the tables did not have the related entries
compiled out when compiled on MSVC. This lead to crashes during
tests. Removing the entries correctly prevents this.
------------------------------------------------------------------------
r997 | brarcher | 2014-01-01 21:43:05 -0500 (Wed, 01 Jan 2014) | 8 lines
Changed paths:
   M /trunk/tests/check_check_fixture.c
   M /trunk/tests/check_check_fork.c
   M /trunk/tests/check_check_main.c
   M /trunk/tests/check_mem_leaks.c

Always check HAVE_FORK==1 if defined

For autotools this is not an issue, as HAVE_FORK is only
defined if fork is available, and thus HAVE_FORK==1.

Cmake, though, will define it either way, so it is possible
for HAVE_FORK==0. Most of these were caught earlier, but
a few were missed.
------------------------------------------------------------------------
r996 | brarcher | 2014-01-01 21:43:02 -0500 (Wed, 01 Jan 2014) | 4 lines
Changed paths:
   M /trunk/lib/libcompat.h

libcompat: put snprintf defines in libcompat.h

On MSVC, the cmake definitions do not seem to work as expected.
Putting the snprintf and vsnprintf definitions in libcompat.h.
------------------------------------------------------------------------
r995 | brarcher | 2014-01-01 21:43:00 -0500 (Wed, 01 Jan 2014) | 6 lines
Changed paths:
   M /trunk/lib/libcompat.h

libcompat: do not use _snprintf even if available

After going back and forth on this one, it seems simpler to
use libcompat's snprintf, even if _snprintf is available.

There were issues on MSVC using _snprintf.
------------------------------------------------------------------------
r994 | brarcher | 2014-01-01 21:42:57 -0500 (Wed, 01 Jan 2014) | 3 lines
Changed paths:
   M /trunk/lib/CMakeLists.txt

cmake: add definitions for remaining printf functions

Just in case they are needed for snprintf.c
------------------------------------------------------------------------
r993 | brarcher | 2014-01-01 21:42:55 -0500 (Wed, 01 Jan 2014) | 5 lines
Changed paths:
   M /trunk/CMakeLists.txt

cmake: add checks for remaining printf functions

snprintf.c expects several HAVE_* definitions, and by only checking
snprintf, most are unavailable which cause linking problems
with MSVC
------------------------------------------------------------------------
r992 | brarcher | 2014-01-01 21:42:50 -0500 (Wed, 01 Jan 2014) | 1 line
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/tests/CMakeLists.txt

cmake: enable unit test test_check_nofork.sh
------------------------------------------------------------------------
r991 | brarcher | 2014-01-01 21:42:47 -0500 (Wed, 01 Jan 2014) | 1 line
Changed paths:
   M /trunk/CMakeLists.txt

cmake: extract check version from configure.ac
------------------------------------------------------------------------
r990 | brarcher | 2014-01-01 21:42:45 -0500 (Wed, 01 Jan 2014) | 4 lines
Changed paths:
   M /trunk/CMakeLists.txt

cmake: remove unnecessary check for strerror()

There is no replacement for strerror currently. If this check
failed, nothing would be done anyway.
------------------------------------------------------------------------
r989 | brarcher | 2014-01-01 21:42:43 -0500 (Wed, 01 Jan 2014) | 9 lines
Changed paths:
   M /trunk/tests/check_check_sub.c

check_check_sub: sleep during test_eternal

For some reason on Linux (maybe other systems) if
check_check is canceled (e.g. Ctrl+C) when the test_eternal
is running, check_check will still run in the background
on this test. Because the test is in a tight loop,
it eats lots of CPU. Replacing the busy loop with the sleep
does not fix the problem, but at least when it happens
it will not take lots of CPU.
------------------------------------------------------------------------
r988 | brarcher | 2014-01-01 21:42:40 -0500 (Wed, 01 Jan 2014) | 12 lines
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/configure.ac
   M /trunk/lib/CMakeLists.txt
   M /trunk/lib/libcompat.h
   D /trunk/lib/sleep.c

libcompat: remove replacement for sleep()

Before working on MSVC support, the replacement sleep() call
only called assert(). Instead, it was assumed that the related
code would not be called, as the only platform that did not
provide a sleep() call also did not provide fork() (e.g. Windows),
so the related code never got executed.

As we still do not provide a fork(), the sleep() replacement is
unnecessary as it is never called. If, in the future, Check
provides a fork() replacement, then a sleep() replacement will
make sense.
------------------------------------------------------------------------
r987 | brarcher | 2014-01-01 21:42:37 -0500 (Wed, 01 Jan 2014) | 9 lines
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/configure.ac
   M /trunk/lib/CMakeLists.txt
   M /trunk/lib/libcompat.h
   D /trunk/lib/unsetenv.c

libcompat: remove unsetenv replacement

no system to date has been found that provides setenv
but not unsetenv. If setenv is unavailable, all related
tests are disabled at compile time. This stub replacement
does not serve any purpose. If in the future a system
with unsetenv is found that does provide setenv, then
the unit tests will need to disable all tests that
require unsetenv.
------------------------------------------------------------------------
r986 | brarcher | 2014-01-01 21:42:33 -0500 (Wed, 01 Jan 2014) | 13 lines
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/configure.ac
   M /trunk/lib/CMakeLists.txt
   M /trunk/lib/libcompat.h
   D /trunk/lib/putenv.c

libcompat: remove putenv replacement

the putenv replacement did nothing except call abort().
There is no platform (yet) which did not have putenv()
but did have fork(). For this reason, the assert()
has yet to be hit, meaning that the stub itself is
pointless.

If in the future a platform is found to have fork() but
not putenv(), then the related tests need to be disabled
at compile time using something like
  #if defined(HAVE_DECL_PUTENV)
along with a related AC_CHECK_DECLS check.
------------------------------------------------------------------------
r985 | brarcher | 2014-01-01 21:42:31 -0500 (Wed, 01 Jan 2014) | 4 lines
Changed paths:
   M /trunk/CMakeLists.txt

cmake: remove unnecessary check for getenv()

autotools does not currently check for getenv(), so there
is nothing to do if it is actually missing.
------------------------------------------------------------------------
r984 | brarcher | 2014-01-01 21:42:29 -0500 (Wed, 01 Jan 2014) | 8 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/lib/CMakeLists.txt
   M /trunk/lib/libcompat.h
   D /trunk/lib/setenv.c

libcompat: do not offer to replace setenv

if setenv is missing on the system, the only thing that is
affected are unit tests. Check itself does not need setenv.
In this case, the affected unit tests are not compiled in.

This change removed the stub setenv replacement which was
never called, even when a system did not provide it.
------------------------------------------------------------------------
r983 | brarcher | 2014-01-01 21:42:26 -0500 (Wed, 01 Jan 2014) | 6 lines
Changed paths:
   M /trunk/lib/libcompat.h
   M /trunk/tests/check_check_log.c
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_selective.c
   M /trunk/tests/check_check_sub.c

replace how setenv availability is detected

The generated config.h file defines HAVE_DECL_SETENV, which
was checked at compile time in libcompat to create
HAVE_WORKING_SETENV. There is no reason to have the latter, when
the former can be used directly.
------------------------------------------------------------------------
r982 | brarcher | 2013-12-31 15:39:33 -0500 (Tue, 31 Dec 2013) | 7 lines
Changed paths:
   M /trunk/tests/test_xml_output.sh

test_xml_output: do not use -n with echo

On some systems (e.g. OSX) a script will use the built-in version
of echo, which does not support arguments. Instead of getting no
newline, instead there is an extra "-n" in the output.

Without the -n, everything works as expected.
------------------------------------------------------------------------
r981 | brarcher | 2013-12-31 15:39:31 -0500 (Tue, 31 Dec 2013) | 6 lines
Changed paths:
   M /trunk/configure.ac

autotools: include pthread.h when checking for clockid_t/timer_t

Must include pthread.h to check for clockid_t and timer_t. This is
because MinGW and MinGW-w64 both put the time related definitions
in pthread headers and not in sys/types.h. Without optionally
including pthread.h, the check for these types may mistakenly fail.
------------------------------------------------------------------------
r980 | brarcher | 2013-12-27 13:18:17 -0500 (Fri, 27 Dec 2013) | 5 lines
Changed paths:
   D /trunk/tests/ex_log_output.c
   M /trunk/tests/ex_output.c
   D /trunk/tests/ex_tap_output.c
   D /trunk/tests/ex_xml_output.c
   M /trunk/tests/test_log_output.sh
   M /trunk/tests/test_output.sh
   M /trunk/tests/test_tap_output.sh
   M /trunk/tests/test_xml_output.sh

consolidate all output tests into ex_output.c

This way, it will be simpler to add more outputs. Simply extend
this file. Further, if any bugs are found and needed to be
regression tested, they are added to only one place.
------------------------------------------------------------------------
r979 | brarcher | 2013-12-27 13:18:14 -0500 (Fri, 27 Dec 2013) | 3 lines
Changed paths:
   M /trunk/tests/Makefile.am

autotools: do not make ex_*_output tests

All the output tests are being consolidated into ex_output.c
------------------------------------------------------------------------
r978 | brarcher | 2013-12-27 13:18:13 -0500 (Fri, 27 Dec 2013) | 3 lines
Changed paths:
   M /trunk/tests/CMakeLists.txt

cmake: do not make the ex_*_output tests

They are being removed, to be consolidated into ex_output.c
------------------------------------------------------------------------
r977 | brarcher | 2013-12-25 00:09:39 -0500 (Wed, 25 Dec 2013) | 1 line
Changed paths:
   M /trunk/CMakeLists.txt

cmake: always set a value for ENABLE_SUBUNIT
------------------------------------------------------------------------
r976 | brarcher | 2013-12-25 00:09:37 -0500 (Wed, 25 Dec 2013) | 1 line
Changed paths:
   M /trunk/CMakeLists.txt

cmake: remove fake subunit check
------------------------------------------------------------------------
r975 | brarcher | 2013-12-24 23:51:12 -0500 (Tue, 24 Dec 2013) | 1 line
Changed paths:
   M /trunk/CMakeLists.txt

cmake: fix subunit lib check
------------------------------------------------------------------------
r974 | brarcher | 2013-12-24 23:39:11 -0500 (Tue, 24 Dec 2013) | 6 lines
Changed paths:
   M /trunk/CMakeLists.txt
   A /trunk/cmake/check_stdint.h.in

cmake: create a check_stdint.h file

Sinple hack replacement for the autotools AX_CREATE_STDINT_H
command. There may be a better way to do this that actually
checks if stdint.h is available, and what to do if it is not.
However, There are checks for the various int types already.
------------------------------------------------------------------------
r973 | brarcher | 2013-12-24 22:38:05 -0500 (Tue, 24 Dec 2013) | 1 line
Changed paths:
   M /trunk/lib/malloc.c

remove stray ` in file
------------------------------------------------------------------------
r972 | brarcher | 2013-12-24 22:05:12 -0500 (Tue, 24 Dec 2013) | 1 line
Changed paths:
   M /trunk/lib/libcompat.h

libcompat: add CK_DLL_EXP to all functions
------------------------------------------------------------------------
r971 | brarcher | 2013-12-24 22:05:11 -0500 (Tue, 24 Dec 2013) | 1 line
Changed paths:
   M /trunk/src/check.h.in

Add CK_DLL_EXP for all functions in libcheck
------------------------------------------------------------------------
r970 | brarcher | 2013-12-24 22:05:09 -0500 (Tue, 24 Dec 2013) | 1 line
Changed paths:
   M /trunk/lib/CMakeLists.txt

cmake: Add definitions for snprintf if replacement is needed
------------------------------------------------------------------------
r969 | brarcher | 2013-12-24 22:05:07 -0500 (Tue, 24 Dec 2013) | 3 lines
Changed paths:
   M /trunk/CMakeLists.txt

cmake: remove unnecessary checks

These checks are checking for things that Check never uses.
------------------------------------------------------------------------
r968 | brarcher | 2013-12-24 22:05:06 -0500 (Tue, 24 Dec 2013) | 4 lines
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/configure.ac
   M /trunk/lib/CMakeLists.txt
   D /trunk/lib/fileno.c
   M /trunk/lib/libcompat.h

libcompat: remove fileno() replacement

fileno() is no longer necessary, as pipe IO is now
handled with FILE API.
------------------------------------------------------------------------
r967 | brarcher | 2013-12-24 22:05:04 -0500 (Tue, 24 Dec 2013) | 4 lines
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/lib/libcompat.h

libcompat: remove read() and write() checks

read() and write() are now unnecessary, as all pipe IO is
done using FILE APIs.
------------------------------------------------------------------------
r966 | brarcher | 2013-12-24 22:05:02 -0500 (Tue, 24 Dec 2013) | 4 lines
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/configure.ac
   M /trunk/lib/CMakeLists.txt
   M /trunk/lib/libcompat.h
   D /trunk/lib/pipe.c

libcompat: remove pipe() replacement

The pipe() call was only used in unit tests. As the ppack calls
now use only FILE APIs, pipe is unnecessary.
------------------------------------------------------------------------
r965 | brarcher | 2013-12-24 22:05:00 -0500 (Tue, 24 Dec 2013) | 5 lines
Changed paths:
   M /trunk/lib/snprintf.c

snprintf: fix some compile time checks for MSVC

MSVC with cmake results in a few compile time checks
in snprintf.c not being compilable. Changing the statements
such that MSVC can understand them.
------------------------------------------------------------------------
r964 | brarcher | 2013-12-24 22:04:59 -0500 (Tue, 24 Dec 2013) | 6 lines
Changed paths:
   M /trunk/src/check_msg.c
   M /trunk/src/check_msg.h
   M /trunk/src/check_pack.c
   M /trunk/src/check_pack.h
   M /trunk/tests/check_check_pack.c

use only FILE* API for file reading/writing

MSVC does not like switching between read()/write() API and
FILE* API using fileno(). The fileno() call seems to return something
that does not work with write(). Keeping the API used
consistent removes this problem.
------------------------------------------------------------------------
r963 | brarcher | 2013-12-24 22:04:56 -0500 (Tue, 24 Dec 2013) | 5 lines
Changed paths:
   M /trunk/src/check_msg.c

check_msg.c: make open_tmp_file not static

The pack unit tests will need to have a way to create a
temporary file. Allowing them to use open_tmp_file is
simpler.
------------------------------------------------------------------------
r962 | brarcher | 2013-12-24 22:04:55 -0500 (Tue, 24 Dec 2013) | 1 line
Changed paths:
   M /trunk/tests/check_check_exit.c

check_check_exit: remove unnecessary unistd.h include
------------------------------------------------------------------------
r961 | brarcher | 2013-12-24 22:04:53 -0500 (Tue, 24 Dec 2013) | 1 line
Changed paths:
   M /trunk/lib/libcompat.h

libcompat: if _snprintf is available instead, us it
------------------------------------------------------------------------
r960 | brarcher | 2013-12-24 22:04:51 -0500 (Tue, 24 Dec 2013) | 1 line
Changed paths:
   M /trunk/lib/CMakeLists.txt

cmake: use libcompat's snprintf if not available on system
------------------------------------------------------------------------
r959 | brarcher | 2013-12-24 22:04:48 -0500 (Tue, 24 Dec 2013) | 1 line
Changed paths:
   M /trunk/CMakeLists.txt

cmake: add check for struct itimerspec for MSVC
------------------------------------------------------------------------
r958 | brarcher | 2013-12-24 22:04:47 -0500 (Tue, 24 Dec 2013) | 1 line
Changed paths:
   M /trunk/lib/clock_gettime.c

clock_gettime: remove some header includes, they are in libcompat.h
------------------------------------------------------------------------
r957 | brarcher | 2013-12-24 22:04:46 -0500 (Tue, 24 Dec 2013) | 1 line
Changed paths:
   M /trunk/lib/CMakeLists.txt

cmake: add checks for librt functions
------------------------------------------------------------------------
r956 | brarcher | 2013-12-24 22:04:44 -0500 (Tue, 24 Dec 2013) | 8 lines
Changed paths:
   M /trunk/src/check.c
   M /trunk/src/check_run.c
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_pack.c
   M /trunk/tests/check_check_sub.c
   M /trunk/tests/check_thread_stress.c
   M /trunk/tests/ex_log_output.c
   M /trunk/tests/ex_output.c
   M /trunk/tests/ex_tap_output.c
   M /trunk/tests/ex_xml_output.c

modify how HAVE_FORK is determined in code

autotools will define HAVE_FORK only if fork is available.
cmake can do the same thing on Linux, however on Windows
the only way to get HAVE_FORK to appear is to make it always
appear and contain a value. To support both autotools and
cmake, change the compile time check slightly to check that
HAVE_FORK is 1.
------------------------------------------------------------------------
r955 | brarcher | 2013-12-24 22:04:41 -0500 (Tue, 24 Dec 2013) | 1 line
Changed paths:
   M /trunk/src/check_msg.c

Add paren around if block
------------------------------------------------------------------------
r954 | brarcher | 2013-12-24 22:04:39 -0500 (Tue, 24 Dec 2013) | 6 lines
Changed paths:
   M /trunk/src/check_msg.c

Fix fileno(get_pipe()) for MSVC

MSVC is unable to parse the code:
  fileno(get_pipe())
when directly as an argument for ppack() or punpack(). This may
be because fileno() is replaced with _fileno() in a #define.
------------------------------------------------------------------------
r953 | brarcher | 2013-12-24 22:04:38 -0500 (Tue, 24 Dec 2013) | 1 line
Changed paths:
   M /trunk/lib/CMakeLists.txt

cmake: only replace libcompat if all possibilities on system are missing
------------------------------------------------------------------------
r952 | brarcher | 2013-12-24 22:04:36 -0500 (Tue, 24 Dec 2013) | 1 line
Changed paths:
   M /trunk/CMakeLists.txt

cmake: add check for struct timespec for windows
------------------------------------------------------------------------
r951 | brarcher | 2013-12-24 22:04:34 -0500 (Tue, 24 Dec 2013) | 1 line
Changed paths:
   M /trunk/CMakeLists.txt

cmake: add content to endifs
------------------------------------------------------------------------
r950 | brarcher | 2013-12-24 22:04:33 -0500 (Tue, 24 Dec 2013) | 1 line
Changed paths:
   M /trunk/CMakeLists.txt

cmake: add check for clockid_t
------------------------------------------------------------------------
r949 | brarcher | 2013-12-24 22:04:31 -0500 (Tue, 24 Dec 2013) | 4 lines
Changed paths:
   M /trunk/CMakeLists.txt

cmake: use set() to set HAVE_FORK variable

In Windows, the add_definitions() call does not set the
HAVE_FORK variable for configuration files (check.h.in, test_var.in).
------------------------------------------------------------------------
r948 | brarcher | 2013-12-24 22:04:30 -0500 (Tue, 24 Dec 2013) | 1 line
Changed paths:
   M /trunk/CMakeLists.txt

cmake: set HAVE_FORK=0 if fork is unavailable
------------------------------------------------------------------------
r947 | brarcher | 2013-12-24 22:04:28 -0500 (Tue, 24 Dec 2013) | 1 line
Changed paths:
   M /trunk/CMakeLists.txt

cmake: enable remaining tests
------------------------------------------------------------------------
r946 | brarcher | 2013-12-24 22:04:27 -0500 (Tue, 24 Dec 2013) | 1 line
Changed paths:
   M /trunk/CMakeLists.txt

cmake: set srcdir env var for shell script test runners
------------------------------------------------------------------------
r945 | brarcher | 2013-12-24 22:04:26 -0500 (Tue, 24 Dec 2013) | 1 line
Changed paths:
   M /trunk/CMakeLists.txt

cmake: detect floor in math lib, as that is what is being used
------------------------------------------------------------------------
r944 | brarcher | 2013-12-24 22:04:25 -0500 (Tue, 24 Dec 2013) | 4 lines
Changed paths:
   M /trunk/CMakeLists.txt

cmake: enable unit testing with check_check

To invoke the tests, type:
$ make test
------------------------------------------------------------------------
r943 | brarcher | 2013-12-24 22:04:24 -0500 (Tue, 24 Dec 2013) | 1 line
Changed paths:
   M /trunk/CMakeLists.txt

cmake: generate test_vars file for sh script tests
------------------------------------------------------------------------
r942 | brarcher | 2013-12-24 22:04:22 -0500 (Tue, 24 Dec 2013) | 1 line
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/src/CMakeLists.txt

cmake: add check for subunit
------------------------------------------------------------------------
r941 | brarcher | 2013-12-24 22:04:20 -0500 (Tue, 24 Dec 2013) | 5 lines
Changed paths:
   M /trunk/lib/libcompat.h

libcompat.h: Correct HAVE_SETENV

The configure.ac script will set HAVE_DECL_SETENV if setenv exists.
This must not have been working, as no setenv tests must have
been executing.
------------------------------------------------------------------------
r940 | brarcher | 2013-12-24 22:04:19 -0500 (Tue, 24 Dec 2013) | 6 lines
Changed paths:
   M /trunk/CMakeLists.txt

cmake: always compile in memory leaking tests

The check_mem_leaks is not configured to compile with cmake.
As the target for cmake is Windows, and Windows does not have
a valgrind that will work, there is no point in supporting
it.
------------------------------------------------------------------------
r939 | brarcher | 2013-12-24 22:04:18 -0500 (Tue, 24 Dec 2013) | 1 line
Changed paths:
   M /trunk/CMakeLists.txt

cmake: define HAVE_FORK if fork is detected
------------------------------------------------------------------------
r938 | brarcher | 2013-12-24 22:04:16 -0500 (Tue, 24 Dec 2013) | 4 lines
Changed paths:
   M /trunk/CMakeLists.txt

cmake: remove TIMEOUT_TESTS_ENABLE=0

Check will determine if it can run time timeout tests, and which
ones, based on HAVE_FORK and HAVE_LIBRT.
------------------------------------------------------------------------
r937 | brarcher | 2013-12-24 22:04:14 -0500 (Tue, 24 Dec 2013) | 1 line
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/cmake/config.h.in
   M /trunk/configure.ac
   M /trunk/lib/libcompat.h

add clock_t & timer_t to configure.ac and CMakeLists.txt instead
------------------------------------------------------------------------
r936 | brarcher | 2013-12-24 22:04:12 -0500 (Tue, 24 Dec 2013) | 1 line
Changed paths:
   M /trunk/src/check_run.c

If CK_FORK_GETENV is set, only set CK_FORK if HAVE_FORK
------------------------------------------------------------------------
r935 | brarcher | 2013-12-24 22:04:10 -0500 (Tue, 24 Dec 2013) | 1 line
Changed paths:
   M /trunk/lib/libcompat.h

libcompat.h: include sys/time.h only if it is available
------------------------------------------------------------------------
r934 | brarcher | 2013-12-24 22:04:09 -0500 (Tue, 24 Dec 2013) | 1 line
Changed paths:
   M /trunk/configure.ac
   A /trunk/lib/gettimeofday.c
   M /trunk/lib/libcompat.h

libcompat: add alternative for gettimeofday
------------------------------------------------------------------------
r933 | brarcher | 2013-12-24 22:04:07 -0500 (Tue, 24 Dec 2013) | 5 lines
Changed paths:
   M /trunk/lib/libcompat.h

libcompat.h: rename several functions if the _ variant exists

For fileno, getpid, pipe, putenv, read, strdup, and write,
if the name append with _ exists, use that instead.
This likely only applied to MSVC.
------------------------------------------------------------------------
r932 | brarcher | 2013-12-24 22:04:06 -0500 (Tue, 24 Dec 2013) | 1 line
Changed paths:
   M /trunk/lib/libcompat.h

libcompat.h: Include additional headers if MSVC
------------------------------------------------------------------------
r931 | brarcher | 2013-12-24 22:04:04 -0500 (Tue, 24 Dec 2013) | 1 line
Changed paths:
   M /trunk/lib/sleep.c

sleep.c: use Sleep() if MSVC
------------------------------------------------------------------------
r930 | brarcher | 2013-12-24 22:04:02 -0500 (Tue, 24 Dec 2013) | 1 line
Changed paths:
   M /trunk/lib/localtime_r.c

localtime_r.c: provide additional alternatives
------------------------------------------------------------------------
r929 | brarcher | 2013-12-24 22:04:00 -0500 (Tue, 24 Dec 2013) | 1 line
Changed paths:
   M /trunk/lib/alarm.c
   M /trunk/lib/fileno.c
   M /trunk/lib/libcompat.c
   M /trunk/lib/malloc.c
   M /trunk/lib/pipe.c
   M /trunk/lib/putenv.c
   M /trunk/lib/realloc.c
   M /trunk/lib/setenv.c
   M /trunk/lib/strdup.c
   M /trunk/lib/strsignal.c
   M /trunk/lib/unsetenv.c

spacing
------------------------------------------------------------------------
r928 | brarcher | 2013-12-24 22:03:58 -0500 (Tue, 24 Dec 2013) | 4 lines
Changed paths:
   M /trunk/.gitignore
   A /trunk/CMakeLists.txt
   A /trunk/cmake
   A /trunk/cmake/CheckHeaderDirent.cmake
   A /trunk/cmake/CheckStructMember.cmake
   A /trunk/cmake/CheckTypeExists.cmake
   A /trunk/cmake/config.h.in
   A /trunk/lib/CMakeLists.txt
   A /trunk/src/CMakeLists.txt
   A /trunk/tests/CMakeLists.txt

Initial commit of cmake support, based on mloskot patch

This commit is likely not functional yet. More changes
on the way for complete cmake support
------------------------------------------------------------------------
r927 | brarcher | 2013-12-23 11:29:42 -0500 (Mon, 23 Dec 2013) | 5 lines
Changed paths:
   M /trunk/tests/test_xml_output.sh

test_xml_output: add tests for valid duration for tests

This is to check for the case where the duration is not -1
or in [0, CK_DEFAULT_TIMEOUT]. There was an issue with NO_FORK
mode where the duration was not valid.
------------------------------------------------------------------------
r926 | brarcher | 2013-12-23 10:48:37 -0500 (Mon, 23 Dec 2013) | 9 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/src/check_run.c

move clock_gettime calls outside of setjmp context for NO_FORK mode

The test duration was getting smashed if tests failed in NO_FORK
mode. If the setjmp() function was used to abort a test, the end
time would not get captured. This resulted in arbitrary numbers
being written for the test's duration.

This change moves the settime() calls outside of the setjmp() context,
so the times get captured if the test passes or fails.
------------------------------------------------------------------------
r925 | brarcher | 2013-12-21 23:59:41 -0500 (Sat, 21 Dec 2013) | 3 lines
Changed paths:
   M /trunk/web/install.html

web: remove mention that unit tests fail on GNU/Hurd

The issue was resolved, and the checkmk unit tests now pass.
------------------------------------------------------------------------
r924 | brarcher | 2013-12-21 23:59:37 -0500 (Sat, 21 Dec 2013) | 4 lines
Changed paths:
   M /trunk/checkmk/checkmk.in

checkmk: change POSIX bracket expressions to be compatible with GNU/Hurd

The version of mawk included in Hurd is quite old (at least 8 years)
and did not support the bracket extensions previously used.
------------------------------------------------------------------------
r923 | brarcher | 2013-12-20 23:50:46 -0500 (Fri, 20 Dec 2013) | 4 lines
Changed paths:
   M /trunk/HACKING

HACKING: Add information on updating just the website

If Check's website needs to be updated between releases,
these instructions can be used.
------------------------------------------------------------------------
r922 | brarcher | 2013-12-20 23:16:56 -0500 (Fri, 20 Dec 2013) | 1 line
Changed paths:
   M /trunk/index.html

web: Mention Install page in Supported Platforms section
------------------------------------------------------------------------
r921 | brarcher | 2013-12-20 23:16:53 -0500 (Fri, 20 Dec 2013) | 1 line
Changed paths:
   M /trunk/index.html

web: mention GNU/Hurd and BSD in Supported Platforms section
------------------------------------------------------------------------
r920 | brarcher | 2013-12-20 19:05:04 -0500 (Fri, 20 Dec 2013) | 1 line
Changed paths:
   M /trunk/web/css/style.css

web: set style for lists
------------------------------------------------------------------------
r919 | brarcher | 2013-12-20 19:05:01 -0500 (Fri, 20 Dec 2013) | 4 lines
Changed paths:
   M /trunk/index.html
   A /trunk/web/install.html
   M /trunk/web/users-of-check.html

web: add install page, describing how to install Check

This page describes how to install Check on various
platforms, either through a package manager or from source.
------------------------------------------------------------------------
r918 | brarcher | 2013-12-20 19:04:59 -0500 (Fri, 20 Dec 2013) | 6 lines
Changed paths:
   M /trunk/m4/librt_timers.m4

librt_timers.m4: use prev behavior when cross compiling

In the case where we are cross compiling, the POSIX detection of
the timer_create() function is skipped, and instead the usual check
for the existence of all the timer_* functions is done using
AC_REPLACE_FUNCS.
------------------------------------------------------------------------
r917 | brarcher | 2013-12-20 19:04:56 -0500 (Fri, 20 Dec 2013) | 1 line
Changed paths:
   M /trunk/index.html

index.html: Add link for browsing current Check source
------------------------------------------------------------------------
r916 | brarcher | 2013-12-19 14:47:11 -0500 (Thu, 19 Dec 2013) | 5 lines
Changed paths:
   M /trunk/tests/Makefile.am

Do not include memory leaking tests in check_mem_leaks

check_mem_leaks is to be used with valgrind. That will check
if Check is leaking memory. Having tests that also intentionally
leak will give false positives.
------------------------------------------------------------------------
r915 | brarcher | 2013-12-19 14:47:07 -0500 (Thu, 19 Dec 2013) | 4 lines
Changed paths:
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

Mark the test_null unit test as leaking memory

This test calls a few Check functions, seeing if something bad
will happen. In the process, they leak some memory.
------------------------------------------------------------------------
r914 | brarcher | 2013-12-19 14:47:04 -0500 (Thu, 19 Dec 2013) | 8 lines
Changed paths:
   M /trunk/tests/check_check.h

Add #define for disabling unit tests that intentionally leak memory

Some tests intentionally leak memory. Usually this is not a concern.
However, we want to run some of our tests against valgrind, to make
sure that Check itself is not leaking any memory. To enable this,
the tests that intentionally leak memory will be conditionally
compiled out when building a unit tests program for use with
valgrind.
------------------------------------------------------------------------
r913 | brarcher | 2013-12-19 11:48:27 -0500 (Thu, 19 Dec 2013) | 9 lines
Changed paths:
   M /trunk/tests/Makefile.am

remove check_mem_leaks from "make check"

when run locally, all is well. Unit tests pass, and
valgrind says there is nothing wrong. When run on
some GNU/Linux build slave machine, running the unit test
dies with an invalid pointer free.

Will need to figure out how to reproduce this locally to
continue.
------------------------------------------------------------------------
r912 | brarcher | 2013-12-19 11:27:54 -0500 (Thu, 19 Dec 2013) | 1 line
Changed paths:
   M /trunk/tests/Makefile.am

try to add check_mem_leaks back into "make check"
------------------------------------------------------------------------
r911 | brarcher | 2013-12-19 11:27:53 -0500 (Thu, 19 Dec 2013) | 4 lines
Changed paths:
   M /trunk/tests/test_mem_leaks.sh

test_mem_leaks.sh: use libtool to invoke check_mem_leaks

The libtool documentation says the proper way to invoke the
compiled program before it is installed is to use libtool.
------------------------------------------------------------------------
r910 | brarcher | 2013-12-19 11:27:51 -0500 (Thu, 19 Dec 2013) | 3 lines
Changed paths:
   M /trunk/tests/Makefile.am
   M /trunk/tests/check_mem_leaks.c

check_mem_leaks: trim down to only use libcheck

Previously the unit tests was linking against libcheckinternal.
------------------------------------------------------------------------
r909 | brarcher | 2013-12-19 11:02:03 -0500 (Thu, 19 Dec 2013) | 8 lines
Changed paths:
   M /trunk/tests/Makefile.am

Remove check_mem_leaks from "make check"

All my local systems will compile and run check_mem_leaks without
issue. However, the build slaves are all unable to run it, for
various reasons.

For now, removing it from "make check" to prevent someone's build for
failing for no good reason. Will revisit this once more is known.
------------------------------------------------------------------------
r908 | brarcher | 2013-12-19 11:01:59 -0500 (Thu, 19 Dec 2013) | 1 line
Changed paths:
   M /trunk/tests/Makefile.am

Add check_mem_leaks.sh to EXTRA_DIST
------------------------------------------------------------------------
r907 | brarcher | 2013-12-18 23:31:49 -0500 (Wed, 18 Dec 2013) | 8 lines
Changed paths:
   M /trunk/NEWS

NEWS: add lines near the top that happen to mention 0.9.11

The distcheck target requires that the current version,
0.9.11, appear in the first 15 lines. After enough stuff
was added to NEWS, this broke, and the prereleasecheck
target (which uses distcheck) no longer worked.

These lines will have to be removed before the next release.
------------------------------------------------------------------------
r906 | brarcher | 2013-12-18 18:03:11 -0500 (Wed, 18 Dec 2013) | 1 line
Changed paths:
   M /trunk/NEWS

NEWS: update with recent additions
------------------------------------------------------------------------
r905 | brarcher | 2013-12-18 18:03:09 -0500 (Wed, 18 Dec 2013) | 1 line
Changed paths:
   M /trunk/index.html

index.html: mention OpenBSD support.
------------------------------------------------------------------------
r904 | brarcher | 2013-12-18 18:03:08 -0500 (Wed, 18 Dec 2013) | 7 lines
Changed paths:
   M /trunk/configure.ac

configure.ac: use the librt_timer.m4 checks

Hopefully with this the default ./configure will
work on OpenBSD.

Note that --enable-timer-replacement will still override the
check, resulting the Check's replacements being used.
------------------------------------------------------------------------
r903 | brarcher | 2013-12-18 18:03:06 -0500 (Wed, 18 Dec 2013) | 10 lines
Changed paths:
   A /trunk/m4/librt_timers.m4

librt_timers.m4: check if timer_create() is usable

Adds a custom check for the timer_create() function on the target
system.

It was found that on OpenBSD, the timer_create(), timer_settime(),
and timer_delete() functions were only stubbed out. They set
errno to ENOSYS and return -1. To detect this and replace the timer_*
functions with libcompat's, this m4 file will execute a test
program on the system, checking for the ENOSYS errno.
------------------------------------------------------------------------
r902 | brarcher | 2013-12-18 16:37:11 -0500 (Wed, 18 Dec 2013) | 10 lines
Changed paths:
   A /trunk/tests/test_mem_leaks.sh

test_mem_leak.sh: add convenience script for running valgrind

This script will run valgrind against check_mem_leaks, and
determine if there are any memory leaks.

This is not run as part of "make check", as valgrind really only works
on GNU/Linux. (It is available on OSX, but does not really work).

We will need to run this ourselves (or from our continuous integration
server) to periodically check for leaks.
------------------------------------------------------------------------
r901 | brarcher | 2013-12-18 16:37:09 -0500 (Wed, 18 Dec 2013) | 13 lines
Changed paths:
   M /trunk/tests/Makefile.am
   A /trunk/tests/check_mem_leaks.c

check_mem_leaks: add new unit test for use against valgrind

The purpose of this test is to be used by valgrind to check for
memory leaks. Each public API that check exports is used at
least once. Tests which use non-public API, or leak intentionally,
are not included here.

The test should pass when run, and is added to the list of tests to
run with "make check".

Actually using valgrind to check for memory leaks is outside of its
running with "make check". One still would need to manually run
valgrind.
------------------------------------------------------------------------
r900 | brarcher | 2013-12-18 14:46:56 -0500 (Wed, 18 Dec 2013) | 14 lines
Changed paths:
   M /trunk/configure.ac

configure.ac: add option to force Check's replacement of timer_* functions

On OpenBSD 5.4 (and perhaps other BSDs) the timer_* functions
are implemented, but do nothing. Instead, they set errno to
ENOSYS (not available) and return -1. Check would check if
the timer_* functions were missing, and would use its own
replacements if they were. However, because they actually do
exist, Check does not know to replace them.

This adds another configure option, --enable-timer-replacement, which
will force Check's timer replacements instead of detecting the need.
There is still no checking if the replacements are needed or not
for OpenBSD, but at least this gives an option so check will work
properly.
------------------------------------------------------------------------
r899 | brarcher | 2013-12-18 14:46:54 -0500 (Wed, 18 Dec 2013) | 1 line
Changed paths:
   M /trunk/.gitignore

.gitignore: remove checkmk, but add CMakeLists.txt
------------------------------------------------------------------------
r898 | brarcher | 2013-12-18 14:46:52 -0500 (Wed, 18 Dec 2013) | 1 line
Changed paths:
   M /trunk/AUTHORS
   M /trunk/checkmk/checkmk.in
   A /trunk/checkmk/test/argument_ws
   A /trunk/checkmk/test/argument_ws/in
   A /trunk/checkmk/test/argument_ws/x_output
   M /trunk/checkmk/test/check_checkmk
   A /trunk/checkmk/test/repeated_argument_tests
   A /trunk/checkmk/test/repeated_argument_tests/in
   A /trunk/checkmk/test/repeated_argument_tests/x_err
   A /trunk/checkmk/test/repeated_argument_tests/x_output

checkmk: tcase_add_loop_test support in checkmk
------------------------------------------------------------------------
r897 | brarcher | 2013-12-17 17:12:28 -0500 (Tue, 17 Dec 2013) | 1 line
Changed paths:
   M /trunk/src/check_run.c

check_run: add parenthesis
------------------------------------------------------------------------
r896 | brarcher | 2013-12-17 17:12:26 -0500 (Tue, 17 Dec 2013) | 1 line
Changed paths:
   M /trunk/tests/check_check_fixture.c

check_check_fixture: free suite runners when finished
------------------------------------------------------------------------
r895 | brarcher | 2013-12-17 17:12:25 -0500 (Tue, 17 Dec 2013) | 4 lines
Changed paths:
   M /trunk/tests/check_check_msg.c

check_check_msg: use proper free for TestResult

The TestResult was being freed, but not all the points to
live data it was holding.
------------------------------------------------------------------------
r894 | brarcher | 2013-12-17 17:12:23 -0500 (Tue, 17 Dec 2013) | 1 line
Changed paths:
   M /trunk/src/check.c
   M /trunk/src/check_impl.h

create function for freeing a TestResult
------------------------------------------------------------------------
r893 | brarcher | 2013-12-17 17:12:20 -0500 (Tue, 17 Dec 2013) | 6 lines
Changed paths:
   M /trunk/src/check_run.c

fix potential leaks when assigning result message

In some cases, a result message has already been allocated,
which is then overwritten by set_fork_info(). Just in case,
check if tr->msg is not null, and if so free the value, before
assigning a new value.
------------------------------------------------------------------------
r892 | brarcher | 2013-12-17 17:12:17 -0500 (Tue, 17 Dec 2013) | 1 line
Changed paths:
   M /trunk/src/check_impl.h

Add comment, mentioning time resolution of stored duration
------------------------------------------------------------------------
r891 | brarcher | 2013-12-17 17:12:15 -0500 (Tue, 17 Dec 2013) | 1 line
Changed paths:
   M /trunk/src/check.c
   M /trunk/src/check_impl.h

Move NANOS_PER_SECONDS to check_impl.h with other time defines
------------------------------------------------------------------------
r890 | brarcher | 2013-12-17 17:12:12 -0500 (Tue, 17 Dec 2013) | 1 line
Changed paths:
   M /trunk/src/check_impl.h
   M /trunk/src/check_log.c

Add #define for US_PER_SEC, to avoid magic numbers
------------------------------------------------------------------------
r889 | brarcher | 2013-12-17 11:42:04 -0500 (Tue, 17 Dec 2013) | 4 lines
Changed paths:
   M /trunk/tests/Makefile.am

Add *.tap to CLEANFILES

Otherwise, make preleasecheck will fail due to the extra test.tap
file.
------------------------------------------------------------------------
r888 | brarcher | 2013-12-17 11:42:03 -0500 (Tue, 17 Dec 2013) | 3 lines
Changed paths:
   M /trunk/tests/Makefile.am

add test_tap_output.sh to EXTRA_DIST

Otherwise, the preleasecheck target will not pass
------------------------------------------------------------------------
r887 | brarcher | 2013-12-17 11:42:01 -0500 (Tue, 17 Dec 2013) | 1 line
Changed paths:
   M /trunk/doc/check.texi

doc: add link to TAP specification.
------------------------------------------------------------------------
r886 | brarcher | 2013-12-17 11:07:15 -0500 (Tue, 17 Dec 2013) | 1 line
Changed paths:
   M /trunk/tests/check_check_log.c

Add unit tests for TAP logging setup functions
------------------------------------------------------------------------
r885 | brarcher | 2013-12-17 11:07:14 -0500 (Tue, 17 Dec 2013) | 3 lines
Changed paths:
   M /trunk/tests/test_log_output.sh
   M /trunk/tests/test_tap_output.sh
   M /trunk/tests/test_xml_output.sh

Always remove test output before running new test

Just in case the output is left over from the previous test run
------------------------------------------------------------------------
r884 | brarcher | 2013-12-17 11:07:11 -0500 (Tue, 17 Dec 2013) | 3 lines
Changed paths:
   M /trunk/tests/test_log_output.sh
   M /trunk/tests/test_xml_output.sh

use variable OUTPUT_FILE for tests that check logging output

This is better than hard coding the name throghout the test
------------------------------------------------------------------------
r883 | brarcher | 2013-12-17 11:07:10 -0500 (Tue, 17 Dec 2013) | 5 lines
Changed paths:
   M /trunk/doc/check.texi
   M /trunk/src/check_log.c
   M /trunk/tests/test_tap_output.sh

add support for descriptions in TAP logging

The description on a TAP output line is as follows:

[not] ok (number) - (file):(suite name):(test name): (message)
------------------------------------------------------------------------
r882 | brarcher | 2013-12-17 11:07:07 -0500 (Tue, 17 Dec 2013) | 1 line
Changed paths:
   M /trunk/NEWS

NEWS: mention logging support for TAP
------------------------------------------------------------------------
r881 | brarcher | 2013-12-17 11:07:05 -0500 (Tue, 17 Dec 2013) | 1 line
Changed paths:
   M /trunk/doc/check.texi

doc: update to mention TAP logging
------------------------------------------------------------------------
r880 | brarcher | 2013-12-17 11:07:03 -0500 (Tue, 17 Dec 2013) | 4 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/index.html

Add steps to release for updating index.html page

The latest release information will need to be updated
on the index.html landing page whenever check has a release.
------------------------------------------------------------------------
r879 | brarcher | 2013-12-17 11:07:01 -0500 (Tue, 17 Dec 2013) | 3 lines
Changed paths:
   M /trunk/Makefile.am

Add make target for updating check's landing page

Just in case one wants to update the webpage between releases.
------------------------------------------------------------------------
r878 | brarcher | 2013-12-17 11:07:00 -0500 (Tue, 17 Dec 2013) | 3 lines
Changed paths:
   M /trunk/Makefile.am

separate releasevars into two tasks for version and username

This way, other tasks can check for just one of these.
------------------------------------------------------------------------
r877 | brarcher | 2013-12-17 11:06:58 -0500 (Tue, 17 Dec 2013) | 1 line
Changed paths:
   M /trunk/NEWS

Add to NEWS information on refactoring check's asserts
------------------------------------------------------------------------
r876 | brarcher | 2013-12-17 11:06:57 -0500 (Tue, 17 Dec 2013) | 1 line
Changed paths:
   M /trunk/tests/Makefile.am

spacing
------------------------------------------------------------------------
r875 | brarcher | 2013-12-17 11:06:55 -0500 (Tue, 17 Dec 2013) | 1 line
Changed paths:
   M /trunk/src/check_impl.h

Add comments on the meanings of the logging events
------------------------------------------------------------------------
r874 | brarcher | 2013-12-17 11:06:53 -0500 (Tue, 17 Dec 2013) | 6 lines
Changed paths:
   M /trunk/tests/Makefile.am
   A /trunk/tests/ex_tap_output.c
   A /trunk/tests/test_tap_output.sh

Add tests for tap logging

These tests follow closely with what the logging tests cover, with
one small change. If fork() is disabled, one test case will
invoked exit() and cause the unit testing program to terminate
early. In that case, the tap output is expected to be incomplete.
------------------------------------------------------------------------
r873 | brarcher | 2013-12-17 11:06:50 -0500 (Tue, 17 Dec 2013) | 11 lines
Changed paths:
   M /trunk/src/check.c
   M /trunk/src/check.h.in
   M /trunk/src/check_impl.h
   M /trunk/src/check_log.c
   M /trunk/src/check_log.h

add support for logging in TAP format

Logging in the Test Anything Protcol (TAP) format is useful
in general, but is especially useful on platforms where
fork() is unavailable. The TAP format requires that the
planned number of tests to run be specified, either at the
start or end of a test run. If the number of tests run does not
match the plan, the test run is marked as failed. As running
without fork() leaves the unit testing program open to failure
if a test aborts/segfaults/etc, validating the TAP output is
useful.
------------------------------------------------------------------------
r872 | brarcher | 2013-12-17 11:06:48 -0500 (Tue, 17 Dec 2013) | 1 line
Changed paths:
   M /trunk/src/check.h.in

remove stray ;
------------------------------------------------------------------------
r871 | brarcher | 2013-12-16 22:28:26 -0500 (Mon, 16 Dec 2013) | 14 lines
Changed paths:
   M /trunk/src/check.h.in

check.h: only mark _ck_assert_failed as noreturn when using fork

When fork is used, _ck_assert_failed will call exit() when a
failure occurs. Marking it as noreturn makes sense in this case.

When fork() is not used, longjmp() is called, which is a type of
return. Marking it as noreturn allows the compiler (gcc) to
make assumptions which are not true. Using longjmp causes
the unit testing program to segfault.

For this reason, the function is only marked as noreturn when
using fork(). Any static source code analysis to catch issues
must be done on a system with fork() to avoid possible false
positives.
------------------------------------------------------------------------
r870 | brarcher | 2013-12-16 18:27:14 -0500 (Mon, 16 Dec 2013) | 33 lines
Changed paths:
   M /trunk/src/check.c
   M /trunk/src/check.h.in

change how assertions are called, to support source code analyzers

The assert functions that check provides are really macros that
funnel down to the _ck_assert_msg() function. That function receives
the result from the operation being checked, then decides if the unit
test should continue or should halt.

The assert function in C is sometimes also a macro. For example, the
following:

void foo(int *p)
{
   assert(p != NULL);
}

on OSX when preprocessed actually becomes:

void foo(int *p)
{
   (_builtin_expect(!(p != NULL), 0) ? __assert_rtn(__func_, "t.c", 4, "p != NULL") : (void)0);
}

The __assert_rtn function is marked as "noreturn", and only gets invoked
when an assertion has failed. Because it only gets called when something
bad has happened, static code analysis can reason about when it is and is
not called, and make assumptions about the code being compiled.

To the point, this change refactors check's assert macros in such a way
that they result in a function being called only when the assertion
fails, and thus static code analyzers (such as clang's scan-build tool)
can reason when something is possible and impossible in test code. As a
result, if one wanted to run static analysis on unit test code, there
would be far fewer false positives.
------------------------------------------------------------------------
r869 | brarcher | 2013-12-16 18:27:11 -0500 (Mon, 16 Dec 2013) | 1 line
Changed paths:
   M /trunk/web/css/style.css

web: change link font size to be identical to left pane text size
------------------------------------------------------------------------
r868 | brarcher | 2013-12-16 16:35:14 -0500 (Mon, 16 Dec 2013) | 4 lines
Changed paths:
   M /trunk/doc/check.texi

doc: make it clear that autotools is not necessary to use check

Autotools is used to build Check, but it is not necessary
to use autotools for unit tests linked against Check.
------------------------------------------------------------------------
r867 | brarcher | 2013-12-16 16:23:23 -0500 (Mon, 16 Dec 2013) | 1 line
Changed paths:
   M /trunk/index.html
   M /trunk/web/users-of-check.html

web: add banner for CloudBees, and link at bottom of page
------------------------------------------------------------------------
r866 | brarcher | 2013-12-16 16:17:42 -0500 (Mon, 16 Dec 2013) | 1 line
Changed paths:
   M /trunk/index.html
   M /trunk/web/users-of-check.html

web: add tab to tutorial
------------------------------------------------------------------------
r865 | brarcher | 2013-12-16 11:29:36 -0500 (Mon, 16 Dec 2013) | 5 lines
Changed paths:
   M /trunk/doc/check.texi

check.texi: add border around all source file examples

The border (cartouche) around the source code listings
makes it a little easier to figure out where the
example starts and stops.
------------------------------------------------------------------------
r864 | brarcher | 2013-12-16 11:29:34 -0500 (Mon, 16 Dec 2013) | 10 lines
Changed paths:
   M /trunk/index.html
   A /trunk/tests/ex_xml_output.exe
   A /trunk/web
   A /trunk/web/License.txt
   A /trunk/web/css
   A /trunk/web/css/style.css
   A /trunk/web/img
   A /trunk/web/img/Button-Built-on-CB-1.png
   A /trunk/web/img/header_bg.gif
   A /trunk/web/img/menu_bg.gif
   A /trunk/web/img/side_bg.gif
   A /trunk/web/img/tab_bg.gif
   A /trunk/web/users-of-check.html

web: change layout of landing page

Instead of a plain black/white page with text, the new layout
contains some color, a side pane with links and info on the
latest release, and some links.

All data related to the page is in the new subfolder "web".

The layout was from Open Source Web Design (oswd.org), and is
the NewsPortal layout by "Designs by Darren".
------------------------------------------------------------------------
r863 | brarcher | 2013-12-16 11:29:27 -0500 (Mon, 16 Dec 2013) | 4 lines
Changed paths:
   M /trunk/tests/check_check_pack.c

check_check_pack: remove unnecessary assignment

clang's scan-build static analyzer pointed out that the
assignment was unnecessary, as was ignored.
------------------------------------------------------------------------
r862 | brarcher | 2013-12-07 00:05:17 -0500 (Sat, 07 Dec 2013) | 3 lines
Changed paths:
   M /trunk/AUTHORS

Move Branden Archer to the maintainer's list

Branden is now a maintainer.
------------------------------------------------------------------------
r861 | brarcher | 2013-12-07 00:05:15 -0500 (Sat, 07 Dec 2013) | 15 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/NEWS
   M /trunk/src/check.h.in

fix ck_assert_ptr_* causing const compilation warnings

A test sequence such as:

const struct my_vtable expected_element;
struct my_vtable* test_element;
ck_assert_ptr_eq(test_element, &expected_element);

Compiled using gcc 4.7.2 with -Wall gives the following warning.
myfile.c:70:2: warning: initialization discards â€˜constâ€™ qualifier from pointer target type [enabled by default]

Adding a const qualifier to the variables in the _ck_assert_ptr macro,
as done for _ck_assert_str makes the problem go away.

Issue #91, patch submitted by user lordlod24.
------------------------------------------------------------------------
r860 | brarcher | 2013-11-04 22:02:01 -0500 (Mon, 04 Nov 2013) | 1 line
Changed paths:
   M /trunk/NEWS

restore development header to NEWS
------------------------------------------------------------------------
r857 | brarcher | 2013-11-04 21:12:17 -0500 (Mon, 04 Nov 2013) | 1 line
Changed paths:
   M /trunk/NEWS

* Update for release
------------------------------------------------------------------------
r856 | brarcher | 2013-11-04 21:09:21 -0500 (Mon, 04 Nov 2013) | 4 lines
Changed paths:
   M /trunk/tests/test_log_output.sh
   M /trunk/tests/test_output.sh

test*_output.sh: append SRCDIR to filenames

In case check is built out-of-tree, the SRCDIR is appended to
filenames. This will prevent a false-positive unit tests failures.
------------------------------------------------------------------------
r855 | brarcher | 2013-11-04 21:09:19 -0500 (Mon, 04 Nov 2013) | 4 lines
Changed paths:
   M /trunk/Makefile.am

add check_stdint.h to DISTCLEANFILES

check_stdint.h should be cleaned during the distclean-generic make target,
but not the clean make target.
------------------------------------------------------------------------
r854 | brarcher | 2013-11-04 21:09:17 -0500 (Mon, 04 Nov 2013) | 1 line
Changed paths:
   M /trunk/tests/test_vars.in

test_vars: grab the srcdir variable
------------------------------------------------------------------------
r853 | brarcher | 2013-11-04 21:09:15 -0500 (Mon, 04 Nov 2013) | 1 line
Changed paths:
   A /trunk/.gitignore

Add a .gitignore file
------------------------------------------------------------------------
r852 | brarcher | 2013-11-04 21:09:13 -0500 (Mon, 04 Nov 2013) | 1 line
Changed paths:
   M /trunk/HACKING
   M /trunk/Makefile.am

update svn URL in release process
------------------------------------------------------------------------
r851 | brarcher | 2013-10-29 23:22:55 -0400 (Tue, 29 Oct 2013) | 1 line
Changed paths:
   M /trunk/NEWS

* Update for release
------------------------------------------------------------------------
r850 | brarcher | 2013-10-29 23:18:17 -0400 (Tue, 29 Oct 2013) | 1 line
Changed paths:
   M /trunk/configure.ac

Update for release
------------------------------------------------------------------------
r849 | brarcher | 2013-10-29 23:13:20 -0400 (Tue, 29 Oct 2013) | 1 line
Changed paths:
   M /trunk/TODO

TODO: note Cygwin and MinGW support for v0.9.11
------------------------------------------------------------------------
r848 | brarcher | 2013-10-23 22:14:57 -0400 (Wed, 23 Oct 2013) | 1 line
Changed paths:
   M /trunk/NEWS

NEWS: add info on support for MinGW/msys environment on Windows
------------------------------------------------------------------------
r847 | brarcher | 2013-10-23 22:14:55 -0400 (Wed, 23 Oct 2013) | 10 lines
Changed paths:
   M /trunk/src/check.c

change check for valid clockid

cygwin does not support CLOCK_MONOTONIC. However, a call to
clock_gettime(CLOCK_MONOTONIC, ...) will pass, whereas
a timer_create(CLOCK_MONOTONIC, ...) will fail. Use the
timer_create() call for the check instead.

However, be careful to only make the check if librt is available,
otherwise it is a waste. Or worse, if librt and alarm() are
unavailable, a timer_delete() will result in an assert(0).
------------------------------------------------------------------------
r846 | brarcher | 2013-10-20 23:26:29 -0400 (Sun, 20 Oct 2013) | 13 lines
Changed paths:
   M /trunk/configure.ac

configure.ac: do not compile with -ansi for now

There is currently a bug on the MinGW/MinGW-w64 platforms:
   sourceforge.net/p/mingw/bugs/2024
where compiling with -ansi will not define the off64_t type,
but including unistd.h will require it to be defined else
a compile error will result.

Attempting to define a replacement in config.h also fails; config.h
will work for check's code, but the code that libtool produces
then fails, meaning unit tests fail to compile.

When the MinGW bug is resolved, we can start compiling with -ansi again.
------------------------------------------------------------------------
r845 | brarcher | 2013-10-20 23:26:27 -0400 (Sun, 20 Oct 2013) | 6 lines
Changed paths:
   M /trunk/configure.ac

configure.ac: also use pthread.h for time struct checks

In MinGW and MinGW-w64, the timespec and itimerspec structs
are defined in pthread.h instead of time.h. To properly
check for this, we now also will include pthread.h if it is
available on the system.
------------------------------------------------------------------------
r844 | brarcher | 2013-10-20 23:26:26 -0400 (Sun, 20 Oct 2013) | 4 lines
Changed paths:
   M /trunk/configure.ac

configure.ac: move pthread check earlier

The time checks will need to know if pthread exists in
a future commit.
------------------------------------------------------------------------
r843 | brarcher | 2013-10-20 23:26:24 -0400 (Sun, 20 Oct 2013) | 3 lines
Changed paths:
   M /trunk/tests/check_check_exit.c

check_check_exit.c: Include libcompat.h

for consistency
------------------------------------------------------------------------
r842 | brarcher | 2013-10-20 23:26:22 -0400 (Sun, 20 Oct 2013) | 3 lines
Changed paths:
   M /trunk/configure.ac

configure.ac: remove left over debug

oops, forgot to remove debug before checking in.
------------------------------------------------------------------------
r841 | brarcher | 2013-10-14 19:03:27 -0400 (Mon, 14 Oct 2013) | 7 lines
Changed paths:
   M /trunk/lib/snprintf.c

snprintf: disable 'long long', as is not supported in C90

-Wlong-long warns that C90 does not support the 'long long' data type.
However, the snprintf replacement provides support for it. As
check does not use long long anywhere, and also does not
use it to print anything, references to the data types are removed
from the snprintf replacement.
------------------------------------------------------------------------
r840 | brarcher | 2013-10-14 19:03:25 -0400 (Mon, 14 Oct 2013) | 1 line
Changed paths:
   M /trunk/lib/snprintf.c

snprintf: remove missing default case warning
------------------------------------------------------------------------
r839 | brarcher | 2013-10-14 19:03:21 -0400 (Mon, 14 Oct 2013) | 5 lines
Changed paths:
   M /trunk/lib/snprintf.c

snprintf: removing missing prototype warnings

These prototypes are all in libcompat.h, and as there is no need
for this file to include libcompat.h, the missing headers are
put into this file.
------------------------------------------------------------------------
r838 | brarcher | 2013-10-14 19:03:19 -0400 (Mon, 14 Oct 2013) | 1 line
Changed paths:
   M /trunk/configure.ac

Fix enable_fork check
------------------------------------------------------------------------
r837 | brarcher | 2013-10-14 19:03:17 -0400 (Mon, 14 Oct 2013) | 8 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/m4/snprintf.m4

Add configure option to force snprintf replacement

The configure argument --enable-snprintf-replacement will be used
for force the snprintf replacement in libcompat to be compiled,
even on systems that provide a C99 compliant replacement.

This will be useful for vetting the replacement, as a system
without a C99 snprintf may not be readily available.
------------------------------------------------------------------------
r836 | brarcher | 2013-10-06 17:17:39 -0400 (Sun, 06 Oct 2013) | 1 line
Changed paths:
   M /trunk/lib/libcompat.h

Silence warning about missing exit() prototype
------------------------------------------------------------------------
r835 | brarcher | 2013-10-06 17:17:37 -0400 (Sun, 06 Oct 2013) | 4 lines
Changed paths:
   M /trunk/src/check.c

Prevent setting a timeout with fork unavailable

If fork() is unavailable, then setting a timeout is meaningless,
as tests are unable to be cut off if they overrun their time.
------------------------------------------------------------------------
r834 | brarcher | 2013-10-06 17:17:35 -0400 (Sun, 06 Oct 2013) | 1 line
Changed paths:
   M /trunk/tests/check_check_log.c

Do not compile set env functions without a working setenv
------------------------------------------------------------------------
r833 | brarcher | 2013-10-06 17:17:33 -0400 (Sun, 06 Oct 2013) | 1 line
Changed paths:
   M /trunk/lib/localtime_r.c

Silence warning about no new line at end of file
------------------------------------------------------------------------
r832 | brarcher | 2013-10-03 21:38:19 -0400 (Thu, 03 Oct 2013) | 1 line
Changed paths:
   M /trunk/tests/check_check_log.c
   M /trunk/tests/check_check_sub.c

Do not compile unused tests
------------------------------------------------------------------------
r831 | brarcher | 2013-10-03 21:38:17 -0400 (Thu, 03 Oct 2013) | 1 line
Changed paths:
   M /trunk/src/check_log.c

silence warning about wrong type passed to localtime_r
------------------------------------------------------------------------
r830 | brarcher | 2013-10-03 21:38:15 -0400 (Thu, 03 Oct 2013) | 1 line
Changed paths:
   M /trunk/src/check_impl.h

silence warning about invalid prototype
------------------------------------------------------------------------
r829 | brarcher | 2013-10-03 21:38:12 -0400 (Thu, 03 Oct 2013) | 1 line
Changed paths:
   M /trunk/src/check.c

silence warnings about unused parameters if fork is unavailable
------------------------------------------------------------------------
r828 | brarcher | 2013-10-03 21:38:08 -0400 (Thu, 03 Oct 2013) | 6 lines
Changed paths:
   M /trunk/lib/libcompat.c

silence warning about ck_do_nothing being able to return

The prototype for ck_do_nothing marks it as noreturn.
gcc thought that the function could still return. Adding
an exit() call at the end (although the assert() will not
let it get that far) to silence the warning.
------------------------------------------------------------------------
r827 | cpickett | 2013-10-03 13:13:33 -0400 (Thu, 03 Oct 2013) | 2 lines
Changed paths:
   M /trunk/configure.ac

* allow silent rules (don't show compiler flags)

------------------------------------------------------------------------
r826 | brarcher | 2013-10-02 22:40:17 -0400 (Wed, 02 Oct 2013) | 5 lines
Changed paths:
   M /trunk/src/check.h.in

Change %p to %#x for printing pointers

The MinGW platform prints %p as a 0 extended %d. As %#x is
equivalent to %p, replacing it in hopes that MinGW will print
what is expected.
------------------------------------------------------------------------
r825 | brarcher | 2013-10-02 22:01:50 -0400 (Wed, 02 Oct 2013) | 1 line
Changed paths:
   M /trunk/lib/libcompat.h
   M /trunk/lib/localtime_r.c

Don't declare localtime_r when it's a macro
------------------------------------------------------------------------
r824 | brarcher | 2013-10-02 22:01:48 -0400 (Wed, 02 Oct 2013) | 12 lines
Changed paths:
   M /trunk/configure.ac

Remove -Werror from automake

On newer versions of automake, doc/Makefile.am causes a warning:

It appears this file (or files included by it) are triggering
an undocumented, soon-to-be-removed automake hack.
Future automake versions will no longer place in the builddir
(rather than in the srcdir) the generated '.info' files that
appear to be cleaned, by e.g. being listed in CLEANFILES or
DISTCLEANFILES. If you want your '.info' files to be placed in the
builddir rather than in the srcdir, you have to use the
shiny new 'info-in-builddir' automake option.
------------------------------------------------------------------------
r823 | brarcher | 2013-10-01 22:56:09 -0400 (Tue, 01 Oct 2013) | 1 line
Changed paths:
   M /trunk/NEWS

Update NEWS with MinGW support.
------------------------------------------------------------------------
r822 | brarcher | 2013-10-01 22:55:02 -0400 (Tue, 01 Oct 2013) | 4 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/lib/libcompat.h

Define 'struct timespec' if unavailable in time.h

MinGW does not provide a definition for 'struct timespec' in time.h
Providing a definition in libcompat.h if detected.
------------------------------------------------------------------------
r821 | brarcher | 2013-10-01 18:21:11 -0400 (Tue, 01 Oct 2013) | 1 line
Changed paths:
   M /trunk/NEWS

Clarify NEWS about MinGW-w64 support - no fork used
------------------------------------------------------------------------
r820 | brarcher | 2013-10-01 18:21:09 -0400 (Tue, 01 Oct 2013) | 1 line
Changed paths:
   M /trunk/NEWS

Update NEWS with information on Cygwin support for Windows
------------------------------------------------------------------------
r819 | brarcher | 2013-10-01 18:21:08 -0400 (Tue, 01 Oct 2013) | 7 lines
Changed paths:
   M /trunk/lib/libcompat.h

If clocks are not defined, set to (hopefully) invalid value

Likely, if clock_gettime() is implemented on a system, the first
valid clock will be set to '0'. If not all clock are defined,
by setting our fake definitions to '0', we may accidental use a
valid clock when we did not mean to. Setting the clocks to '-1'
in hopes to avoid this.
------------------------------------------------------------------------
r818 | brarcher | 2013-10-01 18:21:06 -0400 (Tue, 01 Oct 2013) | 7 lines
Changed paths:
   M /trunk/lib/libcompat.h

Define monotonic and realtime clock, even if librt is available

Cygwin has librt and implements clock_gettime(), but does not
define CLOCK_MONOTONIC.

Moving these definitions outside of the check for librt, as they
may be needed even if the system has librt.
------------------------------------------------------------------------
r817 | brarcher | 2013-10-01 18:21:04 -0400 (Tue, 01 Oct 2013) | 4 lines
Changed paths:
   M /trunk/src/check_msg.c

Remove warnings about combining initialization and declaration

Clang warns that FILE* should be declared before it is assigned,
and to not mix declarations and code.
------------------------------------------------------------------------
r816 | brarcher | 2013-10-01 18:21:02 -0400 (Tue, 01 Oct 2013) | 4 lines
Changed paths:
   M /trunk/src/check_msg.c

Remove warning about undeclared function ck_strdup_printf

check_msg.c was not including check_str.h to get the
prototype for ck_strdup_printf. Now fixed.
------------------------------------------------------------------------
r815 | brarcher | 2013-10-01 18:21:00 -0400 (Tue, 01 Oct 2013) | 4 lines
Changed paths:
   M /trunk/src/check_log.c
   M /trunk/src/check_run.c

initialize both elements in timespec

Initializing a timespect to {0} only initializes the first
field. Needed to assign {0,0} to get both fields.
------------------------------------------------------------------------
r814 | brarcher | 2013-09-27 23:10:43 -0400 (Fri, 27 Sep 2013) | 11 lines
Changed paths:
   M /trunk/src/check_msg.c

if tmpfile() fails, remember the filename and delete it later

One feature of tmpfile() is to unlink the file, causing it to be
deleted after it is closed. Unlinking an open file fails in Windows.
To prevent the case where the temp directory just fills up with
files, the created file name is remembered, and deleted when
it is closed.

Certainly, if a unit test fails before it deletes the file,
the temp directory will still fill up. However, this is better
than not deleting the files.
------------------------------------------------------------------------
r813 | brarcher | 2013-09-27 23:10:42 -0400 (Fri, 27 Sep 2013) | 11 lines
Changed paths:
   M /trunk/src/check_msg.c

Print an error if nothing is read from punpack()

There is some issue with MinGW-w64 builds run on wine, if multiple
unit test programs are run concurrently. Sometimes they will fail
to get something from punpack. It may be a failure to read the file,
or the file, or some other issue.

When this happens, later in receive_test_result the rmesg is free'd,
but only by freeing its elements first, which causes a segfault.

Instead of crashing, check should error out gracefully.
------------------------------------------------------------------------
r812 | brarcher | 2013-09-27 23:10:40 -0400 (Fri, 27 Sep 2013) | 13 lines
Changed paths:
   M /trunk/src/check_msg.c

If tmpfile() fails, try to make a unique file with tempnam() and getpid()

On systems where tmpfile() does not work, we try to fallback on
using tempnam() and fopen() to get a temporary unique file.

However, tempnam is not enough to get a unique name. Between
getting the name and opening the file, something else also
calling tempnam() could get the same name. It has been observed
on MinGW-w64 builds on Wine that this exact thing happens
if multiple instances of a unit tests are running concurrently.
To prevent two concurrent unit tests from getting the same file,
we append the pid to the file. The pid should be unique on the
system.
------------------------------------------------------------------------
r811 | brarcher | 2013-09-27 23:10:38 -0400 (Fri, 27 Sep 2013) | 1 line
Changed paths:
   M /trunk/NEWS

Update NEWS with information on MinGW-w64/wine support
------------------------------------------------------------------------
r810 | brarcher | 2013-09-27 20:34:02 -0400 (Fri, 27 Sep 2013) | 4 lines
Changed paths:
   M /trunk/tests/test_xml_output.sh

test_xml_output: removing stray ${3}

There is no third argument (or any argument) to this script.
Removing the unneeded ${3}
------------------------------------------------------------------------
r809 | brarcher | 2013-09-27 20:34:01 -0400 (Fri, 27 Sep 2013) | 3 lines
Changed paths:
   M /trunk/tests/test_log_output.sh

test_log_output: Fixed typo in test

There is no third argument, only the first argument.
------------------------------------------------------------------------
r808 | brarcher | 2013-09-27 20:33:59 -0400 (Fri, 27 Sep 2013) | 9 lines
Changed paths:
   M /trunk/tests/test_check_nofork.sh
   M /trunk/tests/test_log_output.sh
   M /trunk/tests/test_output.sh
   M /trunk/tests/test_xml_output.sh

Fix how tests remove \r characters

   sed 's/\r//g'
worked for my Linux machine, but OSX expected
   sed 's/\\\\r//g'

Avoid using sed at all, and instead use
   tr -d "\r"
which works on both platforms.
------------------------------------------------------------------------
r807 | brarcher | 2013-09-27 20:33:57 -0400 (Fri, 27 Sep 2013) | 3 lines
Changed paths:
   M /trunk/tests/ex_log_output.c

Fix small text errors in test's help output.

Likely the CR* was true at one point, but was changed to CK_*
------------------------------------------------------------------------
r806 | brarcher | 2013-09-27 20:33:55 -0400 (Fri, 27 Sep 2013) | 10 lines
Changed paths:
   M /trunk/src/check_msg.c

Do not make decision based on fork status for which ctx to assign

This condition worked when the fork status was CK_FORK. However,
if the fork status was CK_NOFORK, it would fail. The values of
lastctx and failctx would be the same, however the wrong one would
be written if CK_NOFORK was being used.

There does not seem to be any reason why lastctx could not be used
all the time. No decision in messaging seems to be related to
the fork status.
------------------------------------------------------------------------
r805 | brarcher | 2013-09-27 20:33:53 -0400 (Fri, 27 Sep 2013) | 4 lines
Changed paths:
   M /trunk/tests/check_check_selective.c

check_check: do not run tests using setenv if unavailable

If the system does not have setenv(), do not use it during
tests. The libcompat version calls assert(), failing the test.
------------------------------------------------------------------------
r804 | brarcher | 2013-09-26 21:38:43 -0400 (Thu, 26 Sep 2013) | 5 lines
Changed paths:
   M /trunk/tests/test_check_nofork.sh

test_check_nofork: removing assumption that HAVE_FORK=0 implied Windows

With the configuration option --disable-fork, *nix systems
can also be compiled without using fork. To fix the
line encoding, sed is used to remove \r before the check.
------------------------------------------------------------------------
r803 | brarcher | 2013-09-26 21:38:41 -0400 (Thu, 26 Sep 2013) | 5 lines
Changed paths:
   M /trunk/tests/test_output.sh

test_output: removing assumption that HAVE_FORK=0 implied Windows

With the configuration option --disable-fork, *nix systems
can also be compiled without using fork. To fix the
line encoding, sed is used to remove \r before the check.
------------------------------------------------------------------------
r802 | brarcher | 2013-09-26 21:38:39 -0400 (Thu, 26 Sep 2013) | 5 lines
Changed paths:
   M /trunk/tests/test_log_output.sh

test_log_output: removing assumption that HAVE_FORK=0 implied Windows

With the configuration option --disable-fork, *nix systems
can also be compiled without using fork. To fix the
line encoding, sed is used to remove \r before the check.
------------------------------------------------------------------------
r801 | brarcher | 2013-09-26 21:38:37 -0400 (Thu, 26 Sep 2013) | 7 lines
Changed paths:
   M /trunk/tests/test_xml_output.sh

test_xml_output: remove check for -1 in durations

This test is only valid on platforms that have a functional
clock_gettime() and do not have a good replacement in libcompat.
If there is no good replacement, then all durations will be 0,
even during failures. Instead of forcing the duration to be
negative during a failure artificially, we remove the requirement.
------------------------------------------------------------------------
r800 | brarcher | 2013-09-26 21:38:35 -0400 (Thu, 26 Sep 2013) | 5 lines
Changed paths:
   M /trunk/tests/test_xml_output.sh

test_xml_output: removing assumption that HAVE_FORK=0 implied Windows

With the configuration option --disable-fork, *nix systems
can also be compiled without using fork. To fix the
line encodings, sed is used to remove \r before the check.
------------------------------------------------------------------------
r799 | brarcher | 2013-09-26 21:38:33 -0400 (Thu, 26 Sep 2013) | 5 lines
Changed paths:
   M /trunk/src/check_run.c

Only use signals if fork is available

The code at the top of this file for signals and fork is protected by
HAVE_FORK. The signals usage is not very useful without fork, so
now protecting the signal code with HAVE_FORK as well.
------------------------------------------------------------------------
r798 | brarcher | 2013-09-26 21:38:31 -0400 (Thu, 26 Sep 2013) | 1 line
Changed paths:
   M /trunk/configure.ac

allow disabling fork, to test for systems without fork
------------------------------------------------------------------------
r797 | brarcher | 2013-09-25 22:31:47 -0400 (Wed, 25 Sep 2013) | 5 lines
Changed paths:
   M /trunk/tests/check_check_main.c

disable exit tests if fork is unavailable

all of these tests expect that calling exit() during a test is OK.
Without fork, these tests just result in killing the unit test
program early.
------------------------------------------------------------------------
r796 | brarcher | 2013-09-25 22:31:44 -0400 (Wed, 25 Sep 2013) | 9 lines
Changed paths:
   M /trunk/tests/check_check_fixture.c

disable checked signal tests if fork is unavailable

As mentioned in a previous commit, checked fixtures are disabled
if fork is unavailable, as they are unable to provide the guarantees
that they advertise without fork.

In addition, some line numbers are updated. This is because some tests
are looking through error messages, and the line number of the
messages is important.
------------------------------------------------------------------------
r795 | brarcher | 2013-09-25 22:31:42 -0400 (Wed, 25 Sep 2013) | 12 lines
Changed paths:
   M /trunk/src/check.c

Disable checked fixtures if fork is unavailable

checked fixtures allow setup and teardown functions to be run in the
same process space as tests. If a fixture fails, the error is caught
and reported as a failure for the associated test.

If fork is not used, then the guarantee that checked fixtures try to
provide is not possible. Further, using checked fixtures without fork can
cause issues. For example, without fork if a checked teardown
calls ck_assert() which fails, this results in longjmp being called,
which results in the teardowns being called again. An infinate loop
results.
------------------------------------------------------------------------
r794 | brarcher | 2013-09-25 22:31:39 -0400 (Wed, 25 Sep 2013) | 4 lines
Changed paths:
   M /trunk/src/check_str.c

Changing the value passed to malloc to be size_t instead of int

We should not pass a negative number to malloc. Making size
of type size_t to emphasize this.
------------------------------------------------------------------------
r793 | brarcher | 2013-09-23 13:58:11 -0400 (Mon, 23 Sep 2013) | 4 lines
Changed paths:
   M /trunk/src/check_list.c

The number of elements in a list is now unsigned

there can never be a negative number of elements in a list.
Changing the values to unsigned to enforce this.
------------------------------------------------------------------------
r792 | brarcher | 2013-09-23 13:58:10 -0400 (Mon, 23 Sep 2013) | 1 line
Changed paths:
   M /trunk/src/check.c

Disable warning from implicit cast of double to time_t or long
------------------------------------------------------------------------
r791 | brarcher | 2013-09-23 13:58:09 -0400 (Mon, 23 Sep 2013) | 5 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/lib/libcompat.h
   M /trunk/src/check.h.in
   M /trunk/src/check_error.h

Add noreturn attribute to select functions and added -Wmissing-noreturn

Added the gcc attribute noreturn to a few functions that could use it
(but only if the compiler is gcc 2.5 >=),  and added the warning to
point out when a function should use noreturn.
------------------------------------------------------------------------
r790 | brarcher | 2013-09-23 13:58:07 -0400 (Mon, 23 Sep 2013) | 4 lines
Changed paths:
   M /trunk/configure.ac

Adding warning flags

These flags do not cause any warnings to be emitted currently.
Adding them now, in case a future change causes a warning.
------------------------------------------------------------------------
r789 | brarcher | 2013-09-23 13:58:06 -0400 (Mon, 23 Sep 2013) | 1 line
Changed paths:
   M /trunk/src/check_run.c

Adding a missing case in a switch statement
------------------------------------------------------------------------
r788 | brarcher | 2013-09-23 13:58:02 -0400 (Mon, 23 Sep 2013) | 5 lines
Changed paths:
   M /trunk/src/check_pack.c
   M /trunk/src/check_pack.h

The mutex cleanup function is now declared as static

ppack_cleanup should not be called outside of check_pack.c,
as it is passed as a cleanup callback to pthread. Declaring it
as static.
------------------------------------------------------------------------
r787 | brarcher | 2013-09-23 11:17:56 -0400 (Mon, 23 Sep 2013) | 11 lines
Changed paths:
   M /trunk/src/check.c
   M /trunk/src/check_impl.h
   M /trunk/src/check_log.c
   M /trunk/src/check_run.c

Determine at runtime which clockid_t to use for clock_gettime

The cygwin platform (perhaps others) does not support
CLOCK_MONOTONIC in clock_gettime. However, it does support
CLOCK_REALTIME. Instead of having every call to clock_gettime
check which clock to use, check once and cache the result.

The only two clock options which seemed useful are CLOCK_MONOTONIC
and CLOCK_REALTIME. If others are available in the future
(or another clock type seems a good alternative if these two are
missing on a system) it can be added later.
------------------------------------------------------------------------
r786 | brarcher | 2013-09-23 11:17:54 -0400 (Mon, 23 Sep 2013) | 4 lines
Changed paths:
   M /trunk/lib/clock_gettime.c
   M /trunk/lib/libcompat.h

Use clockid_t in prototype for clock_gettime

The clockid_t type will be needed in a future commit. In preparation,
providing the type now in libcompat.h.
------------------------------------------------------------------------
r785 | brarcher | 2013-09-23 11:17:52 -0400 (Mon, 23 Sep 2013) | 12 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/tests/test_xml_output.sh

Do not expect the duration for no-fork mode tests to be negative

For tests using fork, if the test fails exit() is called, which results
in the duration not being recorded for the test.

no-fork mode instead requires all tests to return, meaning their
duration is always recorded.

The test_xml_output.sh test expected that all failed tests have a negative
duration, which is not the case for no-fork mode. Removing
this expectation, and instead forcing all durations to be >=0 for
no-fork mode.
------------------------------------------------------------------------
r784 | brarcher | 2013-09-23 11:17:50 -0400 (Mon, 23 Sep 2013) | 4 lines
Changed paths:
   M /trunk/src/check_log.c
   M /trunk/src/check_run.c

initialize timespec's to {0}

In case the clock_gettime call fails, the timespec values need to be
a sane value.
------------------------------------------------------------------------
r783 | brarcher | 2013-09-23 09:07:03 -0400 (Mon, 23 Sep 2013) | 13 lines
Changed paths:
   M /trunk/tests/ex_xml_output.c
   M /trunk/tests/test_xml_output.sh

modify test_xml_output.sh to compare output based on HAVE_FORK

When run in Windows, the output differs slightly from when it is run
under *NIX due to line endings. *NIX uses \n, whereas Windows
uses \r\n. To account for this, printf is used to generate the
Windows expected string.

Additionally, the test_exit test was removed, as it is not valid
if fork is unavailable.

Note that the test does not yet pass for MinGW due to a bug yet to be
identified. The last test failure to compare against currently has
a duration which is not -1.
------------------------------------------------------------------------
r782 | brarcher | 2013-09-23 09:07:01 -0400 (Mon, 23 Sep 2013) | 9 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/tests/ex_log_output.c
   M /trunk/tests/test_log_output.sh

modify test_log_output.sh to compare output based on HAVE_FORK

When run in Windows, the output differs slightly from when it is run
under *NIX due to line endings. *NIX uses \n, whereas Windows
uses \r\n. To account for this, printf is used to generate the
Windows expected string.

Additionally, the test_exit test was removed, as it is not valid
if fork is unavailable.
------------------------------------------------------------------------
r781 | brarcher | 2013-09-23 09:06:58 -0400 (Mon, 23 Sep 2013) | 13 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/tests/test_check_nofork.sh

modify test_check_nofork.sh to compare output based on HAVE_FORK

When run in Windows, the output differs slightly from when it is run
under *NIX due to line endings. *NIX uses \n, whereas Windows
uses \r\n. To account for this, printf is used to generate the
Windows expected string.

One other change is not using stderr for the test. Wine has an issue
with the tmpfile() call, and will output:
   fixme:msvcrt:MSVCRT__sopen_s : pmode 0x0033 ignored
to stderr when tmpfile() is called. Besides, if the test actually
does segfault in the future (which is the reason for grabbing the stderr),
the result will not be to print out the test results.
------------------------------------------------------------------------
r780 | brarcher | 2013-09-22 19:29:05 -0400 (Sun, 22 Sep 2013) | 11 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/tests/test_output.sh

modify test_output.sh to compare output based on HAVE_FORK

The output of ex_output changes based on HAVE_FORK, as a test is
skipped when fork is unavailable. However, simply adding another
string mentioning one less test is not enough to get this working
for Windows...

When run in Windows, the output differs slightly from when it is run
under *NIX due to line endings. *NIX uses \n, whereas Windows
uses \r\n. To account for this, printf is used to generate the
Windows expected string.
------------------------------------------------------------------------
r779 | brarcher | 2013-09-22 19:29:03 -0400 (Sun, 22 Sep 2013) | 4 lines
Changed paths:
   M /trunk/tests/ex_output.c
   M /trunk/tests/test_output.sh

Do not run test_exit if fork is unavailable

if fork is unavailable, the test is not valid, as it makes the
unit test runner exit early.
------------------------------------------------------------------------
r778 | brarcher | 2013-09-22 19:29:01 -0400 (Sun, 22 Sep 2013) | 4 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/tests/test_vars.in

export HAVE_FORK to testing shell scripts

The testing scripts will need to know if fork is available or not,
as different tests will run if it is.
------------------------------------------------------------------------
r777 | brarcher | 2013-09-22 17:27:58 -0400 (Sun, 22 Sep 2013) | 4 lines
Changed paths:
   M /trunk/tests/check_check_export_main.c
   M /trunk/tests/check_check_master.c

Remove explicit set of CK_NOFORK when fork is unavailable

the default behavior is to now set the fork mode as CK_NOFORK
if fork is unavailable. The code being removed is redundant.
------------------------------------------------------------------------
r776 | brarcher | 2013-09-22 17:27:55 -0400 (Sun, 22 Sep 2013) | 3 lines
Changed paths:
   M /trunk/tests/check_check_fork.c

Add test for setting CK_FORK mode

There was a test for setting CK_NOFORK, but not for CK_FORK.
------------------------------------------------------------------------
r775 | brarcher | 2013-09-22 17:27:53 -0400 (Sun, 22 Sep 2013) | 6 lines
Changed paths:
   M /trunk/src/check_run.c
   M /trunk/tests/check_check_fork.c

Post an error if a fork mode is set and fork is unavailable

The default fork mode if fork is unavailable is CK_NOFORK.
Someone trying to set a fork mode without fork available will
only result in failures running tests. Posting an error up
front before tests are run makes more sense.
------------------------------------------------------------------------
r774 | brarcher | 2013-09-22 17:27:50 -0400 (Sun, 22 Sep 2013) | 5 lines
Changed paths:
   M /trunk/src/check.c
   M /trunk/tests/check_check_fork.c

Set default fork mode to CK_NOFORK if fork is unavailable

The default fork mode is CK_FORK_GETENV, which checks the
environment, and failing that falls back on using fork.
If fork is unavailable, the default is now to set CK_NOFORK.
------------------------------------------------------------------------
r773 | brarcher | 2013-09-22 17:27:47 -0400 (Sun, 22 Sep 2013) | 5 lines
Changed paths:
   M /trunk/tests/check_check_main.c

check_check: do setup regardless of availability of fork

The tests originally protected by the HAVE_FORK check will
work if fork is unavailable. Further, setup() does work that
is required by the tests which follow.
------------------------------------------------------------------------
r772 | brarcher | 2013-09-22 13:23:03 -0400 (Sun, 22 Sep 2013) | 1 line
Changed paths:
   M /trunk/NEWS

Update NEWS file with information on MinGW-w64 builds
------------------------------------------------------------------------
r771 | brarcher | 2013-09-22 13:23:02 -0400 (Sun, 22 Sep 2013) | 7 lines
Changed paths:
   M /trunk/tests/check_check_export_main.c
   M /trunk/tests/check_check_master.c

If fork unavailable, run tests with CK_NOFORK

Although the tests which check the correctness of fork-based tests
are disabled if fork is unavailable, the remaining tests were
still run assuming fork was available.

If there is no fork, run tests cases with CK_NOFORK
------------------------------------------------------------------------
r770 | brarcher | 2013-09-22 13:23:00 -0400 (Sun, 22 Sep 2013) | 4 lines
Changed paths:
   M /trunk/tests/check_check_log.c

skip tests requiring setenv if none is available

These tests were not protected by the HAVE_WORKING_SETENV variable,
but needed to be.
------------------------------------------------------------------------
r769 | brarcher | 2013-09-22 13:22:59 -0400 (Sun, 22 Sep 2013) | 7 lines
Changed paths:
   M /trunk/tests/check_check_master.c

skip test_setup without fork

This test is run 3 times, and each run attempts to change some global
memory. If using fork, each test has the same global memory. However,
without fork subsequent tests observe the changed global memory from
previous tests. Disabling all but the first run if there is no fork(),
and the test is invalid without fork.
------------------------------------------------------------------------
r768 | brarcher | 2013-09-22 13:22:57 -0400 (Sun, 22 Sep 2013) | 4 lines
Changed paths:
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

Do not run test_early_exit without fork

Without fork(), this test results in exiting a unit test run.
The test is not valid without fork().
------------------------------------------------------------------------
r767 | brarcher | 2013-09-22 13:22:55 -0400 (Sun, 22 Sep 2013) | 5 lines
Changed paths:
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

Do not run signal tests without fork()

Without fork(), the signal tests are invalid. They result in throwing
different signals, no of which would let a no-fork unit test
run finish. The tests are invalid without fork().
------------------------------------------------------------------------
r766 | brarcher | 2013-09-22 13:22:53 -0400 (Sun, 22 Sep 2013) | 5 lines
Changed paths:
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

Do not run test_mark_lno without fork()

Previously the test_mark_lno test would run without fork, it just
would not early exit. This let the unit tests run, but did not
let them pass. Without fork(), the test is invalid.
------------------------------------------------------------------------
r765 | brarcher | 2013-09-22 13:22:52 -0400 (Sun, 22 Sep 2013) | 4 lines
Changed paths:
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

Only run timeout tests if fork is available on system

Without fork(), these tests cannot run properly anyway, as they
cannot timeout.
------------------------------------------------------------------------
r764 | brarcher | 2013-09-22 13:22:50 -0400 (Sun, 22 Sep 2013) | 1 line
Changed paths:
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

Run fork tests if fork() is defined on system
------------------------------------------------------------------------
r763 | brarcher | 2013-09-22 13:22:49 -0400 (Sun, 22 Sep 2013) | 1 line
Changed paths:
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

Add comments at end of #endif
------------------------------------------------------------------------
r762 | brarcher | 2013-09-22 13:22:47 -0400 (Sun, 22 Sep 2013) | 4 lines
Changed paths:
   M /trunk/lib/libcompat.h
   M /trunk/src/check_pack.c

Move stdint include to libcompat

It has a #ifdef surrounding it, it is better to have it in one place
then.
------------------------------------------------------------------------
r761 | brarcher | 2013-09-22 13:22:45 -0400 (Sun, 22 Sep 2013) | 4 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/src/check.c
   M /trunk/src/check_run.c
   M /trunk/tests/check_check_main.c
   M /trunk/tests/check_check_pack.c
   M /trunk/tests/check_check_sub.c
   M /trunk/tests/check_thread_stress.c

Replace _POSIX_VERSION with more specific checks

_POSIX_VERSION was used to conditionally compile several posix-only
features. Replacing these with checks for exactly what is needed.
------------------------------------------------------------------------
r760 | brarcher | 2013-09-21 13:10:32 -0400 (Sat, 21 Sep 2013) | 7 lines
Changed paths:
   M /trunk/lib/libcompat.h
   M /trunk/src/check_run.c

If CLOCK_MONOTONIC is not supported, try CLOCK_REALTIME

The cygwin platform (perhaps others) does not support the
CLOCK_MONOTONIC timer. Attempt to use the realtime clock,
and bail out if that also fails.

Fix for bug #88
------------------------------------------------------------------------
r759 | brarcher | 2013-09-21 12:33:08 -0400 (Sat, 21 Sep 2013) | 21 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/NEWS
   M /trunk/configure.ac
   M /trunk/lib/timer_delete.c
   M /trunk/lib/timer_settime.c

Use setitimer in timer_* fallbacks

CCurrently on GNU/Hurd the timer_* functions are not implemented;
check's configure detects that and switches to the replacements
functions in lib/, which use alarm for the timer. However, using
alarm does not allow a timeout precision more than 1 second (as also
written in the comments in lib/timer_settime.c), causing the failure
of the two tests check_check_export and check_check.

As a workaround, it is possible to get a better precision using the
POSIX function setitimer [1] (declared obsolescent, but still usable)
instead of alarm.

This change checks for the existence of setitimer, and in case it
exists uses it (with its ITIMER_REAL timer) in the replacement
timer_settime and timer_delete. Given they are implemented in the
Hurd, all the tests of check passes.

[1] http://pubs.opengroup.org/onlinepubs/9699919799/functions/getitimer.html

Patch submitted by Pino Toscano, patch#49
------------------------------------------------------------------------
r758 | brarcher | 2013-09-21 12:03:17 -0400 (Sat, 21 Sep 2013) | 1 line
Changed paths:
   M /trunk/NEWS

Update NEWS to mention Check compiles for Windows using MinGW
------------------------------------------------------------------------
r757 | brarcher | 2013-09-21 12:03:15 -0400 (Sat, 21 Sep 2013) | 5 lines
Changed paths:
   M /trunk/AUTHORS

Update AUTHORS

bross had submitted a patch for a few issues compiling for
MinGW. Changes similar to his were put in, though after he
submitted his patch. Giving credit.
------------------------------------------------------------------------
r756 | brarcher | 2013-09-21 12:03:14 -0400 (Sat, 21 Sep 2013) | 18 lines
Changed paths:
   M /trunk/src/check_msg.c

Always try alternative to tmpfile() if necessary

If tmpfile fails on a platform, there is no harm in trying the
alternative.

Previously the alternative was only attempted for Windows. However,
checking for WIN32 was not correct; instead _WIN32 should be used.
When the proper check for Windows was attempted, OSX would fail
to run its tests. However, removing the conditional and renaming
_tempnam to tempnam (which is available in MinGW, OSX, and GNU/Linux)
works for all three platforms.

Correctly check for Windows environment

The correct way to check for compiling for Windows is to check for
_WIN32 instead of WIN32.

Patch submitted by username bross on Sourceforge, patch#48
------------------------------------------------------------------------
r755 | brarcher | 2013-09-21 12:03:11 -0400 (Sat, 21 Sep 2013) | 4 lines
Changed paths:
   M /trunk/tests/test_check_nofork.sh
   M /trunk/tests/test_log_output.sh
   M /trunk/tests/test_output.sh
   M /trunk/tests/test_xml_output.sh

Use EXEEXT in unit test running scripts

Instead of assuming that the extension of the unit testing programs
is nothing, use EXEEXT to get the actual extension.
------------------------------------------------------------------------
r754 | brarcher | 2013-09-21 00:00:45 -0400 (Sat, 21 Sep 2013) | 6 lines
Changed paths:
   M /trunk/tests/test_vars.in

add EXEEXT to test_vars

Some scripts that run unit tests assume that the compiled unit test
programs do not have an extension, which is not always true.
Adding in the EXEEXT variable, which lists what the extension, if
any, is.
------------------------------------------------------------------------
r753 | cpickett | 2013-09-12 10:39:11 -0400 (Thu, 12 Sep 2013) | 2 lines
Changed paths:
   M /trunk/index.html

* update index.html from 3.2 to 4.01

------------------------------------------------------------------------
r752 | cpickett | 2013-09-12 10:10:13 -0400 (Thu, 12 Sep 2013) | 2 lines
Changed paths:
   M /trunk/Makefile.am

* don't clean check_stdint.h which is generated by configure; bug 90

------------------------------------------------------------------------
r751 | brarcher | 2013-07-21 17:06:55 -0400 (Sun, 21 Jul 2013) | 4 lines
Changed paths:
   A /trunk/lib/alarm.c

Adding alarm.c to libcompat

Neglected to add this file in the previous commit

------------------------------------------------------------------------
r750 | brarcher | 2013-07-21 17:06:04 -0400 (Sun, 21 Jul 2013) | 5 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/lib/libcompat.h

Add alarm() to libcompat for platforms that do not define it

It was noticed in MinGW that alarm() is not defined. Adding it to
libcompat.

------------------------------------------------------------------------
r749 | brarcher | 2013-07-21 17:04:58 -0400 (Sun, 21 Jul 2013) | 7 lines
Changed paths:
   M /trunk/lib/libcompat.h

Do a forward declaration of "struct sigevent"

MinGW does not define "struct sigevent". As check never references
any field inside this, doing a forward declaration does no harm,
and allows MinGW to understand timer_create().


------------------------------------------------------------------------
r748 | brarcher | 2013-07-21 17:03:20 -0400 (Sun, 21 Jul 2013) | 2 lines
Changed paths:
   M /trunk/lib/libcompat.h

Add a missing comment at the end of a #ifdef block

------------------------------------------------------------------------
r744 | hugo303 | 2013-04-18 05:29:12 -0400 (Thu, 18 Apr 2013) | 1 line
Changed paths:
   M /trunk/NEWS

* Update for release
------------------------------------------------------------------------
r743 | hugo303 | 2013-04-18 05:27:03 -0400 (Thu, 18 Apr 2013) | 1 line
Changed paths:
   M /trunk/Makefile.am

Clean check_stdint.h
------------------------------------------------------------------------
r741 | hugo303 | 2013-04-18 04:57:14 -0400 (Thu, 18 Apr 2013) | 1 line
Changed paths:
   M /trunk/NEWS

* Update for release
------------------------------------------------------------------------
r740 | hugo303 | 2013-04-18 04:54:36 -0400 (Thu, 18 Apr 2013) | 1 line
Changed paths:
   M /trunk/NEWS

* Update for release
------------------------------------------------------------------------
r739 | hugo303 | 2013-04-18 04:54:00 -0400 (Thu, 18 Apr 2013) | 1 line
Changed paths:
   M /trunk/configure.ac

* Update for release
------------------------------------------------------------------------
r738 | hugo303 | 2013-04-18 04:34:22 -0400 (Thu, 18 Apr 2013) | 1 line
Changed paths:
   M /trunk/NEWS

* Update for release
------------------------------------------------------------------------
r737 | cpickett | 2013-02-25 04:56:47 -0500 (Mon, 25 Feb 2013) | 2 lines
Changed paths:
   M /trunk/checkmk
   M /trunk/checkmk/test
   M /trunk/tests

* ignore a bunch of generated files

------------------------------------------------------------------------
r736 | cpickett | 2013-02-25 04:38:37 -0500 (Mon, 25 Feb 2013) | 3 lines
Changed paths:
   M /trunk
   A /trunk/m4/ax_create_stdint_h.m4 (from /trunk/m4/m4_ax_create_stdint_h.m4:735)
   D /trunk/m4/m4_ax_create_stdint_h.m4

* rename m4_ax_create_stdint_h.m4 to ax_create_stdint_h.m4
* svn ignore generated check_stdint.h

------------------------------------------------------------------------
r735 | brarcher | 2013-02-16 01:15:40 -0500 (Sat, 16 Feb 2013) | 1 line
Changed paths:
   M /trunk/NEWS

Add to NEWS file
------------------------------------------------------------------------
r734 | brarcher | 2013-02-16 01:04:41 -0500 (Sat, 16 Feb 2013) | 4 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/configure.ac
   A /trunk/m4/m4_ax_create_stdint_h.m4
   M /trunk/src/check.h.in

Use AC_CREATE_STDINT_H instead of AC_CHECK_HEADERS

This is based on patch 1174961 from the tracker, submitted by
Travis Spencer.
------------------------------------------------------------------------
r703 | cpickett | 2013-02-11 19:00:44 -0500 (Mon, 11 Feb 2013) | 2 lines
Changed paths:
   M /trunk/AUTHORS

* clarify a couple things

------------------------------------------------------------------------
r702 | cpickett | 2013-02-11 18:29:19 -0500 (Mon, 11 Feb 2013) | 3 lines
Changed paths:
   M /trunk/AUTHORS

* clean up AUTHORS, and split lists into maintainers, ex-maintainers,
  committers, and contributors

------------------------------------------------------------------------
r701 | cpickett | 2013-02-11 17:59:48 -0500 (Mon, 11 Feb 2013) | 4 lines
Changed paths:
   M /trunk/src/check_msg.c

* flip conditionals around in setup_pipe so that it's readable
* call new open_tmp_file from setup_pipe instead of tmpfile, to
  make things work on WIN32, closing Bug 3314868

------------------------------------------------------------------------
r700 | cpickett | 2013-02-11 16:15:49 -0500 (Mon, 11 Feb 2013) | 3 lines
Changed paths:
   M /trunk/index.html

* fix dead link on web index.html, closing bug 3592019
* clean up spacing around a couple of other links

------------------------------------------------------------------------
r699 | cpickett | 2013-02-08 19:37:31 -0500 (Fri, 08 Feb 2013) | 6 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/src/check.h.in

* use AC_SUBST in configure.ac to replace @HAVE_STDINT_H@ in
  check.h.in, and define intmax_t and uintmax_t ourselves if it's not
  there, making check.h work with arbitrary clients again.  There is
  probably more of a fix needed for clients that just don't have
  64-bit ints.

------------------------------------------------------------------------
r698 | cpickett | 2013-02-08 16:24:23 -0500 (Fri, 08 Feb 2013) | 2 lines
Changed paths:
   M /trunk/src/check.h.in

* undo the last change

------------------------------------------------------------------------
r697 | cpickett | 2013-02-08 16:20:36 -0500 (Fri, 08 Feb 2013) | 2 lines
Changed paths:
   M /trunk/src/check.h.in

* take out use of HAVE_CONFIG_H and HAVE_STDINT_H from check.h.in

------------------------------------------------------------------------
r696 | cpickett | 2013-02-08 15:47:20 -0500 (Fri, 08 Feb 2013) | 2 lines
Changed paths:
   M /trunk/README

* added note about Automake 1.11.3 on OS X

------------------------------------------------------------------------
r695 | hugo303 | 2013-02-08 09:43:06 -0500 (Fri, 08 Feb 2013) | 1 line
Changed paths:
   M /trunk/configure.ac
   M /trunk/doc/check.texi
   M /trunk/src/check.h.in
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

* Add equivalent uint variants for __ck_assert_int. Patch from bug #3600433
------------------------------------------------------------------------
r694 | hugo303 | 2013-02-08 09:23:01 -0500 (Fri, 08 Feb 2013) | 1 line
Changed paths:
   M /trunk/configure.ac
   M /trunk/doc/check.texi
   M /trunk/src/check.h.in

* Support 64bit int for __ck_assert_int. Patch from bug #3599471
------------------------------------------------------------------------
r693 | hugo303 | 2013-02-08 09:10:51 -0500 (Fri, 08 Feb 2013) | 1 line
Changed paths:
   M /trunk/configure.ac

* Autoconf support for uint32_t. Patch from bug #3600421
------------------------------------------------------------------------
r692 | hugo303 | 2013-02-08 09:04:28 -0500 (Fri, 08 Feb 2013) | 1 line
Changed paths:
   M /trunk/configure.ac

* Fix compatibility with automake older than 1.12
------------------------------------------------------------------------
r691 | cpickett | 2013-02-06 16:09:03 -0500 (Wed, 06 Feb 2013) | 2 lines
Changed paths:
   M /trunk/doc/check.texi

* fix up description of how ck_assert_msg behaves

------------------------------------------------------------------------
r690 | cpickett | 2013-02-06 15:52:15 -0500 (Wed, 06 Feb 2013) | 2 lines
Changed paths:
   M /trunk/doc/check.texi

* replace ck_assert with ck_assert_msg

------------------------------------------------------------------------
r689 | brarcher | 2013-01-31 18:40:47 -0500 (Thu, 31 Jan 2013) | 1 line
Changed paths:
   M /trunk/configure.ac

Only add -lm if the floor function is in the math lib.
------------------------------------------------------------------------
r688 | brarcher | 2013-01-31 18:40:29 -0500 (Thu, 31 Jan 2013) | 1 line
Changed paths:
   M /trunk/configure.ac

Add comment explaining snprintf checks
------------------------------------------------------------------------
r687 | brarcher | 2013-01-31 17:49:40 -0500 (Thu, 31 Jan 2013) | 10 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/lib/libcompat.h
   A /trunk/lib/snprintf.c
   A /trunk/m4/snprintf.m4

Add C99 compliant snprintf to libcompat

Many systems do not provide a C99 compliant snprintf implementation.
To guarantee that the snprintf used by parts of check is correct,
a version is added to libcompat. The system's snprintf is checked with
the configure script. If the system's snprintf is not up to snuff,
the libcompat version is used.

This version of snprintf is from Holger WeiÃŸ and Patrick Powell.
http://www.jhweiss.de/software/snprintf.html
------------------------------------------------------------------------
r686 | brarcher | 2013-01-30 00:08:49 -0500 (Wed, 30 Jan 2013) | 4 lines
Changed paths:
   M /trunk/src/check.h.in

Fix typo in header file

Should read that ck_assert aborts the test if the condition is
false, not true.
------------------------------------------------------------------------
r685 | brarcher | 2013-01-30 00:04:11 -0500 (Wed, 30 Jan 2013) | 4 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/NEWS
   M /trunk/src/check.c
   M /trunk/src/check_list.c
   M /trunk/src/check_list.h
   M /trunk/src/check_log.c
   M /trunk/src/check_print.c
   M /trunk/src/check_run.c
   M /trunk/tests/check_check_log_internal.c
   M /trunk/tests/check_list.c

renaming list API to start with check_

Based on patch #3448601, this renames the internal list structure
API used by check to start with check_ to avoid name conflicts.
------------------------------------------------------------------------
r684 | brarcher | 2013-01-30 00:03:38 -0500 (Wed, 30 Jan 2013) | 4 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/NEWS

Clean up compiler warnings

Jerry James submitted a patch previously that fixed a few compiler
warnings which were recently fixed.
------------------------------------------------------------------------
r683 | cpickett | 2013-01-29 00:28:13 -0500 (Tue, 29 Jan 2013) | 2 lines
Changed paths:
   M /trunk/configure.ac

* use AM_PROG_AR for systems without it

------------------------------------------------------------------------
r682 | brarcher | 2013-01-28 22:11:21 -0500 (Mon, 28 Jan 2013) | 6 lines
Changed paths:
   M /trunk/doc/check.texi

Fix typo in documentation

The documentation says that a 'true' to ck_assert(_msg) will result
in a test failure. It should say 'false' instead.

Issue #3597793
------------------------------------------------------------------------
r681 | hugo303 | 2012-12-07 12:03:36 -0500 (Fri, 07 Dec 2012) | 4 lines
Changed paths:
   M /trunk/configure.ac

* Use leading x to test $GCC for gcov enabling instead of POSIX '-n'.
  Patch #3591517 on SF.


------------------------------------------------------------------------
r680 | brarcher | 2012-11-25 10:24:58 -0500 (Sun, 25 Nov 2012) | 5 lines
Changed paths:
   A /trunk/lib/timer_create.c
   A /trunk/lib/timer_delete.c
   A /trunk/lib/timer_settime.c

Adding files that were missed in the previous commit

The libcompat files for creating/modifying/deleting timers was missed
in the previous commit.

------------------------------------------------------------------------
r679 | brarcher | 2012-11-20 23:01:43 -0500 (Tue, 20 Nov 2012) | 8 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/configure.ac
   M /trunk/doc/check.texi
   M /trunk/lib/libcompat.h
   M /trunk/src/check.c
   M /trunk/src/check.h.in
   M /trunk/src/check_impl.h
   M /trunk/src/check_run.c
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

Allow unit test timeouts to be specified using nanosecond precision

Previously, test timeouts were limited to second precision. The reason
was the call used to determine test timeouts, alarm, only supported
second precision. With this change, three more functions from librt
are used set a timer to fire with nanosecond precision. For systems
without librt, an implementation of these functions is in libcompat
which fall back on using alarm.
------------------------------------------------------------------------
r678 | brarcher | 2012-11-17 23:14:06 -0500 (Sat, 17 Nov 2012) | 9 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/doc/check.texi
   M /trunk/doc/example/README

Updating documentation to remove using fail* API in examples

The fail* API are deprecated, but were the primary API used in the
examples. This commit changes this, by using API that is recommended
for use with new projects. The fail* API are mentioned with the
remaining convenience API, but are introduced as being deprecated.

Additionally, updated what version and on what system the examples
were built against.
------------------------------------------------------------------------
r677 | brarcher | 2012-11-17 23:13:48 -0500 (Sat, 17 Nov 2012) | 1 line
Changed paths:
   M /trunk/doc/example/tests/check_money.2.c
   M /trunk/doc/example/tests/check_money.3.c
   M /trunk/doc/example/tests/check_money.6.c
   M /trunk/doc/example/tests/check_money.7.c
   M /trunk/doc/example/tests/check_money.c

Updating examples to use alternatives to the fail* API
------------------------------------------------------------------------
r676 | brarcher | 2012-11-17 23:13:25 -0500 (Sat, 17 Nov 2012) | 1 line
Changed paths:
   M /trunk/doc/Makefile.am

Examples in documentation now are diffs showing entire file as context
------------------------------------------------------------------------
r675 | hugo303 | 2012-11-14 04:13:46 -0500 (Wed, 14 Nov 2012) | 3 lines
Changed paths:
   M /trunk/src/check_impl.h
   M /trunk/src/check_log.c
   M /trunk/src/check_run.c

* Calculation of duration for test runs now use clock_gettime() instead of
  gettimeofday(). Definition of DIFF_IN_USEC() moved to check_impl.h.

------------------------------------------------------------------------
r674 | hugo303 | 2012-11-13 03:35:41 -0500 (Tue, 13 Nov 2012) | 1 line
Changed paths:
   M /trunk/Makefile.am

* Added note on 'make doc/check_html' when releasing manually
------------------------------------------------------------------------
r673 | hugo303 | 2012-11-12 07:45:34 -0500 (Mon, 12 Nov 2012) | 1 line
Changed paths:
   M /trunk/HACKING

* Fix numeric typo
------------------------------------------------------------------------
r672 | brarcher | 2012-11-10 17:54:18 -0500 (Sat, 10 Nov 2012) | 1 line
Changed paths:
   M /trunk/tests/check_check_master.c

If the test_check_ntests_run test fails, print the number of tests expected
------------------------------------------------------------------------
r671 | brarcher | 2012-11-10 17:54:03 -0500 (Sat, 10 Nov 2012) | 1 line
Changed paths:
   M /trunk/tests/check_check_log_internal.c

Moving the creation of the suite, to remove a compiler warning
------------------------------------------------------------------------
r670 | brarcher | 2012-11-10 17:53:49 -0500 (Sat, 10 Nov 2012) | 1 line
Changed paths:
   M /trunk/src/check_pack.c

Remove unneeded variable
------------------------------------------------------------------------
r669 | brarcher | 2012-11-10 17:53:35 -0500 (Sat, 10 Nov 2012) | 7 lines
Changed paths:
   M /trunk/tests/check_check.h
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

If there is a mismatch on the number of tests to run, fail quicker

I have had to add several unit tests, and often times I would forget
to add an entry into either the master tests table or the line number
table. Of course, the tests would run, and several minutes later I
would find out. With this change, if there is a mismatch between the
table sizes, the test fails before starting.
------------------------------------------------------------------------
r668 | brarcher | 2012-11-08 12:05:31 -0500 (Thu, 08 Nov 2012) | 1 line
Changed paths:
   M /trunk/NEWS
   M /trunk/doc/check.texi
   M /trunk/src/check.h.in
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

add new ck_assert_ptr_(eq|ne) functions for pointer comparisons
------------------------------------------------------------------------
r667 | brarcher | 2012-11-07 23:51:59 -0500 (Wed, 07 Nov 2012) | 1 line
Changed paths:
   M /trunk/src/check.h.in

replace unnecessary mention of deprecated fail_unless in check.h with ck_assert
------------------------------------------------------------------------
r666 | brarcher | 2012-11-05 23:12:21 -0500 (Mon, 05 Nov 2012) | 1 line
Changed paths:
   M /trunk/tests/check_check_sub.c

free created srunner
------------------------------------------------------------------------
r665 | brarcher | 2012-11-05 23:11:49 -0500 (Mon, 05 Nov 2012) | 7 lines
Changed paths:
   M /trunk/tests/check_check_pack.c

no check for pointer!=NULL before dereferencing it

punpack can return NULL. These unit tests were checking if elements
inside of the return value are NULL, but not if the pointer itself
is NULL.

Additionally, a NULL check is unnecessary for a free.
------------------------------------------------------------------------
r664 | brarcher | 2012-11-05 23:11:37 -0500 (Mon, 05 Nov 2012) | 8 lines
Changed paths:
   M /trunk/tests/check_check_fixture.c
   M /trunk/tests/check_check_limit.c
   M /trunk/tests/check_check_log.c
   M /trunk/tests/check_check_log_internal.c

fix memory leaks

This commit fixes several instances where elements are created
but never free'd.

Although these tests may be run in their own process space,
and at the completion of the tests the memory will be free'd,
it is still good practice to clean up.
------------------------------------------------------------------------
r663 | brarcher | 2012-11-05 23:11:16 -0500 (Mon, 05 Nov 2012) | 4 lines
Changed paths:
   M /trunk/src/check_pack.c
   M /trunk/src/check_print.c
   M /trunk/src/check_run.c

replace strcpy with alternative

Although in these contexts using strcpy is safe, usually it is unsafe.
Replacing strcpy with simpler and safer alternatives.
------------------------------------------------------------------------
r662 | brarcher | 2012-11-05 23:11:04 -0500 (Mon, 05 Nov 2012) | 4 lines
Changed paths:
   M /trunk/src/check_run.c

fix memory leak

tcase_run_checked_setup returns a TestResult* that is ignored here.
Catching it and freeing it.
------------------------------------------------------------------------
r661 | brarcher | 2012-11-05 23:10:54 -0500 (Mon, 05 Nov 2012) | 1 line
Changed paths:
   M /trunk/src/check_run.c

if fork fails, do not send invalid pid to setpgid
------------------------------------------------------------------------
r660 | brarcher | 2012-11-05 23:10:44 -0500 (Mon, 05 Nov 2012) | 7 lines
Changed paths:
   M /trunk/src/check_log.c

fix compiler warning: subunit header file not found

The code is using ENABLE_SUBUNIT to determine if subunit is available.
HAVE_SUBUNIT_CHILD_H is never defined. When subunit is used, its
header files are never found, causing a compiler warning. This commit
replaces the #if protecting the header to be consistent with the
rest of the code.
------------------------------------------------------------------------
r659 | brarcher | 2012-11-05 23:10:35 -0500 (Mon, 05 Nov 2012) | 1 line
Changed paths:
   M /trunk/configure.ac

Fixing subunit checking condition in configure.ac
------------------------------------------------------------------------
r658 | brarcher | 2012-11-05 23:10:23 -0500 (Mon, 05 Nov 2012) | 1 line
Changed paths:
   M /trunk/src/check_log.c

removing variable that is written but never read
------------------------------------------------------------------------
r657 | brarcher | 2012-11-05 23:10:09 -0500 (Mon, 05 Nov 2012) | 1 line
Changed paths:
   M /trunk/src/check_log.c

remove tabs, replace with spaces
------------------------------------------------------------------------
r656 | brarcher | 2012-11-04 12:05:17 -0500 (Sun, 04 Nov 2012) | 6 lines
Changed paths:
   M /trunk/configure.ac

fix printing configure warning message when tex not installed

The value of $TEX is either 'tex' or 'false'. It is not empty if
tex is unavailable. The previous condition checked if $TEX was
a non-empty string (-n), and if so would print out a warning.
This was always the case, so a warning message would always print.
------------------------------------------------------------------------
r655 | brarcher | 2012-11-03 23:28:44 -0400 (Sat, 03 Nov 2012) | 2 lines
Changed paths:
   M /trunk/NEWS

update NEWS with information on recent checkins

------------------------------------------------------------------------
r654 | brarcher | 2012-11-03 23:27:43 -0400 (Sat, 03 Nov 2012) | 2 lines
Changed paths:
   M /trunk/tests/check_check_log_internal.c
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_selective.c

replace usage of fail_if(expr, msg) with ck_assert_msg(!expr, msg)

------------------------------------------------------------------------
r653 | brarcher | 2012-11-03 23:27:03 -0400 (Sat, 03 Nov 2012) | 2 lines
Changed paths:
   M /trunk/tests/check_check_fixture.c
   M /trunk/tests/check_check_fork.c
   M /trunk/tests/check_check_limit.c
   M /trunk/tests/check_check_log.c
   M /trunk/tests/check_check_log_internal.c
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_msg.c
   M /trunk/tests/check_check_pack.c
   M /trunk/tests/check_check_selective.c
   M /trunk/tests/check_check_sub.c
   M /trunk/tests/check_list.c
   M /trunk/tests/check_stress.c
   M /trunk/tests/check_thread_stress.c
   M /trunk/tests/ex_log_output.c
   M /trunk/tests/ex_output.c
   M /trunk/tests/ex_xml_output.c

replace usage of fail_unless() with ck_assert_msg()

------------------------------------------------------------------------
r652 | brarcher | 2012-11-03 23:25:57 -0400 (Sat, 03 Nov 2012) | 2 lines
Changed paths:
   M /trunk/tests/check_check_exit.c
   M /trunk/tests/check_check_fixture.c
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c
   M /trunk/tests/check_stress.c
   M /trunk/tests/ex_log_output.c
   M /trunk/tests/ex_output.c
   M /trunk/tests/ex_xml_output.c

replace usage of fail() with ck_abort_msg()

------------------------------------------------------------------------
r651 | brarcher | 2012-11-03 23:25:11 -0400 (Sat, 03 Nov 2012) | 3 lines
Changed paths:
   M /trunk/src/check.h.in

update check.h.in with new check API, and remove reference to deprecated API


------------------------------------------------------------------------
r650 | brarcher | 2012-11-03 23:24:27 -0400 (Sat, 03 Nov 2012) | 6 lines
Changed paths:
   M /trunk/tests/check_check_pack.c

silence warning regarding ignoring pipe's return value

Check's unit tests were calling pipe but ignore its return value.
This results in a compiler warning. The offending unit tests now
check the return value and call ck_assert_msg with it.

------------------------------------------------------------------------
r649 | brarcher | 2012-11-03 23:23:41 -0400 (Sat, 03 Nov 2012) | 2 lines
Changed paths:
   M /trunk/src/check_print.c

silence warnings when assigning constant string to char*

------------------------------------------------------------------------
r648 | brarcher | 2012-11-03 23:23:06 -0400 (Sat, 03 Nov 2012) | 4 lines
Changed paths:
   M /trunk/src/check_pack.h

Adding prototype for ppack_cleanup

There was no prototype, which would cause a compile warning

------------------------------------------------------------------------
r647 | brarcher | 2012-11-03 23:22:26 -0400 (Sat, 03 Nov 2012) | 4 lines
Changed paths:
   M /trunk/src/check_log.c
   M /trunk/src/check_print.c

fix printf warnings

fprintf was being passed arguments for items it was not printing

------------------------------------------------------------------------
r646 | brarcher | 2012-11-03 23:21:36 -0400 (Sat, 03 Nov 2012) | 5 lines
Changed paths:
   M /trunk/src/check_log.c

fix printf format warning

timeval contains long unsigned values, but fprintf was being told they
were signed integers.

------------------------------------------------------------------------
r645 | brarcher | 2012-11-03 23:20:36 -0400 (Sat, 03 Nov 2012) | 6 lines
Changed paths:
   M /trunk/tests/check_check_log_internal.c
   M /trunk/tests/check_check_pack.c
   M /trunk/tests/check_check_sub.c

fix warning for unused variables

This fixes a number of cases where a variable is written to but
never read. Nothing functional has changed, simply silencing some
warnings.

------------------------------------------------------------------------
r644 | brarcher | 2012-11-03 23:18:59 -0400 (Sat, 03 Nov 2012) | 8 lines
Changed paths:
   M /trunk/configure.ac
   A /trunk/lib/clock_gettime.c
   M /trunk/lib/libcompat.h

Add override for clock_gettime() in libcompat for systems that do not supply it

clock_gettime() is defined in POSIX.1-2001. However, some systems
(notably OSX) do not provide it. To allow such system to compile check,
clock_gettime() is added to libcompat. In the libcompat version, equivalent
calls for OSX are added to get time. For other systems, clock_gettime()
simply sets the time to 0.

------------------------------------------------------------------------
r643 | brarcher | 2012-11-03 23:13:44 -0400 (Sat, 03 Nov 2012) | 7 lines
Changed paths:
   M /trunk/lib/libcompat.h
   M /trunk/lib/unsetenv.c

Change definition of unsetenv to follow POSIX.1-2001

Prior to glibc 2.2.2, unsetenv() was prototyped as returning void, as was
this version. However, check's unit tests expect unsetenv to return
an integer. On systems where the override version of unsetenv is used,
check would not compile.

------------------------------------------------------------------------
r642 | brarcher | 2012-11-03 23:08:37 -0400 (Sat, 03 Nov 2012) | 5 lines
Changed paths:
   M /trunk/lib/putenv.c

Remove stray ; from putenv

There was a stray ; in putenv's defintion. On systems with no putenv,
lib/putenv.c will be used instead, which fails to compile.

------------------------------------------------------------------------
r641 | brarcher | 2012-11-03 23:03:37 -0400 (Sat, 03 Nov 2012) | 2 lines
Changed paths:
   M /trunk/AUTHORS

Adding myself to the AUTHORS file

------------------------------------------------------------------------
r640 | hugo303 | 2012-10-22 11:50:50 -0400 (Mon, 22 Oct 2012) | 1 line
Changed paths:
   M /trunk/HACKING
   M /trunk/Makefile.am
   M /trunk/NEWS

Updated release instructions
------------------------------------------------------------------------
r638 | hugo303 | 2012-10-22 08:35:00 -0400 (Mon, 22 Oct 2012) | 1 line
Changed paths:
   M /trunk/NEWS

* Update for release
------------------------------------------------------------------------
r637 | hugo303 | 2012-10-22 07:54:14 -0400 (Mon, 22 Oct 2012) | 1 line
Changed paths:
   M /trunk/configure.ac

* Updated versions for 0.9.9 relese
------------------------------------------------------------------------
r636 | hugo303 | 2012-10-22 07:39:13 -0400 (Mon, 22 Oct 2012) | 1 line
Changed paths:
   M /trunk/tests/Makefile.am

* Distribute test_check_nofork.sh also
------------------------------------------------------------------------
r635 | hugo303 | 2012-10-19 05:40:57 -0400 (Fri, 19 Oct 2012) | 1 line
Changed paths:
   M /trunk/NEWS
   M /trunk/configure.ac
   M /trunk/src/check.c
   M /trunk/src/check_impl.h
   M /trunk/src/check_msg.c
   M /trunk/src/check_msg.h
   M /trunk/src/check_pack.c
   M /trunk/src/check_pack.h
   M /trunk/src/check_print.c
   M /trunk/src/check_run.c
   M /trunk/tests/test_xml_output.sh

* Measure test duration and print in XML output
------------------------------------------------------------------------
r634 | hugo303 | 2012-10-19 05:26:16 -0400 (Fri, 19 Oct 2012) | 1 line
Changed paths:
   M /trunk/doc/check.texi
   M /trunk/xml/check_unittest.xslt

* Updated XML output format
------------------------------------------------------------------------
r633 | hugo303 | 2012-10-19 04:39:39 -0400 (Fri, 19 Oct 2012) | 1 line
Changed paths:
   M /trunk/NEWS
   A /trunk/contrib/XML_for_JUnit.xsl

* Transforms check XML to format suitable for JUnit
------------------------------------------------------------------------
r632 | hugo303 | 2012-10-15 12:45:20 -0400 (Mon, 15 Oct 2012) | 1 line
Changed paths:
   M /trunk/NEWS
   M /trunk/doc/check.texi
   M /trunk/src/check_log.c
   M /trunk/tests/check_check_log.c

Added support for setting log files via environment variables
------------------------------------------------------------------------
r631 | hugo303 | 2012-10-12 09:32:55 -0400 (Fri, 12 Oct 2012) | 1 line
Changed paths:
   M /trunk/NEWS
   M /trunk/check.pc.in
   M /trunk/configure.ac
   M /trunk/src/Makefile.am

* Added better pkg-config and subunit support
------------------------------------------------------------------------
r630 | hugo303 | 2012-10-11 10:36:59 -0400 (Thu, 11 Oct 2012) | 1 line
Changed paths:
   M /trunk/NEWS
   M /trunk/tests/test_vars.in

* Make tests/test_vars.in bourne shell compatible
------------------------------------------------------------------------
r629 | hugo303 | 2012-10-11 10:06:13 -0400 (Thu, 11 Oct 2012) | 1 line
Changed paths:
   M /trunk/NEWS
   M /trunk/src/check_pack.c

* Added ck_ prefix to mutex_lock variable
------------------------------------------------------------------------
r628 | hugo303 | 2012-10-11 09:08:45 -0400 (Thu, 11 Oct 2012) | 1 line
Changed paths:
   M /trunk/AUTHORS

Updated with more patch submitters
------------------------------------------------------------------------
r627 | hugo303 | 2012-10-11 08:20:49 -0400 (Thu, 11 Oct 2012) | 1 line
Changed paths:
   M /trunk/NEWS
   M /trunk/configure.ac

* In autoconf, request system extensions to generate 64-bit safe code
------------------------------------------------------------------------
r626 | hugo303 | 2012-10-11 07:55:13 -0400 (Thu, 11 Oct 2012) | 1 line
Changed paths:
   M /trunk/NEWS
   M /trunk/src/check_pack.c

* Fix for mutex deadlock when killing threads, patch #3564640 on SF
------------------------------------------------------------------------
r625 | hugo303 | 2012-10-11 05:12:18 -0400 (Thu, 11 Oct 2012) | 1 line
Changed paths:
   M /trunk/NEWS
   M /trunk/src/check_log.c
   M /trunk/src/check_print.c
   M /trunk/src/check_print.h
   M /trunk/tests/ex_xml_output.c
   M /trunk/tests/test_xml_output.sh

* Make XML output well-formed
------------------------------------------------------------------------
r624 | hugo303 | 2012-10-11 05:10:21 -0400 (Thu, 11 Oct 2012) | 1 line
Changed paths:
   M /trunk/TODO

* Updated fixed item
------------------------------------------------------------------------
r623 | hugo303 | 2012-10-11 05:07:36 -0400 (Thu, 11 Oct 2012) | 1 line
Changed paths:
   M /trunk/NEWS

* Fix buggy duration calculation, bug #3575451 on SF
------------------------------------------------------------------------
r622 | hugo303 | 2012-10-11 04:53:08 -0400 (Thu, 11 Oct 2012) | 2 lines
Changed paths:
   M /trunk/src/check_log.c

* Measure test duration correctly. Fixes SF bug #3575451.

------------------------------------------------------------------------
r621 | cpickett | 2012-06-13 22:47:08 -0400 (Wed, 13 Jun 2012) | 2 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/NEWS
   A /trunk/patches/README
   D /trunk/patches/check_windows.patch
   A /trunk/patches/fbeckmann.windows.patch (from /trunk/patches/check_windows.patch:620)
   A /trunk/patches/mloskot.windows.patch

* Add Mateusz Loskot as an author along with his MSVC / CMake patch.

------------------------------------------------------------------------
r620 | cpickett | 2012-06-13 21:44:39 -0400 (Wed, 13 Jun 2012) | 2 lines
Changed paths:
   M /trunk/NEWS
   A /trunk/contrib/improved_make_check
   A /trunk/contrib/improved_make_check/COPYING
   A /trunk/contrib/improved_make_check/README
   A /trunk/contrib/improved_make_check/check.mk

* add contrib/improved_make_check

------------------------------------------------------------------------
r619 | cpickett | 2012-06-13 21:34:00 -0400 (Wed, 13 Jun 2012) | 2 lines
Changed paths:
   M /trunk/AUTHORS

* clean up formatting of AUTHORS file

------------------------------------------------------------------------
r618 | mloskot | 2012-01-03 17:42:52 -0500 (Tue, 03 Jan 2012) | 1 line
Changed paths:
   M /trunk/AUTHORS

More clean-up in AUTHORS.
------------------------------------------------------------------------
r617 | mloskot | 2012-01-03 17:27:59 -0500 (Tue, 03 Jan 2012) | 1 line
Changed paths:
   M /trunk/AUTHORS

Tidy up AUTHORS. More git svn workflow tests
------------------------------------------------------------------------
r616 | mloskot | 2012-01-03 16:36:03 -0500 (Tue, 03 Jan 2012) | 1 line
Changed paths:
   M /trunk/AUTHORS

AUTHORS formatting. Testing git svn workflow
------------------------------------------------------------------------
r615 | mloskot | 2012-01-02 18:59:24 -0500 (Mon, 02 Jan 2012) | 1 line
Changed paths:
   M /trunk/README

Typos. My first test commit.
------------------------------------------------------------------------
r614 | hugo303 | 2011-12-02 16:18:28 -0500 (Fri, 02 Dec 2011) | 1 line
Changed paths:
   M /trunk/NEWS

* Added a chapter for selective running of tests.
------------------------------------------------------------------------
r613 | hugo303 | 2011-12-02 16:16:56 -0500 (Fri, 02 Dec 2011) | 1 line
Changed paths:
   M /trunk/doc/check.texi

* Added a chapter for selective running of tests.
------------------------------------------------------------------------
r612 | hugo303 | 2011-11-15 11:07:30 -0500 (Tue, 15 Nov 2011) | 1 line
Changed paths:
   M /trunk/NEWS

* Added comment on message pipe fix.
------------------------------------------------------------------------
r611 | hugo303 | 2011-11-15 11:06:13 -0500 (Tue, 15 Nov 2011) | 1 line
Changed paths:
   M /trunk/TODO

* Added todo docs for selective running.
------------------------------------------------------------------------
r610 | hugo303 | 2011-11-14 21:28:06 -0500 (Mon, 14 Nov 2011) | 1 line
Changed paths:
   M /trunk/src/check_pack.c

* Fixes problem with very large allocations.
------------------------------------------------------------------------
r609 | hugo303 | 2011-11-14 21:24:21 -0500 (Mon, 14 Nov 2011) | 1 line
Changed paths:
   M /trunk/src/check_print.c

* Fixed null pointer dereference if test failed.
------------------------------------------------------------------------
r608 | hugo303 | 2011-11-14 16:40:26 -0500 (Mon, 14 Nov 2011) | 1 line
Changed paths:
   M /trunk/configure.ac

* Fixed typo: echoo -> echo
------------------------------------------------------------------------
r607 | hugo303 | 2011-11-14 13:52:40 -0500 (Mon, 14 Nov 2011) | 1 line
Changed paths:
   M /trunk/doc/check.texi

* Corrected and clarified documentation on fixtures.
------------------------------------------------------------------------
r606 | hugo303 | 2011-11-09 08:17:18 -0500 (Wed, 09 Nov 2011) | 1 line
Changed paths:
   M /trunk/checkmk/test/check_checkmk
   D /trunk/checkmk/test/name_enc/\aa"

Removed the '\aa"' file from the name_enc directory and disabled the test.
------------------------------------------------------------------------
r605 | zdenekc | 2011-06-01 05:51:20 -0400 (Wed, 01 Jun 2011) | 1 line
Changed paths:
   M /trunk/NEWS
   M /trunk/contrib/make_macros
   M /trunk/src/check.c
   M /trunk/src/check.h.in
   M /trunk/tests/check_check_sub.c

* rename _fail_unless to _ck_assert_msg and define old API using new API macros
------------------------------------------------------------------------
r604 | zdenekc | 2011-06-01 05:42:35 -0400 (Wed, 01 Jun 2011) | 1 line
Changed paths:
   M /trunk/NEWS
   M /trunk/src/check_log.c
   M /trunk/src/check_run.c

* fix dead assignments and possible null pointer dereference
------------------------------------------------------------------------
r603 | zdenekc | 2011-06-01 05:41:28 -0400 (Wed, 01 Jun 2011) | 2 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/src/check.c
   M /trunk/src/check_error.c
   M /trunk/src/check_error.h
   M /trunk/src/check_run.c
   M /trunk/tests/Makefile.am
   A /trunk/tests/check_nofork.c
   A /trunk/tests/test_check_nofork.sh

* fix failed test exit in no-fork mode

------------------------------------------------------------------------
r602 | hugo303 | 2011-03-03 09:48:58 -0500 (Thu, 03 Mar 2011) | 3 lines
Changed paths:
   M /trunk/index.html

 * Adds RAPP and SSSD as projects using check.


------------------------------------------------------------------------
r601 | zdenekc | 2011-02-21 03:02:16 -0500 (Mon, 21 Feb 2011) | 3 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/NEWS
   D /trunk/contrib/check_unittest.xslt
   M /trunk/src/check_log.c
   M /trunk/tests/test_xml_output.sh
   A /trunk/xml
   A /trunk/xml/check_unittest.xslt

* add link to xslt to xml output, add display of iteration in stylesheet and
  move it to web page root

------------------------------------------------------------------------
r600 | cpickett | 2011-01-23 17:36:51 -0500 (Sun, 23 Jan 2011) | 2 lines
Changed paths:
   M /trunk/AUTHORS
   A /trunk/contrib/eclipse
   A /trunk/contrib/eclipse/README
   A /trunk/contrib/eclipse/check_template_eclipse_helios.xml

* add eclipse support to contrib dir from Bogdan Cristea

------------------------------------------------------------------------
r599 | cpickett | 2010-12-12 17:30:58 -0500 (Sun, 12 Dec 2010) | 3 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/doc/check.texi
   M /trunk/src/check.h.in
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

* add new ck_assert_(str|int)_(lt|le|gt|ge) comparison functions 
  - patch from zdenek crha

------------------------------------------------------------------------
r598 | cpickett | 2010-12-01 17:05:51 -0500 (Wed, 01 Dec 2010) | 2 lines
Changed paths:
   M /trunk/src/check.h.in
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

* invert _ck_x and _ck_y to fix strcmp in _ck_assert_str (thanks zdenek crha)

------------------------------------------------------------------------
r597 | cpickett | 2010-12-01 17:00:34 -0500 (Wed, 01 Dec 2010) | 2 lines
Changed paths:
   M /trunk/checkmk
   M /trunk/doc/example/src
   M /trunk/doc/example/tests

* ignore generated files

------------------------------------------------------------------------
r596 | cpickett | 2010-11-26 19:00:31 -0500 (Fri, 26 Nov 2010) | 3 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/NEWS
   M /trunk/doc/check.texi
   M /trunk/src/check.h.in
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

* Documented new Check API and fixed macros to allow multiple
  evaluation.  Fixes 3035490.

------------------------------------------------------------------------
r595 | cpickett | 2010-11-26 18:55:46 -0500 (Fri, 26 Nov 2010) | 2 lines
Changed paths:
   M /trunk/ChangeLog

* note that svn commit messages are what matter in the ChangeLog

------------------------------------------------------------------------
r594 | cpickett | 2010-11-26 18:31:31 -0500 (Fri, 26 Nov 2010) | 2 lines
Changed paths:
   M /trunk/tests

* ignore test_vars file

------------------------------------------------------------------------
r593 | cpickett | 2010-11-20 16:02:50 -0500 (Sat, 20 Nov 2010) | 2 lines
Changed paths:
   M /trunk/index.html

* caveat about delays in updates

------------------------------------------------------------------------
r592 | cpickett | 2010-11-20 13:49:55 -0500 (Sat, 20 Nov 2010) | 2 lines
Changed paths:
   M /trunk/index.html

* more projects using Check

------------------------------------------------------------------------
r591 | micahcowan | 2010-04-08 19:08:36 -0400 (Thu, 08 Apr 2010) | 1 line
Changed paths:
   M /trunk/ChangeLog
   M /trunk/checkmk/checkmk.in
   M /trunk/configure.ac

Deal with diferent awks' ideas of escaping for gsub's second argument.
------------------------------------------------------------------------
r590 | micahcowan | 2010-04-08 15:16:39 -0400 (Thu, 08 Apr 2010) | 1 line
Changed paths:
   M /trunk/ChangeLog
   M /trunk/checkmk/checkmk.in

Eliminate POSIX classes from checkmk.in.
------------------------------------------------------------------------
r589 | micahcowan | 2010-04-03 15:19:08 -0400 (Sat, 03 Apr 2010) | 1 line
Changed paths:
   M /trunk/AUTHORS
   M /trunk/ChangeLog
   M /trunk/NEWS

Changelog, NEWS, and AUTHORS changes for checkmk stuff.
------------------------------------------------------------------------
r587 | micahcowan | 2010-04-03 15:03:27 -0400 (Sat, 03 Apr 2010) | 1 line
Changed paths:
   M /trunk
   M /trunk/Makefile.am
   A /trunk/checkmk (from /branches/mjc-check-with-checkmk/checkmk:586)
   R /trunk/checkmk/Makefile.am (from /branches/mjc-check-with-checkmk/checkmk/Makefile.am:586)
   R /trunk/checkmk/README (from /branches/mjc-check-with-checkmk/checkmk/README:586)
   R /trunk/checkmk/checkmk.in (from /branches/mjc-check-with-checkmk/checkmk/checkmk.in:586)
   R /trunk/checkmk/doc (from /branches/mjc-check-with-checkmk/checkmk/doc:586)
   R /trunk/checkmk/doc/checkmk.1 (from /branches/mjc-check-with-checkmk/checkmk/doc/checkmk.1:586)
   R /trunk/checkmk/doc/checkmk.sgml (from /branches/mjc-check-with-checkmk/checkmk/doc/checkmk.sgml:586)
   R /trunk/checkmk/doc/manpage.links (from /branches/mjc-check-with-checkmk/checkmk/doc/manpage.links:586)
   R /trunk/checkmk/doc/manpage.refs (from /branches/mjc-check-with-checkmk/checkmk/doc/manpage.refs:586)
   R /trunk/checkmk/examples (from /branches/mjc-check-with-checkmk/checkmk/examples:586)
   R /trunk/checkmk/examples/basic_complete.ts (from /branches/mjc-check-with-checkmk/checkmk/examples/basic_complete.ts:586)
   R /trunk/checkmk/examples/multiple_everything.ts (from /branches/mjc-check-with-checkmk/checkmk/examples/multiple_everything.ts:586)
   R /trunk/checkmk/test (from /branches/mjc-check-with-checkmk/checkmk/test:586)
   R /trunk/checkmk/test/basic_complete (from /branches/mjc-check-with-checkmk/checkmk/test/basic_complete:586)
   R /trunk/checkmk/test/basic_complete/in (from /branches/mjc-check-with-checkmk/checkmk/test/basic_complete/in:586)
   R /trunk/checkmk/test/basic_complete/x_output (from /branches/mjc-check-with-checkmk/checkmk/test/basic_complete/x_output:586)
   R /trunk/checkmk/test/between_the_lines (from /branches/mjc-check-with-checkmk/checkmk/test/between_the_lines:586)
   R /trunk/checkmk/test/between_the_lines/in (from /branches/mjc-check-with-checkmk/checkmk/test/between_the_lines/in:586)
   R /trunk/checkmk/test/between_the_lines/x_output (from /branches/mjc-check-with-checkmk/checkmk/test/between_the_lines/x_output:586)
   R /trunk/checkmk/test/case_insensitive_pp (from /branches/mjc-check-with-checkmk/checkmk/test/case_insensitive_pp:586)
   R /trunk/checkmk/test/case_insensitive_pp/in (from /branches/mjc-check-with-checkmk/checkmk/test/case_insensitive_pp/in:586)
   R /trunk/checkmk/test/case_insensitive_pp/x_output (from /branches/mjc-check-with-checkmk/checkmk/test/case_insensitive_pp/x_output:586)
   R /trunk/checkmk/test/check_checkmk (from /branches/mjc-check-with-checkmk/checkmk/test/check_checkmk:586)
   R /trunk/checkmk/test/clean_mode (from /branches/mjc-check-with-checkmk/checkmk/test/clean_mode:586)
   R /trunk/checkmk/test/clean_mode/cmd (from /branches/mjc-check-with-checkmk/checkmk/test/clean_mode/cmd:586)
   R /trunk/checkmk/test/clean_mode/in (from /branches/mjc-check-with-checkmk/checkmk/test/clean_mode/in:586)
   R /trunk/checkmk/test/clean_mode/x_output (from /branches/mjc-check-with-checkmk/checkmk/test/clean_mode/x_output:586)
   R /trunk/checkmk/test/declarations (from /branches/mjc-check-with-checkmk/checkmk/test/declarations:586)
   R /trunk/checkmk/test/declarations/in (from /branches/mjc-check-with-checkmk/checkmk/test/declarations/in:586)
   R /trunk/checkmk/test/declarations/x_output (from /branches/mjc-check-with-checkmk/checkmk/test/declarations/x_output:586)
   R /trunk/checkmk/test/empty_input (from /branches/mjc-check-with-checkmk/checkmk/test/empty_input:586)
   R /trunk/checkmk/test/empty_input/in (from /branches/mjc-check-with-checkmk/checkmk/test/empty_input/in:586)
   R /trunk/checkmk/test/empty_input/x_err (from /branches/mjc-check-with-checkmk/checkmk/test/empty_input/x_err:586)
   R /trunk/checkmk/test/empty_input/x_output (from /branches/mjc-check-with-checkmk/checkmk/test/empty_input/x_output:586)
   R /trunk/checkmk/test/invalid_ucn (from /branches/mjc-check-with-checkmk/checkmk/test/invalid_ucn:586)
   R /trunk/checkmk/test/invalid_ucn/in (from /branches/mjc-check-with-checkmk/checkmk/test/invalid_ucn/in:586)
   R /trunk/checkmk/test/invalid_ucn/x_err (from /branches/mjc-check-with-checkmk/checkmk/test/invalid_ucn/x_err:586)
   R /trunk/checkmk/test/invalid_ucn/x_output (from /branches/mjc-check-with-checkmk/checkmk/test/invalid_ucn/x_output:586)
   R /trunk/checkmk/test/main_post (from /branches/mjc-check-with-checkmk/checkmk/test/main_post:586)
   R /trunk/checkmk/test/main_post/in (from /branches/mjc-check-with-checkmk/checkmk/test/main_post/in:586)
   R /trunk/checkmk/test/main_post/x_output (from /branches/mjc-check-with-checkmk/checkmk/test/main_post/x_output:586)
   R /trunk/checkmk/test/main_post_multiple (from /branches/mjc-check-with-checkmk/checkmk/test/main_post_multiple:586)
   R /trunk/checkmk/test/main_post_multiple/in (from /branches/mjc-check-with-checkmk/checkmk/test/main_post_multiple/in:586)
   R /trunk/checkmk/test/main_post_multiple/x_err (from /branches/mjc-check-with-checkmk/checkmk/test/main_post_multiple/x_err:586)
   R /trunk/checkmk/test/main_post_multiple/x_output (from /branches/mjc-check-with-checkmk/checkmk/test/main_post_multiple/x_output:586)
   R /trunk/checkmk/test/main_pre_after_post (from /branches/mjc-check-with-checkmk/checkmk/test/main_pre_after_post:586)
   R /trunk/checkmk/test/main_pre_after_post/in (from /branches/mjc-check-with-checkmk/checkmk/test/main_pre_after_post/in:586)
   R /trunk/checkmk/test/main_pre_after_post/x_err (from /branches/mjc-check-with-checkmk/checkmk/test/main_pre_after_post/x_err:586)
   R /trunk/checkmk/test/main_pre_after_post/x_output (from /branches/mjc-check-with-checkmk/checkmk/test/main_pre_after_post/x_output:586)
   R /trunk/checkmk/test/main_pre_multiple (from /branches/mjc-check-with-checkmk/checkmk/test/main_pre_multiple:586)
   R /trunk/checkmk/test/main_pre_multiple/in (from /branches/mjc-check-with-checkmk/checkmk/test/main_pre_multiple/in:586)
   R /trunk/checkmk/test/main_pre_multiple/x_err (from /branches/mjc-check-with-checkmk/checkmk/test/main_pre_multiple/x_err:586)
   R /trunk/checkmk/test/main_pre_multiple/x_output (from /branches/mjc-check-with-checkmk/checkmk/test/main_pre_multiple/x_output:586)
   R /trunk/checkmk/test/multiple_everything (from /branches/mjc-check-with-checkmk/checkmk/test/multiple_everything:586)
   R /trunk/checkmk/test/multiple_everything/in (from /branches/mjc-check-with-checkmk/checkmk/test/multiple_everything/in:586)
   R /trunk/checkmk/test/multiple_everything/x_output (from /branches/mjc-check-with-checkmk/checkmk/test/multiple_everything/x_output:586)
   R /trunk/checkmk/test/name_enc (from /branches/mjc-check-with-checkmk/checkmk/test/name_enc:586)
   R /trunk/checkmk/test/name_enc/\aa" (from /branches/mjc-check-with-checkmk/checkmk/test/name_enc/\aa":586)
   R /trunk/checkmk/test/name_enc/cmd (from /branches/mjc-check-with-checkmk/checkmk/test/name_enc/cmd:586)
   R /trunk/checkmk/test/name_enc/x_output (from /branches/mjc-check-with-checkmk/checkmk/test/name_enc/x_output:586)
   R /trunk/checkmk/test/no_args (from /branches/mjc-check-with-checkmk/checkmk/test/no_args:586)
   R /trunk/checkmk/test/no_args/cmd (from /branches/mjc-check-with-checkmk/checkmk/test/no_args/cmd:586)
   R /trunk/checkmk/test/no_args/in (from /branches/mjc-check-with-checkmk/checkmk/test/no_args/in:586)
   R /trunk/checkmk/test/no_args/x_output (from /branches/mjc-check-with-checkmk/checkmk/test/no_args/x_output:586)
   R /trunk/checkmk/test/non_word_chars (from /branches/mjc-check-with-checkmk/checkmk/test/non_word_chars:586)
   R /trunk/checkmk/test/non_word_chars/in (from /branches/mjc-check-with-checkmk/checkmk/test/non_word_chars/in:586)
   R /trunk/checkmk/test/non_word_chars/x_output (from /branches/mjc-check-with-checkmk/checkmk/test/non_word_chars/x_output:586)
   R /trunk/checkmk/test/not_really_repeated (from /branches/mjc-check-with-checkmk/checkmk/test/not_really_repeated:586)
   R /trunk/checkmk/test/not_really_repeated/in (from /branches/mjc-check-with-checkmk/checkmk/test/not_really_repeated/in:586)
   R /trunk/checkmk/test/not_really_repeated/x_output (from /branches/mjc-check-with-checkmk/checkmk/test/not_really_repeated/x_output:586)
   R /trunk/checkmk/test/num_start_test_name (from /branches/mjc-check-with-checkmk/checkmk/test/num_start_test_name:586)
   R /trunk/checkmk/test/num_start_test_name/in (from /branches/mjc-check-with-checkmk/checkmk/test/num_start_test_name/in:586)
   R /trunk/checkmk/test/num_start_test_name/x_err (from /branches/mjc-check-with-checkmk/checkmk/test/num_start_test_name/x_err:586)
   R /trunk/checkmk/test/num_start_test_name/x_output (from /branches/mjc-check-with-checkmk/checkmk/test/num_start_test_name/x_output:586)
   R /trunk/checkmk/test/pass_thru (from /branches/mjc-check-with-checkmk/checkmk/test/pass_thru:586)
   R /trunk/checkmk/test/pass_thru/in (from /branches/mjc-check-with-checkmk/checkmk/test/pass_thru/in:586)
   R /trunk/checkmk/test/pass_thru/x_err (from /branches/mjc-check-with-checkmk/checkmk/test/pass_thru/x_err:586)
   R /trunk/checkmk/test/pass_thru/x_output (from /branches/mjc-check-with-checkmk/checkmk/test/pass_thru/x_output:586)
   R /trunk/checkmk/test/repeated_suites (from /branches/mjc-check-with-checkmk/checkmk/test/repeated_suites:586)
   R /trunk/checkmk/test/repeated_suites/in (from /branches/mjc-check-with-checkmk/checkmk/test/repeated_suites/in:586)
   R /trunk/checkmk/test/repeated_suites/x_err (from /branches/mjc-check-with-checkmk/checkmk/test/repeated_suites/x_err:586)
   R /trunk/checkmk/test/repeated_suites/x_output (from /branches/mjc-check-with-checkmk/checkmk/test/repeated_suites/x_output:586)
   R /trunk/checkmk/test/repeated_tcases (from /branches/mjc-check-with-checkmk/checkmk/test/repeated_tcases:586)
   R /trunk/checkmk/test/repeated_tcases/in (from /branches/mjc-check-with-checkmk/checkmk/test/repeated_tcases/in:586)
   R /trunk/checkmk/test/repeated_tcases/x_err (from /branches/mjc-check-with-checkmk/checkmk/test/repeated_tcases/x_err:586)
   R /trunk/checkmk/test/repeated_tcases/x_output (from /branches/mjc-check-with-checkmk/checkmk/test/repeated_tcases/x_output:586)
   R /trunk/checkmk/test/repeated_tests (from /branches/mjc-check-with-checkmk/checkmk/test/repeated_tests:586)
   R /trunk/checkmk/test/repeated_tests/in (from /branches/mjc-check-with-checkmk/checkmk/test/repeated_tests/in:586)
   R /trunk/checkmk/test/repeated_tests/x_err (from /branches/mjc-check-with-checkmk/checkmk/test/repeated_tests/x_err:586)
   R /trunk/checkmk/test/repeated_tests/x_output (from /branches/mjc-check-with-checkmk/checkmk/test/repeated_tests/x_output:586)
   R /trunk/checkmk/test/single_test_line (from /branches/mjc-check-with-checkmk/checkmk/test/single_test_line:586)
   R /trunk/checkmk/test/single_test_line/in (from /branches/mjc-check-with-checkmk/checkmk/test/single_test_line/in:586)
   R /trunk/checkmk/test/single_test_line/x_output (from /branches/mjc-check-with-checkmk/checkmk/test/single_test_line/x_output:586)
   R /trunk/checkmk/test/tcase_implied_repeat (from /branches/mjc-check-with-checkmk/checkmk/test/tcase_implied_repeat:586)
   R /trunk/checkmk/test/tcase_implied_repeat/in (from /branches/mjc-check-with-checkmk/checkmk/test/tcase_implied_repeat/in:586)
   R /trunk/checkmk/test/tcase_implied_repeat/x_err (from /branches/mjc-check-with-checkmk/checkmk/test/tcase_implied_repeat/x_err:586)
   R /trunk/checkmk/test/tcase_implied_repeat/x_output (from /branches/mjc-check-with-checkmk/checkmk/test/tcase_implied_repeat/x_output:586)
   R /trunk/checkmk/test/test_after_main_post (from /branches/mjc-check-with-checkmk/checkmk/test/test_after_main_post:586)
   R /trunk/checkmk/test/test_after_main_post/in (from /branches/mjc-check-with-checkmk/checkmk/test/test_after_main_post/in:586)
   R /trunk/checkmk/test/test_after_main_post/x_err (from /branches/mjc-check-with-checkmk/checkmk/test/test_after_main_post/x_err:586)
   R /trunk/checkmk/test/test_after_main_post/x_output (from /branches/mjc-check-with-checkmk/checkmk/test/test_after_main_post/x_output:586)
   R /trunk/checkmk/test/test_after_main_pre (from /branches/mjc-check-with-checkmk/checkmk/test/test_after_main_pre:586)
   R /trunk/checkmk/test/test_after_main_pre/in (from /branches/mjc-check-with-checkmk/checkmk/test/test_after_main_pre/in:586)
   R /trunk/checkmk/test/test_after_main_pre/x_err (from /branches/mjc-check-with-checkmk/checkmk/test/test_after_main_pre/x_err:586)
   R /trunk/checkmk/test/test_after_main_pre/x_output (from /branches/mjc-check-with-checkmk/checkmk/test/test_after_main_pre/x_output:586)
   R /trunk/checkmk/test/test_chars (from /branches/mjc-check-with-checkmk/checkmk/test/test_chars:586)
   R /trunk/checkmk/test/test_chars/in (from /branches/mjc-check-with-checkmk/checkmk/test/test_chars/in:586)
   R /trunk/checkmk/test/test_chars/x_err (from /branches/mjc-check-with-checkmk/checkmk/test/test_chars/x_err:586)
   R /trunk/checkmk/test/test_chars/x_output (from /branches/mjc-check-with-checkmk/checkmk/test/test_chars/x_output:586)
   R /trunk/checkmk/test/trailing_ws (from /branches/mjc-check-with-checkmk/checkmk/test/trailing_ws:586)
   R /trunk/checkmk/test/trailing_ws/in (from /branches/mjc-check-with-checkmk/checkmk/test/trailing_ws/in:586)
   R /trunk/checkmk/test/trailing_ws/x_output (from /branches/mjc-check-with-checkmk/checkmk/test/trailing_ws/x_output:586)
   R /trunk/checkmk/test/ucn (from /branches/mjc-check-with-checkmk/checkmk/test/ucn:586)
   R /trunk/checkmk/test/ucn/in (from /branches/mjc-check-with-checkmk/checkmk/test/ucn/in:586)
   R /trunk/checkmk/test/ucn/x_output (from /branches/mjc-check-with-checkmk/checkmk/test/ucn/x_output:586)
   M /trunk/configure.ac

Merge in checkmk branch.
------------------------------------------------------------------------
r586 | hugo303 | 2010-02-26 09:48:51 -0500 (Fri, 26 Feb 2010) | 3 lines
Changed paths:
   M /trunk/src/check_pack.c

 * Removed doubled unused lock variable.


------------------------------------------------------------------------
r585 | hugo303 | 2010-02-26 08:38:58 -0500 (Fri, 26 Feb 2010) | 2 lines
Changed paths:
   M /trunk/tests/check_check.h

 * Added missing prototype for make_selective_suite()

------------------------------------------------------------------------
r584 | jemarch | 2010-02-18 14:37:32 -0500 (Thu, 18 Feb 2010) | 1 line
Changed paths:
   M /trunk/ChangeLog
   M /trunk/doc/check.texi
   M /trunk/src/check.c
   M /trunk/src/check.h.in
   M /trunk/src/check_run.c
   M /trunk/tests/Makefile.am
   M /trunk/tests/check_check_main.c
   A /trunk/tests/check_check_selective.c

Selective testing support in run_test_*
------------------------------------------------------------------------
r575 | cpickett | 2010-01-16 15:47:06 -0500 (Sat, 16 Jan 2010) | 2 lines
Changed paths:
   M /trunk/doc/check.texi

* fix link (thanks SJS)

------------------------------------------------------------------------
r574 | cpickett | 2010-01-16 02:13:46 -0500 (Sat, 16 Jan 2010) | 2 lines
Changed paths:
   M /trunk/doc/check.texi

* add CuTest to docs (thanks SJS)

------------------------------------------------------------------------
r573 | cpickett | 2009-12-14 14:22:57 -0500 (Mon, 14 Dec 2009) | 2 lines
Changed paths:
   M /trunk/src/check_pack.c

* declare mutex_lock as static to stop it from getting exported

------------------------------------------------------------------------
r572 | hugo303 | 2009-10-19 18:43:09 -0400 (Mon, 19 Oct 2009) | 1 line
Changed paths:
   M /trunk/Makefile.am
   M /trunk/doc/Makefile.am

 * Fixed html manual generation
------------------------------------------------------------------------
r571 | hugo303 | 2009-10-19 18:40:09 -0400 (Mon, 19 Oct 2009) | 1 line
Changed paths:
   M /trunk/index.html

 * Fixed manual link again
------------------------------------------------------------------------
r570 | hugo303 | 2009-10-19 17:37:55 -0400 (Mon, 19 Oct 2009) | 1 line
Changed paths:
   M /trunk/index.html

 * Fixed manual link
------------------------------------------------------------------------
r569 | hugo303 | 2009-10-19 17:15:34 -0400 (Mon, 19 Oct 2009) | 1 line
Changed paths:
   M /trunk/doc/Makefile.am

 * Clean all generated files
------------------------------------------------------------------------
r568 | hugo303 | 2009-10-05 18:00:23 -0400 (Mon, 05 Oct 2009) | 1 line
Changed paths:
   M /trunk/Makefile.am

* Fixed upload of web files when releasing.
------------------------------------------------------------------------
r567 | rbcollins | 2009-09-23 07:16:10 -0400 (Wed, 23 Sep 2009) | 1 line
Changed paths:
   M /trunk/Makefile.am
   M /trunk/NEWS
   M /trunk/configure.ac

Merge back release 0.9.8
------------------------------------------------------------------------
r565 | rbcollins | 2009-09-23 06:55:28 -0400 (Wed, 23 Sep 2009) | 1 line
Changed paths:
   M /trunk/Makefile.am

More automation tweaks FTW.
------------------------------------------------------------------------
r562 | rbcollins | 2009-09-23 06:35:45 -0400 (Wed, 23 Sep 2009) | 1 line
Changed paths:
   M /trunk/Makefile.am

Supply a commit message for the tag operation.
------------------------------------------------------------------------
r561 | rbcollins | 2009-09-23 06:25:22 -0400 (Wed, 23 Sep 2009) | 1 line
Changed paths:
   M /trunk/Makefile.am

Fix another 'check log for stuff' action.
------------------------------------------------------------------------
r560 | rbcollins | 2009-09-23 06:22:51 -0400 (Wed, 23 Sep 2009) | 1 line
Changed paths:
   M /trunk/Makefile.am
   M /trunk/NEWS

Add NEWS for the macro fix, and remove SVNChangelog step from release process.
------------------------------------------------------------------------
r559 | rbcollins | 2009-09-23 03:59:17 -0400 (Wed, 23 Sep 2009) | 1 line
Changed paths:
   M /trunk/configure.ac

Put all version numbers of check in configure.ac at the same place.
------------------------------------------------------------------------
r558 | rbcollins | 2009-09-21 20:39:57 -0400 (Mon, 21 Sep 2009) | 1 line
Changed paths:
   M /trunk/HACKING

Document needed permissions to do releases.
------------------------------------------------------------------------
r557 | rbcollins | 2009-09-21 20:07:21 -0400 (Mon, 21 Sep 2009) | 1 line
Changed paths:
   M /trunk/Makefile.am
   M /trunk/NEWS
   M /trunk/configure.ac

Merge back release 0.9.7
------------------------------------------------------------------------
r556 | rbcollins | 2009-09-21 19:52:45 -0400 (Mon, 21 Sep 2009) | 1 line
Changed paths:
   M /trunk/HACKING
   M /trunk/Makefile.am

More release automation tweaks.
------------------------------------------------------------------------
r552 | rbcollins | 2009-09-21 19:10:37 -0400 (Mon, 21 Sep 2009) | 1 line
Changed paths:
   M /trunk/HACKING
   M /trunk/Makefile.am

Escaping in shell commands - more Makefile.am release tweaking.
------------------------------------------------------------------------
r551 | rbcollins | 2009-09-21 19:00:51 -0400 (Mon, 21 Sep 2009) | 2 lines
Changed paths:
   M /trunk/Makefile.am

Deal with automake wanting POSIX make only rules.

------------------------------------------------------------------------
r550 | rbcollins | 2009-09-21 18:34:26 -0400 (Mon, 21 Sep 2009) | 1 line
Changed paths:
   M /trunk/Makefile.am

Polish.
------------------------------------------------------------------------
r549 | rbcollins | 2009-09-21 18:31:14 -0400 (Mon, 21 Sep 2009) | 1 line
Changed paths:
   M /trunk/Makefile.am

Typo in prereleasecheck.
------------------------------------------------------------------------
r548 | rbcollins | 2009-09-21 18:29:47 -0400 (Mon, 21 Sep 2009) | 1 line
Changed paths:
   M /trunk/HACKING
   M /trunk/Makefile.am
   M /trunk/NEWS

Hopefully automake releases.
------------------------------------------------------------------------
r547 | rbcollins | 2009-09-21 08:33:46 -0400 (Mon, 21 Sep 2009) | 1 line
Changed paths:
   M /trunk/configure.ac

Note that we need tex to build docs.
------------------------------------------------------------------------
r546 | cpickett | 2009-09-21 00:40:43 -0400 (Mon, 21 Sep 2009) | 2 lines
Changed paths:
   M /trunk/doc/check.texi

* fix autotools link

------------------------------------------------------------------------
r545 | cpickett | 2009-05-11 22:05:54 -0400 (Mon, 11 May 2009) | 2 lines
Changed paths:
   M /trunk/tests/check_stress.c

* add comment about uselessness

------------------------------------------------------------------------
r544 | cpickett | 2009-05-11 21:34:55 -0400 (Mon, 11 May 2009) | 2 lines
Changed paths:
   M /trunk/tests/Makefile.am

* comment out check_thread_stress from build per rob's request

------------------------------------------------------------------------
r543 | rbcollins | 2009-05-08 21:53:33 -0400 (Fri, 08 May 2009) | 1 line
Changed paths:
   M /trunk/AUTHORS
   M /trunk/NEWS
   M /trunk/configure.ac
   M /trunk/doc/check.texi
   M /trunk/src/check.h.in
   M /trunk/src/check_impl.h
   M /trunk/src/check_log.c
   M /trunk/src/check_log.h
   M /trunk/src/check_print.c
   M /trunk/src/check_run.c
   M /trunk/src/check_str.c
   M /trunk/src/check_str.h
   M /trunk/tests/Makefile.am
   M /trunk/tests/check_check.h
   A /trunk/tests/check_check_log_internal.c
   M /trunk/tests/check_check_main.c
   M /trunk/tests/ex_output.c
   M /trunk/tests/test_output.sh
   A /trunk/tests/test_vars.in

Add CK_SUBUNIT support for outputting subunit test activity. (Needs libsubunit).
------------------------------------------------------------------------
r542 | rbcollins | 2009-05-08 21:19:25 -0400 (Fri, 08 May 2009) | 1 line
Changed paths:
   M /trunk/doc/Makefile.am

Fix target path failure for VPATH builds on check.texi.
------------------------------------------------------------------------
r541 | rbcollins | 2009-05-08 19:58:40 -0400 (Fri, 08 May 2009) | 1 line
Changed paths:
   M /trunk/tests/Makefile.am

Set an include path for tests that includes builddir/src, for VPATH builds.
------------------------------------------------------------------------
r540 | hugo303 | 2009-03-17 18:33:18 -0400 (Tue, 17 Mar 2009) | 1 line
Changed paths:
   M /trunk/index.html

 * Updated maintaining text on home page
------------------------------------------------------------------------
r539 | hugo303 | 2009-03-12 18:05:05 -0400 (Thu, 12 Mar 2009) | 1 line
Changed paths:
   M /trunk/doc/check.texi

 * Added documentation for timeout scaling
------------------------------------------------------------------------
r538 | hugo303 | 2009-03-06 18:29:20 -0500 (Fri, 06 Mar 2009) | 5 lines
Changed paths:
   M /trunk/src/check.c
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

 * Added code and tests for timeout scaling via environment variable.
   Feature requested in tracker item #1549835 on sourceforge. Docs
   coming later.


------------------------------------------------------------------------
r537 | hugo303 | 2009-03-04 17:26:56 -0500 (Wed, 04 Mar 2009) | 3 lines
Changed paths:
   M /trunk/doc/check.texi

 * Added documentation for testing exit values with tcase_add_exit_test().


------------------------------------------------------------------------
r536 | cpickett | 2009-02-22 22:32:58 -0500 (Sun, 22 Feb 2009) | 2 lines
Changed paths:
   A /trunk/contrib/make_macros

* add make_macros perl script from somebody (who?)

------------------------------------------------------------------------
r535 | cpickett | 2009-02-18 17:46:18 -0500 (Wed, 18 Feb 2009) | 2 lines
Changed paths:
   M /trunk/src/check_pack.c

* add type to check_type error message

------------------------------------------------------------------------
r534 | cpickett | 2009-02-09 11:30:26 -0500 (Mon, 09 Feb 2009) | 2 lines
Changed paths:
   D /trunk/inbox
   A /trunk/patches (from /trunk/inbox:524)

* rename inbox to patches

------------------------------------------------------------------------
r533 | cpickett | 2009-02-09 11:26:59 -0500 (Mon, 09 Feb 2009) | 2 lines
Changed paths:
   A /trunk/contrib
   A /trunk/contrib/check_unittest.txt
   A /trunk/contrib/check_unittest.xslt

* add contrib dir with xslt thingy for now

------------------------------------------------------------------------
r532 | hugo303 | 2009-02-03 18:47:36 -0500 (Tue, 03 Feb 2009) | 2 lines
Changed paths:
   M /trunk/HACKING

 * Added generation of web manual to release process.

------------------------------------------------------------------------
r531 | hugo303 | 2009-02-03 12:03:08 -0500 (Tue, 03 Feb 2009) | 2 lines
Changed paths:
   A /trunk/tests/check_check_exit.c

 * New file for exit tests, forgot in previous checkin.

------------------------------------------------------------------------
r530 | hugo303 | 2009-02-03 08:38:12 -0500 (Tue, 03 Feb 2009) | 2 lines
Changed paths:
   M /trunk/AUTHORS

 * Added Roy Merkel for exit test patch.

------------------------------------------------------------------------
r529 | hugo303 | 2009-02-03 08:36:16 -0500 (Tue, 03 Feb 2009) | 5 lines
Changed paths:
   M /trunk/src/check.c
   M /trunk/src/check.h.in
   M /trunk/src/check_impl.h
   M /trunk/src/check_run.c
   M /trunk/tests/Makefile.am
   M /trunk/tests/check_check.h
   M /trunk/tests/check_check_main.c

 * Applied patch #1726574, with some modifications.
   The idea is to create a mechanism to verify that functions exit
   early with specific exit values, analogous to the existing signal
   test mechanism.

------------------------------------------------------------------------
r528 | cpickett | 2009-02-02 13:55:58 -0500 (Mon, 02 Feb 2009) | 2 lines
Changed paths:
   M /trunk/index.html

* use Date property for index.html

------------------------------------------------------------------------
r527 | hugo303 | 2009-02-02 07:45:08 -0500 (Mon, 02 Feb 2009) | 6 lines
Changed paths:
   M /trunk/tests/check_check.h
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

 * Fixed the irritating line number issue in the sub test suite. Using
   preprocessor stuff the expected line numbers in the failure messages
   are now autogenerated. It's not the most beautiful solution, but it
   works lightyears better than the hardcoded code that was.
 

------------------------------------------------------------------------
r526 | cpickett | 2009-02-01 15:40:55 -0500 (Sun, 01 Feb 2009) | 2 lines
Changed paths:
   M /trunk/index.html

* add GNUpdf to list of projects using Check

------------------------------------------------------------------------
r525 | hugo303 | 2009-01-30 06:46:36 -0500 (Fri, 30 Jan 2009) | 4 lines
Changed paths:
   M /trunk/src/check_run.c

 * Removed unnecessary setting of fork status from
   srunner_run_unchecked_teardown(). Folded common logic for both
   teardown functions into a common function.

------------------------------------------------------------------------
r524 | cpickett | 2009-01-27 02:17:33 -0500 (Tue, 27 Jan 2009) | 2 lines
Changed paths:
   A /trunk/inbox
   A /trunk/inbox/check_windows.patch

* add inbox dir with remaining msvc patch

------------------------------------------------------------------------
r523 | cpickett | 2009-01-24 14:43:02 -0500 (Sat, 24 Jan 2009) | 2 lines
Changed paths:
   M /trunk/index.html

* add Enlightenment Eet and Eina libs to list of projects using Check

------------------------------------------------------------------------
r522 | cpickett | 2009-01-13 02:53:31 -0500 (Tue, 13 Jan 2009) | 2 lines
Changed paths:
   M /trunk/tests

* ignore check_thread_stress

------------------------------------------------------------------------
r521 | cpickett | 2008-12-31 21:52:11 -0500 (Wed, 31 Dec 2008) | 2 lines
Changed paths:
   M /trunk/lib/fileno.c
   M /trunk/lib/libcompat.c
   M /trunk/lib/putenv.c
   M /trunk/lib/strdup.c

* add more assert (0)'s to broken implementations

------------------------------------------------------------------------
r520 | cpickett | 2008-12-31 21:38:44 -0500 (Wed, 31 Dec 2008) | 5 lines
Changed paths:
   M /trunk/src/check_run.c

* rearrange definitions and declarations in check_run.c so that all of
  the forking stuff is grouped together, all the static functions are
  grouped together, and all the non-static functions are grouped
  together.

------------------------------------------------------------------------
r519 | cpickett | 2008-12-31 21:14:35 -0500 (Wed, 31 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/check_run.c

* protect all unused declarations & definitions with _POSIX_VERSION

------------------------------------------------------------------------
r518 | cpickett | 2008-12-31 20:23:31 -0500 (Wed, 31 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/check_run.c

* try to detect CK_FORK problem on non-POSIX right after getenv() call

------------------------------------------------------------------------
r517 | cpickett | 2008-12-31 20:13:21 -0500 (Wed, 31 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/check_run.c

* align src/ more closely with Friedrich Beckmann's windows patch

------------------------------------------------------------------------
r516 | cpickett | 2008-12-31 19:33:24 -0500 (Wed, 31 Dec 2008) | 3 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/tests/check_check_main.c
   M /trunk/tests/check_check_pack.c
   M /trunk/tests/check_check_sub.c

* protect files in tests/ per Friedrich Beckmann, using _POSIX_VERSION
  instead of HAVE_FORK

------------------------------------------------------------------------
r515 | cpickett | 2008-12-31 19:06:54 -0500 (Wed, 31 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/check.c
   M /trunk/src/check_run.c
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

* protect all calls to exit with _POSIX_VERSION, except in eprintf

------------------------------------------------------------------------
r514 | cpickett | 2008-12-31 18:45:29 -0500 (Wed, 31 Dec 2008) | 2 lines
Changed paths:
   M /trunk/lib/libcompat.h
   M /trunk/tests/check_check_sub.c

* introduce HAVE_WORKING_SETENV to protect tc_timeout_env usage

------------------------------------------------------------------------
r513 | cpickett | 2008-12-31 18:14:25 -0500 (Wed, 31 Dec 2008) | 3 lines
Changed paths:
   M /trunk/lib/libcompat.h
   M /trunk/lib/pipe.c
   M /trunk/lib/setenv.c
   M /trunk/lib/sleep.c
   M /trunk/lib/unsetenv.c

* add `assert (0)' to unimplemented functions to make them fail
  with filename and hence function information

------------------------------------------------------------------------
r512 | cpickett | 2008-12-31 17:56:53 -0500 (Wed, 31 Dec 2008) | 2 lines
Changed paths:
   M /trunk/tests/check_thread_stress.c

* define sendinfo() conditionally to silence warning

------------------------------------------------------------------------
r511 | cpickett | 2008-12-31 17:53:50 -0500 (Wed, 31 Dec 2008) | 2 lines
Changed paths:
   M /trunk/lib/localtime_r.c

* implement localtime_r

------------------------------------------------------------------------
r510 | cpickett | 2008-12-31 17:41:27 -0500 (Wed, 31 Dec 2008) | 2 lines
Changed paths:
   M /trunk/lib/libcompat.h
   M /trunk/src/check_log.c
   M /trunk/tests/check_stress.c
   M /trunk/tests/check_thread_stress.c

* move #include <sys/time.h> and <time.h> to libcompat.h

------------------------------------------------------------------------
r509 | cpickett | 2008-12-31 17:33:45 -0500 (Wed, 31 Dec 2008) | 2 lines
Changed paths:
   M /trunk/lib/libcompat.h
   M /trunk/src/check_run.c
   M /trunk/tests/check_check_sub.c

* move #include <sys/wait.h> to libcompat.h

------------------------------------------------------------------------
r508 | cpickett | 2008-12-31 16:39:41 -0500 (Wed, 31 Dec 2008) | 2 lines
Changed paths:
   M /trunk/lib
   M /trunk/m4
   M /trunk/tests

* set svn:ignore to include more generated stuff

------------------------------------------------------------------------
r507 | cpickett | 2008-12-30 23:41:02 -0500 (Tue, 30 Dec 2008) | 2 lines
Changed paths:
   M /trunk/tests/check_thread_stress.c

* ensure XFAIL without _POSIX_VERSION

------------------------------------------------------------------------
r506 | cpickett | 2008-12-30 23:38:16 -0500 (Tue, 30 Dec 2008) | 2 lines
Changed paths:
   M /trunk/tests/Makefile.am

* add check_thread_stress to tests and XFAIL_TESTS

------------------------------------------------------------------------
r505 | cpickett | 2008-12-30 23:37:35 -0500 (Tue, 30 Dec 2008) | 2 lines
Changed paths:
   M /trunk/tests/check_check_sub.c

* add blank line to fix line numbers

------------------------------------------------------------------------
r504 | cpickett | 2008-12-30 23:28:11 -0500 (Tue, 30 Dec 2008) | 2 lines
Changed paths:
   M /trunk/tests/check_thread_stress.c

* fix indenting again

------------------------------------------------------------------------
r503 | cpickett | 2008-12-30 23:14:15 -0500 (Tue, 30 Dec 2008) | 5 lines
Changed paths:
   M /trunk/tests/check_thread_stress.c

* use CK_VERBOSE instead of CK_SILENT (for now)
* protect pthread test with HAVE_PTHREAD
* protect fork test with _POSIX_VERSION
* call exit() in fork test child

------------------------------------------------------------------------
r502 | cpickett | 2008-12-30 22:05:58 -0500 (Tue, 30 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/check.c
   M /trunk/src/check_error.c
   M /trunk/src/check_list.c
   M /trunk/src/check_log.c
   M /trunk/src/check_msg.c
   M /trunk/src/check_pack.c
   M /trunk/src/check_print.c
   M /trunk/src/check_run.c
   M /trunk/src/check_str.c
   M /trunk/tests/check_thread_stress.c

* depend exclusively on #include "../lib/libcompat.h" to provide config.h

------------------------------------------------------------------------
r501 | cpickett | 2008-12-30 22:01:37 -0500 (Tue, 30 Dec 2008) | 2 lines
Changed paths:
   M /trunk/lib/libcompat.h
   M /trunk/src/check_msg.c
   M /trunk/src/check_pack.c
   M /trunk/src/check_run.c
   M /trunk/tests/check_check_fork.c
   M /trunk/tests/check_check_pack.c
   M /trunk/tests/check_check_sub.c
   M /trunk/tests/check_thread_stress.c

* move #include <unistd.h> and <pthread.h> to libcompat.h

------------------------------------------------------------------------
r500 | cpickett | 2008-12-30 21:54:03 -0500 (Tue, 30 Dec 2008) | 2 lines
Changed paths:
   M /trunk/tests/check_thread_stress.c

* run GNU indent on check_thread_stress.c, and then adjust whitespace

------------------------------------------------------------------------
r499 | cpickett | 2008-12-30 21:51:26 -0500 (Tue, 30 Dec 2008) | 3 lines
Changed paths:
   M /trunk/tests/check_thread_stress.c

* convert check_thread_stress to run actual fork and pthread tests
  - implementation again due to Daniel Gollub

------------------------------------------------------------------------
r498 | cpickett | 2008-12-30 21:23:58 -0500 (Tue, 30 Dec 2008) | 2 lines
Changed paths:
   M /trunk/tests/check_thread_stress.c

* include config.h and ../lib/libcompat.h

------------------------------------------------------------------------
r497 | cpickett | 2008-12-30 21:23:32 -0500 (Tue, 30 Dec 2008) | 2 lines
Changed paths:
   M /trunk/configure.ac

* set CC outside of ACX_PTHREAD

------------------------------------------------------------------------
r496 | cpickett | 2008-12-30 17:12:20 -0500 (Tue, 30 Dec 2008) | 2 lines
Changed paths:
   M /trunk/tests/check_thread_stress.c

* silence check_thread_stress warnings

------------------------------------------------------------------------
r495 | cpickett | 2008-12-30 16:45:26 -0500 (Tue, 30 Dec 2008) | 7 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/configure.ac
   M /trunk/src/Makefile.am
   M /trunk/src/check_pack.c
   M /trunk/tests/Makefile.am
   A /trunk/tests/check_thread_stress.c

* support running tests with multiple pthreads
  - protect write in ppack() using a pthread mutex
  - use ACX_PTHREAD for portability
  - tests/check_thread_stress will test this for now
  - fix due to Daniel Gollub
  - closes 1391527 

------------------------------------------------------------------------
r494 | cpickett | 2008-12-30 16:20:48 -0500 (Tue, 30 Dec 2008) | 2 lines
Changed paths:
   A /trunk/m4/acx_pthread.html
   A /trunk/m4/acx_pthread.m4

* add ACX_PTHREAD files

------------------------------------------------------------------------
r493 | cpickett | 2008-12-30 04:15:08 -0500 (Tue, 30 Dec 2008) | 2 lines
Changed paths:
   M /trunk/TODO

* add todo

------------------------------------------------------------------------
r492 | cpickett | 2008-12-30 02:14:50 -0500 (Tue, 30 Dec 2008) | 2 lines
Changed paths:
   M /trunk/tests/check_check_fixture.c

* adjust line numbers to make all tests pass again

------------------------------------------------------------------------
r491 | cpickett | 2008-12-30 01:47:35 -0500 (Tue, 30 Dec 2008) | 2 lines
Changed paths:
   M /trunk/tests/test_log_output.sh
   M /trunk/tests/test_output.sh
   M /trunk/tests/test_xml_output.sh

* adjust line numbers of expected output

------------------------------------------------------------------------
r490 | cpickett | 2008-12-30 01:21:44 -0500 (Tue, 30 Dec 2008) | 3 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/lib/libcompat.h
   A /trunk/lib/pipe.c

* add pipe(2) stub
  - now both src/ and tests/ compile and link properly on MSYS/MinGW!

------------------------------------------------------------------------
r489 | cpickett | 2008-12-30 00:31:43 -0500 (Tue, 30 Dec 2008) | 7 lines
Changed paths:
   M /trunk/lib/Makefile.am
   M /trunk/src/Makefile.am
   M /trunk/tests/Makefile.am

* Various fixes towards building shared libraries on mingw:
  - add -no-undefined flag to <lib>_LDFLAGS for mingw library creation
  - add libcheckinternal_la_LIBADD
  - don't use LIBADD by itself for src/Makefile.am since
    libcheck_la_LIBADD clobbers it
  - add libcompat.la to *_LDADD and *_LIBADD

------------------------------------------------------------------------
r488 | cpickett | 2008-12-29 21:50:52 -0500 (Mon, 29 Dec 2008) | 2 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/lib/libcompat.h
   A /trunk/lib/putenv.c

* check for putenv as well

------------------------------------------------------------------------
r487 | cpickett | 2008-12-29 21:45:58 -0500 (Mon, 29 Dec 2008) | 2 lines
Changed paths:
   M /trunk/lib/libcompat.h

* copy CK_ATTRIBUTE_UNUSED definition to libcompat.h (evil)

------------------------------------------------------------------------
r486 | cpickett | 2008-12-29 21:40:50 -0500 (Mon, 29 Dec 2008) | 3 lines
Changed paths:
   M /trunk/lib/libcompat.h
   M /trunk/tests/check_check_export_main.c
   M /trunk/tests/check_check_fixture.c
   M /trunk/tests/check_check_fork.c
   M /trunk/tests/check_check_limit.c
   M /trunk/tests/check_check_log.c
   M /trunk/tests/check_check_main.c
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_msg.c
   M /trunk/tests/check_check_pack.c
   M /trunk/tests/check_check_sub.c
   M /trunk/tests/check_list.c
   M /trunk/tests/check_stress.c
   M /trunk/tests/ex_log_output.c
   M /trunk/tests/ex_output.c
   M /trunk/tests/ex_xml_output.c

* #include "../lib/libcompat.h" in tests/*.c
* don't include check.h in libcompat.h

------------------------------------------------------------------------
r485 | cpickett | 2008-12-29 21:26:56 -0500 (Mon, 29 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/check.c
   M /trunk/src/check_error.c
   M /trunk/src/check_list.c
   M /trunk/src/check_log.c
   M /trunk/src/check_msg.c
   M /trunk/src/check_pack.c
   M /trunk/src/check_print.c
   M /trunk/src/check_run.c
   M /trunk/src/check_str.c

* #include "../lib/libcompat.h" everywhere

------------------------------------------------------------------------
r484 | cpickett | 2008-12-29 21:25:44 -0500 (Mon, 29 Dec 2008) | 2 lines
Changed paths:
   M /trunk/lib/libcompat.h

* use #ifndef LIBCOMPAT_H ... #endif idiom

------------------------------------------------------------------------
r483 | cpickett | 2008-12-29 21:24:48 -0500 (Mon, 29 Dec 2008) | 2 lines
Changed paths:
   M /trunk/configure.ac

* take malloc and realloc out of AC_CHECK_DECLS (they are always declared)

------------------------------------------------------------------------
r482 | cpickett | 2008-12-29 21:17:15 -0500 (Mon, 29 Dec 2008) | 4 lines
Changed paths:
   M /trunk/lib/fileno.c
   M /trunk/lib/libcompat.h
   M /trunk/lib/localtime_r.c
   M /trunk/lib/malloc.c
   M /trunk/lib/realloc.c
   M /trunk/lib/setenv.c
   M /trunk/lib/sleep.c
   M /trunk/lib/strdup.c
   M /trunk/lib/strsignal.c
   M /trunk/lib/unsetenv.c

* use HAVE_DECL_FUNCTION instead of HAVE_FUNCTION
* add bodies for all lib/ .c files
* rely on libcompat.h to provide common #includes

------------------------------------------------------------------------
r481 | cpickett | 2008-12-29 20:37:21 -0500 (Mon, 29 Dec 2008) | 5 lines
Changed paths:
   M /trunk/configure.ac
   A /trunk/lib/fileno.c
   M /trunk/lib/libcompat.h
   A /trunk/lib/localtime_r.c
   A /trunk/lib/setenv.c
   A /trunk/lib/unsetenv.c

* only check for those functions that we currently need to check for
  to solve portability problems, and avoid checking for things where
  we don't currently use the result generated in config.h
* add stubs for setenv, unsetenv, localtime_r, and fileno

------------------------------------------------------------------------
r480 | cpickett | 2008-12-29 17:28:42 -0500 (Mon, 29 Dec 2008) | 2 lines
Changed paths:
   M /trunk/index.html

* list OpenSync as client

------------------------------------------------------------------------
r479 | hugo303 | 2008-12-29 10:46:39 -0500 (Mon, 29 Dec 2008) | 4 lines
Changed paths:
   M /trunk
   M /trunk/NEWS
   M /trunk/TODO
   M /trunk/configure.ac
   M /trunk/lib/malloc.c
   M /trunk/lib/realloc.c
   M /trunk/lib/strsignal.c

 * Merged release branch 0.9.6
    svn merge -r476:477 ../tags/check-0.9.6


------------------------------------------------------------------------
r478 | hugo303 | 2008-12-29 10:34:22 -0500 (Mon, 29 Dec 2008) | 3 lines
Changed paths:
   M /trunk/HACKING

 * Updated with more info on releases.


------------------------------------------------------------------------
r475 | cpickett | 2008-12-28 18:38:12 -0500 (Sun, 28 Dec 2008) | 2 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/lib/libcompat.h
   A /trunk/lib/strdup.c

* add strdup.c to lib/ (there are problems on mingw with strdup)

------------------------------------------------------------------------
r474 | cpickett | 2008-12-28 18:24:25 -0500 (Sun, 28 Dec 2008) | 5 lines
Changed paths:
   M /trunk/configure.ac
   A /trunk/m4/ax_cflags_warn_all_ansi.html
   A /trunk/m4/ax_cflags_warn_all_ansi.m4
   M /trunk/src/Makefile.am
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

* use AX_CFLAGS_WARN_ALL_ANSI
* remove tests that support fail() and friends without NULL 
  - otherwise GCC complains about this not being ISO C99
* remove setting -ansi and -pedantic in src/Makefile.am

------------------------------------------------------------------------
r473 | cpickett | 2008-12-28 18:00:21 -0500 (Sun, 28 Dec 2008) | 2 lines
Changed paths:
   M /trunk/lib/libcompat.c
   M /trunk/lib/libcompat.h

* silence warning when nothing is included in libcompat

------------------------------------------------------------------------
r472 | cpickett | 2008-12-28 17:51:20 -0500 (Sun, 28 Dec 2008) | 2 lines
Changed paths:
   M /trunk/tests/ex_xml_output.c

* add more CK_ATTRIBUTE_UNUSED's

------------------------------------------------------------------------
r471 | cpickett | 2008-12-28 17:16:00 -0500 (Sun, 28 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/check_log.c
   M /trunk/src/check_print.c
   M /trunk/tests/check_check_sub.c

* silence some more unused parameter warnings

------------------------------------------------------------------------
r470 | cpickett | 2008-12-28 17:09:48 -0500 (Sun, 28 Dec 2008) | 4 lines
Changed paths:
   M /trunk/lib/sleep.c
   M /trunk/src/check.c
   M /trunk/src/check.h.in

* move CK_ATTRIBUTE_UNUSED attribute after parameter name in sleep()
  and __testname()
* add CK_ATTRIBUTE_UNUSED to fname parameter in tcase_fn_start

------------------------------------------------------------------------
r469 | cpickett | 2008-12-28 16:30:16 -0500 (Sun, 28 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/check_run.c

* mark print_mode parameter as unused in two cases

------------------------------------------------------------------------
r468 | cpickett | 2008-12-28 16:26:01 -0500 (Sun, 28 Dec 2008) | 5 lines
Changed paths:
   M /trunk/lib/libcompat.h
   M /trunk/lib/malloc.c
   M /trunk/lib/realloc.c
   M /trunk/lib/sleep.c
   M /trunk/lib/strsignal.c

* include libcompat.h in each lib .c file and reduce boilerplate
* mark sleep seconds parameter unused
* make strsignal() non-static
* include ../src/check.h in libcompat.h

------------------------------------------------------------------------
r467 | cpickett | 2008-12-28 16:05:31 -0500 (Sun, 28 Dec 2008) | 4 lines
Changed paths:
   M /trunk/src/Makefile.am
   M /trunk/src/check_run.c
   M /trunk/tests/Makefile.am
   M /trunk/tests/check_check_sub.c

* #include "../lib/libcompat.h" in two places
* change .. in LDADD and LIBADD to $(top_builddir)


------------------------------------------------------------------------
r466 | cpickett | 2008-12-28 15:47:06 -0500 (Sun, 28 Dec 2008) | 2 lines
Changed paths:
   M /trunk/lib/Makefile.am
   A /trunk/lib/libcompat.h
   M /trunk/lib/malloc.c
   M /trunk/lib/realloc.c
   M /trunk/lib/sleep.c
   M /trunk/lib/strsignal.c
   M /trunk/src/check_run.c

* add libcompat.h with prototypes for libcompat functions

------------------------------------------------------------------------
r465 | cpickett | 2008-12-28 14:58:42 -0500 (Sun, 28 Dec 2008) | 2 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/src/check_run.c
   M /trunk/tests/check_check_master.c

* use AC_USE_SYSTEM_EXTENSIONS instead of #define _GNU_SOURCE

------------------------------------------------------------------------
r464 | cpickett | 2008-12-28 02:39:38 -0500 (Sun, 28 Dec 2008) | 2 lines
Changed paths:
   M /trunk/configure.ac
   A /trunk/lib/sleep.c

* replace sleep() as well

------------------------------------------------------------------------
r463 | cpickett | 2008-12-28 02:19:25 -0500 (Sun, 28 Dec 2008) | 2 lines
Changed paths:
   M /trunk/tests/Makefile.am

* add libcompat.la to LDADD

------------------------------------------------------------------------
r462 | cpickett | 2008-12-28 02:16:08 -0500 (Sun, 28 Dec 2008) | 4 lines
Changed paths:
   M /trunk/tests/check_check_sub.c

* msys/gcc portability:
  - protect calls to fork/sleep/kill with _POSIX_VERSION
  - protect inclusion of sys/wait.h with #if HAVE_SYS_WAIT_H

------------------------------------------------------------------------
r461 | cpickett | 2008-12-28 01:55:42 -0500 (Sun, 28 Dec 2008) | 2 lines
Changed paths:
   A /trunk/lib/libcompat.c

* add missing libcompat.c

------------------------------------------------------------------------
r460 | cpickett | 2008-12-28 01:53:08 -0500 (Sun, 28 Dec 2008) | 2 lines
Changed paths:
   A /trunk/lib/Makefile.am

* add missing lib/Makefile.am

------------------------------------------------------------------------
r459 | cpickett | 2008-12-28 01:51:34 -0500 (Sun, 28 Dec 2008) | 3 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/configure.ac
   A /trunk/lib/malloc.c (from /trunk/src/malloc.c:457)
   A /trunk/lib/realloc.c (from /trunk/src/realloc.c:457)
   A /trunk/lib/strsignal.c (from /trunk/src/strsignal.c:457)
   M /trunk/src/Makefile.am
   D /trunk/src/malloc.c
   D /trunk/src/realloc.c
   D /trunk/src/strsignal.c

* move strsignal, malloc, and realloc to lib/ subdir, as recommended
  by Automake manual

------------------------------------------------------------------------
r458 | cpickett | 2008-12-28 01:37:59 -0500 (Sun, 28 Dec 2008) | 2 lines
Changed paths:
   A /trunk/lib

* add lib dir for libcompat

------------------------------------------------------------------------
r457 | cpickett | 2008-12-28 01:24:38 -0500 (Sun, 28 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/Makefile.am

* add missing @LTLIBOJBS@ to libcheck_la_DEPENDENCIES

------------------------------------------------------------------------
r456 | cpickett | 2008-12-23 19:03:12 -0500 (Tue, 23 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/Makefile.am

* use LTLIBOBJS instead of LIBOJBS since we're building a library

------------------------------------------------------------------------
r455 | cpickett | 2008-12-23 00:04:01 -0500 (Tue, 23 Dec 2008) | 6 lines
Changed paths:
   M /trunk/src/Makefile.am
   M /trunk/src/check.c
   A /trunk/src/malloc.c
   A /trunk/src/realloc.c
   A /trunk/src/strsignal.c

* Fix problems with the use of AC_FUNC_MALLOC, AC_FUNC_REALLOC, and
  AC_REPLACE_FUNCS([strsignal]):
  - add @LIBOBJS@ to libcheck_la_LIBADD and libcheckinternal_la_LIBADD
  - create separate malloc.c, realloc.c, and strsignal.c files
  - move function definitions from check.c into these files  

------------------------------------------------------------------------
r454 | cpickett | 2008-12-22 20:40:31 -0500 (Mon, 22 Dec 2008) | 4 lines
Changed paths:
   M /trunk/src/check_run.c

* Changes to make the src/ directory compile with gcc/MSYS:
  - protect inclusion of sys/wait.h with HAVE_SYS_WAIT_H
  - protect POSIX-only calls with _POSIX_VERSION

------------------------------------------------------------------------
r453 | cpickett | 2008-12-01 16:14:15 -0500 (Mon, 01 Dec 2008) | 2 lines
Changed paths:
   M /trunk/TODO

* add note about CFLAGS and ax_cflags_gcc_option to TODO

------------------------------------------------------------------------
r452 | cpickett | 2008-12-01 16:10:44 -0500 (Mon, 01 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src

* add exported.sym to ignored files

------------------------------------------------------------------------
r451 | cpickett | 2008-11-30 15:00:40 -0500 (Sun, 30 Nov 2008) | 2 lines
Changed paths:
   M /trunk/TODO

* update TODO

------------------------------------------------------------------------
r450 | cpickett | 2008-11-30 03:49:41 -0500 (Sun, 30 Nov 2008) | 2 lines
Changed paths:
   M /trunk/tests

* set some svn:ignore properties so svn status works better

------------------------------------------------------------------------
r449 | cpickett | 2008-11-30 02:11:42 -0500 (Sun, 30 Nov 2008) | 2 lines
Changed paths:
   M /trunk/TODO

* add Cygwin, MinGW, MSVC to TODO

------------------------------------------------------------------------
r448 | cpickett | 2008-11-30 02:03:49 -0500 (Sun, 30 Nov 2008) | 5 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/configure.ac
   M /trunk/src/check.c

* add call to AC_REPLACE_FUNCS([strsignal])
* add new rpl_strsignal following rpl_(re)malloc template, body
  of function due to Roland Illig
  -- hopefully closes 1629755

------------------------------------------------------------------------
r447 | cpickett | 2008-11-30 00:30:49 -0500 (Sun, 30 Nov 2008) | 4 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

* add missing NULL argument to fail* varargs macro calls
* define incorrect tests for __GNUC__ only
   -- both per Roland Illig in bug 1677391

------------------------------------------------------------------------
r446 | cpickett | 2008-11-29 22:38:06 -0500 (Sat, 29 Nov 2008) | 3 lines
Changed paths:
   M /trunk/src/check.h.in

* define CK_ATTRIBUTE_UNUSED for GCC >= 2.95, closing:
  [ 1674626 ] compile error with non defined __attribute__ compiler

------------------------------------------------------------------------
r445 | cpickett | 2008-11-29 22:30:21 -0500 (Sat, 29 Nov 2008) | 3 lines
Changed paths:
   M /trunk/README

* mention that texinfo is for documentation, and that any TeX
  installation will do in dependencies section

------------------------------------------------------------------------
r443 | cpickett | 2008-11-15 13:23:14 -0500 (Sat, 15 Nov 2008) | 2 lines
Changed paths:
   M /trunk
   M /trunk/doc

* set svn:ignore for generated files so svn status is useful

------------------------------------------------------------------------
r442 | hugo303 | 2008-11-12 14:03:48 -0500 (Wed, 12 Nov 2008) | 1 line
Changed paths:
   M /trunk/doc/example/tests/Makefile.am

* Fixed error in documentation example Makefile.am, bug #1888237
------------------------------------------------------------------------
r441 | hugo303 | 2008-11-10 17:05:13 -0500 (Mon, 10 Nov 2008) | 1 line
Changed paths:
   M /trunk/doc/check.texi

* Fixed spelling (patch #1652630)
------------------------------------------------------------------------
r440 | hugo303 | 2008-11-10 16:44:52 -0500 (Mon, 10 Nov 2008) | 1 line
Changed paths:
   M /trunk/src/check.c

* Handle NULL in srunner_add_suite(). Fixes #1624887
------------------------------------------------------------------------
r439 | hugo303 | 2008-11-10 16:25:27 -0500 (Mon, 10 Nov 2008) | 1 line
Changed paths:
   M /trunk/index.html

* Fixed faulty link to Daimonin
------------------------------------------------------------------------
r438 | hugo303 | 2008-11-10 16:23:10 -0500 (Mon, 10 Nov 2008) | 1 line
Changed paths:
   M /trunk/doc/check.texi

* Updated chapter 3.3 (bug #2053018)
------------------------------------------------------------------------
r437 | cpickett | 2008-08-28 16:49:06 -0400 (Thu, 28 Aug 2008) | 2 lines
Changed paths:
   M /trunk/index.html

* add scew

------------------------------------------------------------------------
r435 | cpickett | 2008-03-21 18:16:13 -0400 (Fri, 21 Mar 2008) | 3 lines
Changed paths:
   M /trunk/src/Makefile.am

* use @top_srcdir@/src/check.h.in instead of check.h.in
  -- fixes broken make distcheck

------------------------------------------------------------------------
r434 | cpickett | 2008-03-21 18:04:41 -0400 (Fri, 21 Mar 2008) | 3 lines
Changed paths:
   M /trunk/doc/Makefile.am

* add '|| test $$? -eq 1;' after each diff command per 
  OpenBSD 4.2 problems Torok Edwin was having.

------------------------------------------------------------------------
r433 | cpickett | 2008-03-21 17:45:37 -0400 (Fri, 21 Mar 2008) | 2 lines
Changed paths:
   M /trunk/src/check.c
   M /trunk/src/check.h.in
   M /trunk/src/check_impl.h
   M /trunk/src/check_run.c

* add CK_FORK_GETENV to enum fork_status and delete CK_FORK_UNSPECIFIED

------------------------------------------------------------------------
r432 | cpickett | 2008-03-21 17:10:16 -0400 (Fri, 21 Mar 2008) | 2 lines
Changed paths:
   M /trunk/tests/check_check_master.c

* add comment about strsignal overwriting string returned by previous call

------------------------------------------------------------------------
r431 | cpickett | 2008-03-21 16:44:52 -0400 (Fri, 21 Mar 2008) | 3 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/tests/check_check_master.c

* call strdup on result from strsignal to avoid clobbering it
* add Torok Edwin to AUTHORS

------------------------------------------------------------------------
r430 | cpickett | 2008-03-21 14:54:36 -0400 (Fri, 21 Mar 2008) | 2 lines
Changed paths:
   M /trunk/src/check.c
   M /trunk/src/check.h.in
   M /trunk/src/check_print.c

* add CK_TEST_RESULT_INVALID to enum test_result

------------------------------------------------------------------------
r429 | cpickett | 2008-03-21 14:26:50 -0400 (Fri, 21 Mar 2008) | 2 lines
Changed paths:
   M /trunk/src/check.c
   M /trunk/src/check.h.in
   M /trunk/src/check_pack.c

* add CK_CTX_INVALID to ck_result_ctx and don't use -1 anymore

------------------------------------------------------------------------
r428 | cpickett | 2008-03-21 13:54:42 -0400 (Fri, 21 Mar 2008) | 2 lines
Changed paths:
   M /trunk/configure.ac
   A /trunk/m4/ax_c_check_flag.html
   A /trunk/m4/ax_c_check_flag.m4
   D /trunk/m4/ax_cflags_gcc_option.html
   D /trunk/m4/ax_cflags_gcc_option.m4

* favour ax_c_check_flag over ax_cflags_gcc_option

------------------------------------------------------------------------
r427 | cpickett | 2008-03-21 13:22:43 -0400 (Fri, 21 Mar 2008) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/configure.ac

* add options using AX_CFLAGS_GCC_OPTION

------------------------------------------------------------------------
r426 | cpickett | 2008-03-21 11:39:00 -0400 (Fri, 21 Mar 2008) | 2 lines
Changed paths:
   A /trunk/m4
   A /trunk/m4/ax_cflags_gcc_option.html
   A /trunk/m4/ax_cflags_gcc_option.m4

* add m4 directory and ax_cflags_gcc_option macro

------------------------------------------------------------------------
r425 | cpickett | 2008-03-21 11:06:24 -0400 (Fri, 21 Mar 2008) | 2 lines
Changed paths:
   M /trunk/src/Makefile.am

* replace $< with check.h.in for non-gmake (patch due to Torok Edwin)

------------------------------------------------------------------------
r424 | cpickett | 2008-03-21 11:00:21 -0400 (Fri, 21 Mar 2008) | 2 lines
Changed paths:
   M /trunk/configure.ac

* call AM_PROG_CC_C_O

------------------------------------------------------------------------
r423 | cpickett | 2008-03-20 19:19:16 -0400 (Thu, 20 Mar 2008) | 4 lines
Changed paths:
   M /trunk/src/check.c

* add prototypes for rpl_malloc and rpl_realloc
* fix prototypes for malloc and realloc
* document AC_FUNC_MALLOC / AC_FUNC_REALLOC madness

------------------------------------------------------------------------
r422 | cpickett | 2008-03-06 11:59:38 -0500 (Thu, 06 Mar 2008) | 5 lines
Changed paths:
   M /trunk/src/check_error.c
   M /trunk/src/check_log.c
   M /trunk/src/check_msg.c
   M /trunk/src/check_pack.c
   M /trunk/src/check_run.c

* Pass an adjusted line number to eprintf when the error
  being reported is based on the result of another function.
* Name the function that failed in these cases.
* Add FIXME re: colons at the end of system error messages

------------------------------------------------------------------------
r421 | cpickett | 2008-03-03 09:13:27 -0500 (Mon, 03 Mar 2008) | 2 lines
Changed paths:
   M /trunk/doc/check.texi
   M /trunk/index.html

* add daimonin, embunit, and aceunit

------------------------------------------------------------------------
r420 | cpickett | 2008-03-03 08:48:38 -0500 (Mon, 03 Mar 2008) | 2 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/src/check_run.c
   M /trunk/tests/check_check_fixture.c

* count checks in setup() as well; patch due to Roland Stigge

------------------------------------------------------------------------
r419 | cpickett | 2008-02-08 09:09:41 -0500 (Fri, 08 Feb 2008) | 4 lines
Changed paths:
   M /trunk/src/check.h.in

* use int __attribute__((unused)) _i instead of
      int _i __attribute__((unused))
  per gcc-3.3.5 request from Sebastian Trahm

------------------------------------------------------------------------
r418 | cpickett | 2008-01-22 17:54:46 -0500 (Tue, 22 Jan 2008) | 2 lines
Changed paths:
   M /trunk/doc/check.texi

* fix cppunit link

------------------------------------------------------------------------
r417 | cpickett | 2008-01-17 14:03:32 -0500 (Thu, 17 Jan 2008) | 2 lines
Changed paths:
   M /trunk/index.html

* add XCB to list of projects using Check

------------------------------------------------------------------------
r416 | cpickett | 2007-12-11 20:17:42 -0500 (Tue, 11 Dec 2007) | 3 lines
Changed paths:
   M /trunk/src/check.c
   M /trunk/src/check.h.in

* rename signal to _signal in _tcase_add_test to avoid a
  symbol clash with /usr/include/sys/signal.h on OS X.

------------------------------------------------------------------------
r415 | cpickett | 2007-10-28 12:38:34 -0400 (Sun, 28 Oct 2007) | 2 lines
Changed paths:
   M /trunk/index.html

* add Pigment to list of projects using Check

------------------------------------------------------------------------
r414 | hugo303 | 2007-08-27 09:13:11 -0400 (Mon, 27 Aug 2007) | 3 lines
Changed paths:
   M /trunk/src/check_msg.c

 * Made send_file1 and send_file2 static.


------------------------------------------------------------------------
r413 | hugo303 | 2007-08-27 05:50:07 -0400 (Mon, 27 Aug 2007) | 3 lines
Changed paths:
   M /trunk/index.html

* Add BitlBee and ctrlproxy to list of Check-using projects.


------------------------------------------------------------------------
r412 | cpickett | 2007-06-19 23:50:45 -0400 (Tue, 19 Jun 2007) | 3 lines
Changed paths:
   M /trunk/tests/check_check_sub.c

* test fail(NULL) instead of fail() because there is
  no way to fix fail() to work with the XL C compiler.

------------------------------------------------------------------------
r411 | cpickett | 2007-06-19 19:36:39 -0400 (Tue, 19 Jun 2007) | 4 lines
Changed paths:
   M /trunk/src/check.c

* define rpl_malloc and rpl_realloc for platforms where
  !malloc(0) and !realloc(0,0), such as AIX, because configure
  goes and redefines malloc/realloc in this case...

------------------------------------------------------------------------
r410 | cpickett | 2007-04-20 21:41:34 -0400 (Fri, 20 Apr 2007) | 2 lines
Changed paths:
   M /trunk/Makefile.am

* SVNChangeLog patch from Robert Collins

------------------------------------------------------------------------
r409 | hugo303 | 2007-03-12 12:05:53 -0400 (Mon, 12 Mar 2007) | 3 lines
Changed paths:
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

 * Added some simple testing of srunner_create() and srunner_add_suite().


------------------------------------------------------------------------
r408 | cpickett | 2007-01-28 16:03:53 -0500 (Sun, 28 Jan 2007) | 2 lines
Changed paths:
   M /trunk/index.html

* Add Iodine to list of Check-using projects.

------------------------------------------------------------------------
r407 | cpickett | 2007-01-16 16:57:52 -0500 (Tue, 16 Jan 2007) | 2 lines
Changed paths:
   M /trunk/README
   M /trunk/TODO
   M /trunk/doc/check.texi
   M /trunk/index.html

* s/unit test/unit testing/ when used as a verb.

------------------------------------------------------------------------
r406 | cpickett | 2006-12-20 19:46:08 -0500 (Wed, 20 Dec 2006) | 2 lines
Changed paths:
   M /trunk/doc/check.texi

* Fix broken example of loop test usage.

------------------------------------------------------------------------
r405 | cpickett | 2006-12-12 14:11:09 -0500 (Tue, 12 Dec 2006) | 3 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/HACKING
   M /trunk/THANKS
   M /trunk/TODO
   M /trunk/configure.ac

* Obfuscate email addresses a little bit more.
* Update Arien Malec's email address.

------------------------------------------------------------------------
r404 | cpickett | 2006-12-12 02:10:20 -0500 (Tue, 12 Dec 2006) | 2 lines
Changed paths:
   M /trunk/TODO

* Add pkg-config documentation TODO.

------------------------------------------------------------------------
r403 | cpickett | 2006-12-10 12:19:43 -0500 (Sun, 10 Dec 2006) | 2 lines
Changed paths:
   M /trunk/index.html

* Add Tinymail link.

------------------------------------------------------------------------
r402 | cpickett | 2006-12-08 12:47:49 -0500 (Fri, 08 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/check.h.in
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

* Add ck_abort and ck_abort_msg implementation with tests.

------------------------------------------------------------------------
r401 | hugo303 | 2006-12-06 03:54:01 -0500 (Wed, 06 Dec 2006) | 3 lines
Changed paths:
   M /trunk/check.m4

 * Incorporated patch from Debian for debian bug #395466. This fixes
    'AM_PATH_CHECK causes "possibly undefined macro" errors'.

------------------------------------------------------------------------
r400 | hugo303 | 2006-11-28 06:51:29 -0500 (Tue, 28 Nov 2006) | 1 line
Changed paths:
   M /trunk/tests/check_check_master.c

 * Fixed line number typo in timeout test.
------------------------------------------------------------------------
r399 | hugo303 | 2006-11-28 05:47:35 -0500 (Tue, 28 Nov 2006) | 2 lines
Changed paths:
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

 * Added tests for new Check fail API.

------------------------------------------------------------------------
r398 | hugo303 | 2006-11-28 05:46:12 -0500 (Tue, 28 Nov 2006) | 4 lines
Changed paths:
   M /trunk/src/check.h.in

 * Added new Check fail API. Implemented on top of fail_unless. Future
   versions will reverse this so fail_unless is implemented on top of the
   ck_assert API.

------------------------------------------------------------------------
r397 | cpickett | 2006-11-23 13:20:44 -0500 (Thu, 23 Nov 2006) | 2 lines
Changed paths:
   M /trunk/README

* Relax sed dependency from GNU to POSIX.

------------------------------------------------------------------------
r396 | cpickett | 2006-11-23 13:18:11 -0500 (Thu, 23 Nov 2006) | 3 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/HACKING
   M /trunk/THANKS
   M /trunk/TODO
   M /trunk/configure.ac
   M /trunk/doc/check.texi
   M /trunk/doc/example/README
   M /trunk/doc/example/configure.ac
   M /trunk/index.html

* Update AUTHORS to reflect current maintainers.
* Perform basic email address obfuscation, replacing @ with AT.

------------------------------------------------------------------------
r395 | hugo303 | 2006-11-23 08:35:24 -0500 (Thu, 23 Nov 2006) | 1 line
Changed paths:
   M /trunk/configure.ac

 * Reverted change in r377. genhtml is used in src/Makefile.am.
------------------------------------------------------------------------
r394 | hugo303 | 2006-11-23 03:18:10 -0500 (Thu, 23 Nov 2006) | 1 line
Changed paths:
   M /trunk/src/Makefile.am

 * Modified sed exported symbols regexp to work on OS X.
------------------------------------------------------------------------
r393 | cpickett | 2006-11-23 00:27:00 -0500 (Thu, 23 Nov 2006) | 5 lines
Changed paths:
   M /trunk/TODO
   M /trunk/doc/check.texi
   M /trunk/src/check.c

* Change DEFAULT_TIMEOUT from 3 seconds to 4 seconds.  Document in
  TODO that this should ultimately be fixed properly.  This fixes
  build errors with timeout tests on a Mac Pro, and possibly other 
  systems and/or architectures.

------------------------------------------------------------------------
r392 | cpickett | 2006-11-22 23:25:13 -0500 (Wed, 22 Nov 2006) | 2 lines
Changed paths:
   M /trunk/README

* Document dependency on GNU sed 4.0.5.

------------------------------------------------------------------------
r391 | hugo303 | 2006-11-22 05:13:51 -0500 (Wed, 22 Nov 2006) | 3 lines
Changed paths:
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

 * Reverted back to r378, undoing the -ansi and -pedantic fixes.
   Now the tests shall work again.

------------------------------------------------------------------------
r390 | hugo303 | 2006-11-22 05:11:49 -0500 (Wed, 22 Nov 2006) | 3 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/src/Makefile.am

 * Moved -ansi and -pedantic CFLAGS to src/Makefile.am from configure.ac.
   Without these flags in the tests, they will be able to work again.

------------------------------------------------------------------------
r389 | cpickett | 2006-11-22 02:33:47 -0500 (Wed, 22 Nov 2006) | 3 lines
Changed paths:
   M /trunk/doc/check.texi

* Clarified checked and unchecked fixtures according to discussion
  between Hugo and Greger Ohlson in the Help forum.

------------------------------------------------------------------------
r388 | cpickett | 2006-11-22 02:22:38 -0500 (Wed, 22 Nov 2006) | 3 lines
Changed paths:
   M /trunk/TODO

* Update TODO with Hugo's idea from Help forum about forking
  test cases as well as forking unit tests.

------------------------------------------------------------------------
r387 | cpickett | 2006-11-22 00:13:35 -0500 (Wed, 22 Nov 2006) | 2 lines
Changed paths:
   M /trunk/HACKING

* Changed release email project files link to direct download link.

------------------------------------------------------------------------
r386 | cpickett | 2006-11-21 20:26:56 -0500 (Tue, 21 Nov 2006) | 2 lines
Changed paths:
   M /trunk/HACKING

* Document release process.

------------------------------------------------------------------------
r385 | cpickett | 2006-11-21 18:56:21 -0500 (Tue, 21 Nov 2006) | 3 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/TODO
   M /trunk/configure.ac

* svn merge -r383:384 ../tags/check-0.9.5/ .
  -- Updated version to 0.9.5, along with NEWS and TODO to match.

------------------------------------------------------------------------
r382 | hugo303 | 2006-11-21 04:36:01 -0500 (Tue, 21 Nov 2006) | 1 line
Changed paths:
   M /trunk/TODO

 * Clarified patch submission in TODO list.
------------------------------------------------------------------------
r381 | cpickett | 2006-11-20 22:41:37 -0500 (Mon, 20 Nov 2006) | 3 lines
Changed paths:
   M /trunk/Makefile.am

* svn merge -r375:374 .
  -- This removes the `.PHONY: SVNChangeLog' target.

------------------------------------------------------------------------
r380 | cpickett | 2006-11-17 20:02:13 -0500 (Fri, 17 Nov 2006) | 3 lines
Changed paths:
   M /trunk/src/check_run.c

* Eliminate comparison of enum print_mode with 0, since the enum type
  is unsigned int.

------------------------------------------------------------------------
r379 | cpickett | 2006-11-17 19:47:21 -0500 (Fri, 17 Nov 2006) | 5 lines
Changed paths:
   M /trunk/tests/check_check_master.c
   M /trunk/tests/check_check_sub.c

* Always pass NULL to fail_if and fail_unless if there is no
  message, as required by C99.
* Delete test_fail_no_msg and test_fail_if_no_msg since they test
  support for non-ISO behaviour.

------------------------------------------------------------------------
r378 | cpickett | 2006-11-17 19:44:33 -0500 (Fri, 17 Nov 2006) | 2 lines
Changed paths:
   M /trunk/configure.ac

* Add some strictness to CFLAGS.

------------------------------------------------------------------------
r377 | cpickett | 2006-11-17 18:53:54 -0500 (Fri, 17 Nov 2006) | 2 lines
Changed paths:
   M /trunk/configure.ac

* Remove check for genhtml, since it isn't used anywhere.

------------------------------------------------------------------------
r376 | cpickett | 2006-11-17 18:45:08 -0500 (Fri, 17 Nov 2006) | 2 lines
Changed paths:
   M /trunk/TODO

* Tick off make html (0.9.4) and loop test clarification (0.9.5).

------------------------------------------------------------------------
r375 | hugo303 | 2006-11-17 08:17:38 -0500 (Fri, 17 Nov 2006) | 1 line
Changed paths:
   M /trunk/Makefile.am

 * Made SVNChangeLog target PHONY so it is always regenerated.
------------------------------------------------------------------------
r374 | hugo303 | 2006-11-17 06:57:41 -0500 (Fri, 17 Nov 2006) | 1 line
Changed paths:
   M /trunk/TODO

 * Added future AC_PROG_CC_C99 stuff. Ticked off distcheck failure.
------------------------------------------------------------------------
r373 | hugo303 | 2006-11-17 03:56:43 -0500 (Fri, 17 Nov 2006) | 3 lines
Changed paths:
   M /trunk/src/Makefile.am
   M /trunk/tests/Makefile.am

 * Added use of libtool functionality for hiding non-exported symbols.
   Sourceforge feature request #1165405 and bug #1597963.

------------------------------------------------------------------------
r372 | hugo303 | 2006-11-17 03:54:29 -0500 (Fri, 17 Nov 2006) | 3 lines
Changed paths:
   A /trunk/tests/check_check_export_main.c

 * New file used for testing the exported lib with hidden symbols. The
   old main now tests an internal lib were all symbols are still visible.

------------------------------------------------------------------------
r371 | hugo303 | 2006-11-17 03:45:29 -0500 (Fri, 17 Nov 2006) | 1 line
Changed paths:
   M /trunk/src/check.h.in

 * Added marker on exported symbols to facilitate hiding of lib-local symbols.
------------------------------------------------------------------------
r370 | cpickett | 2006-11-15 17:40:50 -0500 (Wed, 15 Nov 2006) | 2 lines
Changed paths:
   M /trunk/NEWS

* Update NEWS.

------------------------------------------------------------------------
r369 | cpickett | 2006-11-15 17:36:31 -0500 (Wed, 15 Nov 2006) | 5 lines
Changed paths:
   M /trunk/doc/check.texi
   M /trunk/src/check.h.in
   M /trunk/tests/check_check_master.c
   M /trunk/tests/ex_xml_output.c

* Rename loop test iteration variable from i to _i.  This avoids
  confusing the user due to warnings issued when using a local
  variable i in a normal, non-looping test.
* Add example of loop test usage to documentation.

------------------------------------------------------------------------
r368 | hugo303 | 2006-11-15 08:50:15 -0500 (Wed, 15 Nov 2006) | 3 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/src/Makefile.am

 * Fixed coverage support to work with gcc4 and buggy libtool.


------------------------------------------------------------------------
r367 | hugo303 | 2006-11-15 08:41:39 -0500 (Wed, 15 Nov 2006) | 2 lines
Changed paths:
   M /trunk/README

 * Added texinfo dependencies.

------------------------------------------------------------------------
r366 | cpickett | 2006-11-15 04:20:47 -0500 (Wed, 15 Nov 2006) | 2 lines
Changed paths:
   M /trunk/index.html

* Clarify meaning of "sporadically maintained".

------------------------------------------------------------------------
r365 | hugo303 | 2006-11-14 10:51:33 -0500 (Tue, 14 Nov 2006) | 2 lines
Changed paths:
   M /trunk/Makefile.am

 * Fixed distcheck target. SVNChangeLog added to EXTRA_DIST.

------------------------------------------------------------------------
r364 | hugo303 | 2006-11-03 08:03:55 -0500 (Fri, 03 Nov 2006) | 4 lines
Changed paths:
   M /trunk/tests/check_check_main.c
   M /trunk/tests/check_check_master.c

 * Fixed signal string problem in tests. Strings differed between
   OSes. Fixes Sourceforge bug #1539828. 


------------------------------------------------------------------------
r363 | hugo303 | 2006-10-26 09:48:54 -0400 (Thu, 26 Oct 2006) | 1 line
Changed paths:
   M /trunk/src/check_run.c

Fixed problem with process group ID, especially visible on Solaris and LynxOS. Sourceforge bugs #1407360 and #1539828
------------------------------------------------------------------------
r362 | cpickett | 2006-10-13 15:25:25 -0400 (Fri, 13 Oct 2006) | 2 lines
Changed paths:
   M /trunk/configure.ac

* s/yes/no/ in --enable-gcov help message.

------------------------------------------------------------------------
r359 | cpickett | 2006-10-13 14:40:38 -0400 (Fri, 13 Oct 2006) | 2 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/index.html

* Update NEWS.

------------------------------------------------------------------------
r358 | cpickett | 2006-10-13 14:23:09 -0400 (Fri, 13 Oct 2006) | 2 lines
Changed paths:
   M /trunk/configure.ac

* Oops, s/>:/:>/

------------------------------------------------------------------------
r357 | cpickett | 2006-10-13 14:20:07 -0400 (Fri, 13 Oct 2006) | 2 lines
Changed paths:
   M /trunk/configure.ac

* Fixed help strings for --enable-gcov and --enable-timeout-tests

------------------------------------------------------------------------
r356 | cpickett | 2006-10-13 03:51:23 -0400 (Fri, 13 Oct 2006) | 2 lines
Changed paths:
   M /trunk/index.html

* Update links to projects using Check.

------------------------------------------------------------------------
r355 | cpickett | 2006-10-13 03:23:13 -0400 (Fri, 13 Oct 2006) | 2 lines
Changed paths:
   M /trunk/TODO

* Update TODO.

------------------------------------------------------------------------
r354 | cpickett | 2006-10-13 03:12:57 -0400 (Fri, 13 Oct 2006) | 2 lines
Changed paths:
   M /trunk/index.html

* Clean up webpage a little bit more.

------------------------------------------------------------------------
r353 | cpickett | 2006-10-13 03:08:35 -0400 (Fri, 13 Oct 2006) | 2 lines
Changed paths:
   M /trunk/index.html

* Update webpage.

------------------------------------------------------------------------
r352 | cpickett | 2006-10-13 02:33:37 -0400 (Fri, 13 Oct 2006) | 2 lines
Changed paths:
   D /trunk/htdocs
   A /trunk/index.html (from /trunk/htdocs/index.html:351)

* Move website index.html into root directory.

------------------------------------------------------------------------
r351 | cpickett | 2006-10-13 02:12:16 -0400 (Fri, 13 Oct 2006) | 2 lines
Changed paths:
   A /trunk/htdocs (from /trunk/website:350)
   D /trunk/website

* Rename website/ to htdocs/

------------------------------------------------------------------------
r350 | cpickett | 2006-10-13 02:02:34 -0400 (Fri, 13 Oct 2006) | 2 lines
Changed paths:
   M /trunk/website/index.html

* Updated website.

------------------------------------------------------------------------
r346 | cpickett | 2006-10-13 00:15:58 -0400 (Fri, 13 Oct 2006) | 2 lines
Changed paths:
   M /trunk/src/check.h.in

* Add FIXME documenting broken fail_if and fail_unless macros.

------------------------------------------------------------------------
r345 | cpickett | 2006-10-13 00:15:28 -0400 (Fri, 13 Oct 2006) | 2 lines
Changed paths:
   M /trunk/README

* Mention dependencies better in README.

------------------------------------------------------------------------
r344 | cpickett | 2006-10-13 00:14:36 -0400 (Fri, 13 Oct 2006) | 2 lines
Changed paths:
   A /trunk/website
   A /trunk/website/doc
   A /trunk/website/index.html

* Create website directory with existing index.html.

------------------------------------------------------------------------
r343 | cpickett | 2006-10-13 00:13:07 -0400 (Fri, 13 Oct 2006) | 2 lines
Changed paths:
   M /trunk/TODO

* Update TODO.

------------------------------------------------------------------------
r342 | cpickett | 2006-10-13 00:12:41 -0400 (Fri, 13 Oct 2006) | 3 lines
Changed paths:
   M /trunk/src/check.h.in

* Indicate that the loop index `i' of a test might be unused
  with __attribute__((unused)). 

------------------------------------------------------------------------
r341 | cpickett | 2006-10-13 00:12:08 -0400 (Fri, 13 Oct 2006) | 2 lines
Changed paths:
   M /trunk/src/check.h.in

* Added tcase_add_loop_test_raise_signal()

------------------------------------------------------------------------
r340 | cpickett | 2006-10-13 00:11:22 -0400 (Fri, 13 Oct 2006) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/TODO

* Update TODO, tiny Makefile.am fixes

------------------------------------------------------------------------
r339 | cpickett | 2006-10-13 00:10:50 -0400 (Fri, 13 Oct 2006) | 2 lines
Changed paths:
   M /trunk/src/check_log.c

* Fixed printing of newlines in output.

------------------------------------------------------------------------
r338 | cpickett | 2006-10-13 00:09:56 -0400 (Fri, 13 Oct 2006) | 2 lines
Changed paths:
   M /trunk/HACKING
   M /trunk/README
   M /trunk/TODO
   M /trunk/configure.ac
   M /trunk/doc/Makefile.am
   D /trunk/doc/tutorial.sgml

* Removed SGML / DocBook tutorial; Texinfo version supersedes it.

------------------------------------------------------------------------
r337 | cpickett | 2006-10-13 00:08:49 -0400 (Fri, 13 Oct 2006) | 3 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/doc/Makefile.am

* Fixed doc building for make distcheck.
* Cleaned up SVNChangeLog generation a little

------------------------------------------------------------------------
r336 | cpickett | 2006-10-13 00:08:19 -0400 (Fri, 13 Oct 2006) | 2 lines
Changed paths:
   M /trunk/doc/Makefile.am
   M /trunk/doc/check.texi

* Cleaner building of diffs for check.texi

------------------------------------------------------------------------
r335 | cpickett | 2006-10-13 00:07:44 -0400 (Fri, 13 Oct 2006) | 2 lines
Changed paths:
   M /trunk/doc/example/tests/Makefile.am

* s/check_money_INCLUDES/check_money_CFLAGS/ in tests/Makefile.am

------------------------------------------------------------------------
r334 | cpickett | 2006-10-13 00:06:57 -0400 (Fri, 13 Oct 2006) | 2 lines
Changed paths:
   M /trunk/TODO

* Update TODO

------------------------------------------------------------------------
r333 | cpickett | 2006-10-13 00:05:59 -0400 (Fri, 13 Oct 2006) | 2 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/Makefile.am
   M /trunk/check.m4
   A /trunk/check.pc.in
   M /trunk/configure.ac

* Added check.pc.in for pkg-config support

------------------------------------------------------------------------
r332 | cpickett | 2006-10-13 00:05:10 -0400 (Fri, 13 Oct 2006) | 3 lines
Changed paths:
   M /trunk/TODO
   M /trunk/tests/check_check_fixture.c
   M /trunk/tests/check_check_fork.c
   M /trunk/tests/check_check_limit.c
   M /trunk/tests/check_check_main.c
   M /trunk/tests/check_check_master.c

* Updated TODO, pulled in check.sourceforge.net TODO
* Made tests run with CK_VERBOSE instead of CK_SILENT

------------------------------------------------------------------------
r331 | cpickett | 2006-10-13 00:03:41 -0400 (Fri, 13 Oct 2006) | 2 lines
Changed paths:
   A /trunk/HACKING
   M /trunk/Makefile.am

* Add SVNChangeLog generation, brief HACKING file

------------------------------------------------------------------------
r330 | cpickett | 2006-10-13 00:00:54 -0400 (Fri, 13 Oct 2006) | 2 lines
Changed paths:
   M /trunk/doc/Makefile.am

* Create money example diffs in tutorial Makefile.am

------------------------------------------------------------------------
r329 | cpickett | 2006-10-13 00:00:11 -0400 (Fri, 13 Oct 2006) | 2 lines
Changed paths:
   M /trunk/doc/check.texi

* Finished converting tutorial to Texinfo!

------------------------------------------------------------------------
r328 | cpickett | 2006-10-12 23:59:30 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/doc/check.texi

* Converted next section of Chapter 4 to Texinfo.

------------------------------------------------------------------------
r327 | cpickett | 2006-10-12 23:59:06 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/doc/example/tests/check_money.c

* Break another line for money_suite()

------------------------------------------------------------------------
r326 | cpickett | 2006-10-12 23:58:41 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/doc/example/tests/check_money.3.c
   M /trunk/doc/example/tests/check_money.6.c
   M /trunk/doc/example/tests/check_money.7.c

* Insert line break between type and name of money_suite()

------------------------------------------------------------------------
r325 | cpickett | 2006-10-12 23:58:04 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/doc/example/tests/check_money.2.c
   M /trunk/doc/example/tests/check_money.3.c
   M /trunk/doc/example/tests/check_money.6.c
   A /trunk/doc/example/tests/check_money.7.c
   M /trunk/doc/example/tests/check_money.c

* Added revision 7 of money example.

------------------------------------------------------------------------
r324 | cpickett | 2006-10-12 23:56:57 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/doc/check.texi

* Converted "No Fork Mode" section of Chapter 4 to Texinfo.

------------------------------------------------------------------------
r323 | cpickett | 2006-10-12 23:56:23 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/doc/check.texi

* Convert first section of tutorial Chapter 4 to Texinfo.

------------------------------------------------------------------------
r322 | cpickett | 2006-10-12 23:55:47 -0400 (Thu, 12 Oct 2006) | 3 lines
Changed paths:
   A /trunk/doc/example/src/money.6.c
   M /trunk/doc/example/src/money.c
   M /trunk/doc/example/tests/check_money.2.c
   M /trunk/doc/example/tests/check_money.3.c
   A /trunk/doc/example/tests/check_money.6.c

* Added revision 6 of money example.
* Fixed some whitespace errors in other revisions.

------------------------------------------------------------------------
r321 | cpickett | 2006-10-12 23:54:47 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/doc/check.texi

* Finally converted all of tutorial chapter 3 to Texinfo.

------------------------------------------------------------------------
r320 | cpickett | 2006-10-12 23:54:20 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   A /trunk/doc/example/src/money.5.c

* Added revision 5 of money example.

------------------------------------------------------------------------
r319 | cpickett | 2006-10-12 23:53:41 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   A /trunk/doc/example/src/money.4.c

* Added revision 4 of money example.

------------------------------------------------------------------------
r318 | cpickett | 2006-10-12 23:52:59 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/doc/check.texi

* Added next section of Chapter 3.

------------------------------------------------------------------------
r317 | cpickett | 2006-10-12 23:52:28 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   A /trunk/doc/example/src/money.3.c
   A /trunk/doc/example/tests/check_money.3.c

* Added revision 3 of money example.

------------------------------------------------------------------------
r316 | cpickett | 2006-10-12 23:51:41 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   A /trunk/doc/example/src/money.2.h
   A /trunk/doc/example/tests/check_money.2.c

* Added revision 2 of money example

------------------------------------------------------------------------
r315 | cpickett | 2006-10-12 23:50:38 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   A /trunk/doc/example/src/money.1.c
   A /trunk/doc/example/src/money.1.h
   A /trunk/doc/example/tests/check_money.1.c

* Added revision 1 of money example

------------------------------------------------------------------------
r314 | cpickett | 2006-10-12 23:49:07 -0400 (Thu, 12 Oct 2006) | 4 lines
Changed paths:
   M /trunk/doc/check.texi

* Converted the next section of chapter 3 to Texinfo.
* And actually, below, chapter 3 wasn't completed.  The previous
  section _in_ chapter 3 was completed.

------------------------------------------------------------------------
r313 | cpickett | 2006-10-12 23:48:36 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/Makefile.am

* include example/ dir in AM_MAKEINFOFLAGS

------------------------------------------------------------------------
r312 | cpickett | 2006-10-12 23:47:54 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/doc/check.texi

* Converted chapter 3 of manual to Texinfo.

------------------------------------------------------------------------
r311 | cpickett | 2006-10-12 23:47:07 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/doc/example/tests/Makefile.am

* small example Makefile.am fixes

------------------------------------------------------------------------
r310 | cpickett | 2006-10-12 23:46:43 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/doc/example/tests/Makefile.am

* add spaces to example Makefile.am

------------------------------------------------------------------------
r309 | cpickett | 2006-10-12 23:46:16 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/THANKS

* Add Robert Lemmen to AUTHORS

------------------------------------------------------------------------
r308 | cpickett | 2006-10-12 23:45:52 -0400 (Thu, 12 Oct 2006) | 3 lines
Changed paths:
   M /trunk/doc/tutorial.sgml

* Applied patch from Robert Lemmen, adding test coverage description
  to the (Docbook) manual.

------------------------------------------------------------------------
r307 | cpickett | 2006-10-12 23:45:09 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/doc/check.texi

* Partway through Chapter 3.

------------------------------------------------------------------------
r306 | cpickett | 2006-10-12 23:44:39 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/doc/check.texi

* Converted chapter 2 of manual to Texinfo.

------------------------------------------------------------------------
r305 | cpickett | 2006-10-12 23:44:12 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/doc/check.texi

* Converted first chapter to Texinfo.

------------------------------------------------------------------------
r304 | cpickett | 2006-10-12 23:43:41 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/doc/check.texi

* Update manual structure a little.

------------------------------------------------------------------------
r303 | cpickett | 2006-10-12 23:43:12 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/doc/Makefile.am
   M /trunk/doc/check.texi
   A /trunk/doc/fdl.texi

* add hooks to Makefile.am, include copy of FDL

------------------------------------------------------------------------
r302 | cpickett | 2006-10-12 23:41:40 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   A /trunk/doc/check.texi (from /trunk/doc/tutorial.texi:301)
   D /trunk/doc/tutorial.texi

* rename tutorial.texi to check.texi

------------------------------------------------------------------------
r301 | cpickett | 2006-10-12 23:41:09 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   A /trunk/doc/tutorial.texi

* create Texinfo boilerplate for Check manual / tutorial

------------------------------------------------------------------------
r300 | cpickett | 2006-10-12 23:40:25 -0400 (Thu, 12 Oct 2006) | 3 lines
Changed paths:
   M /trunk/check.m4

* Applied patch from Loic Minier to fix check.m4.
  From http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=342864

------------------------------------------------------------------------
r299 | cpickett | 2006-10-12 23:39:41 -0400 (Thu, 12 Oct 2006) | 3 lines
Changed paths:
   M /trunk/TODO
   M /trunk/configure.ac
   M /trunk/doc/example/configure.ac
   M /trunk/src/Makefile.am
   M /trunk/tests/Makefile.am

* update check to use libtool, now both static and shared
  libraries are created.

------------------------------------------------------------------------
r298 | cpickett | 2006-10-12 23:38:33 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/doc/Makefile.am

* include money src, tests in doc EXTRA_DIST

------------------------------------------------------------------------
r297 | cpickett | 2006-10-12 23:38:07 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/TODO
   M /trunk/doc/Makefile.am

* fix installation of tutorial and example docs

------------------------------------------------------------------------
r296 | cpickett | 2006-10-12 23:37:39 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/doc/Makefile.am

* include example README in distribution

------------------------------------------------------------------------
r295 | cpickett | 2006-10-12 23:37:00 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   A /trunk/doc/example/README

* add README to money example

------------------------------------------------------------------------
r294 | cpickett | 2006-10-12 23:34:16 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/doc/tutorial.sgml

* add a missing quote to tutorial

------------------------------------------------------------------------
r293 | cpickett | 2006-10-12 23:33:25 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/doc/example/configure.ac
   M /trunk/doc/example/src/Makefile.am
   M /trunk/doc/example/src/money.c
   M /trunk/doc/example/tests/Makefile.am
   M /trunk/doc/example/tests/check_money.c

* fix money example somewhat

------------------------------------------------------------------------
r292 | cpickett | 2006-10-12 23:32:46 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/configure.ac

* change unique file in AC_CONFIG_SRCDIR

------------------------------------------------------------------------
r291 | cpickett | 2006-10-12 23:32:02 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/configure.ac
   M /trunk/doc/Makefile.am

* Use $(datadir) in Makefile.am's

------------------------------------------------------------------------
r290 | cpickett | 2006-10-12 23:31:33 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/doc/Makefile.am

* Adjusted doc Makefile.am to use example, tutorial subdirs better

------------------------------------------------------------------------
r289 | cpickett | 2006-10-12 23:30:47 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/doc/example/Makefile.am
   M /trunk/doc/example/configure.ac
   A /trunk/doc/example/src/Makefile.am
   A /trunk/doc/example/src/main.c
   M /trunk/doc/example/src/money.c
   M /trunk/doc/example/src/money.h
   A /trunk/doc/example/tests/Makefile.am
   M /trunk/doc/example/tests/check_money.c

* Rewrite Makefiles to accomodate new example structure

------------------------------------------------------------------------
r288 | cpickett | 2006-10-12 23:28:43 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   D /trunk/doc/example/check_money.c
   D /trunk/doc/example/money.c
   D /trunk/doc/example/money.h
   A /trunk/doc/example/src
   A /trunk/doc/example/src/money.c (from /trunk/doc/example/money.c:285)
   A /trunk/doc/example/src/money.h (from /trunk/doc/example/money.h:285)
   A /trunk/doc/example/tests
   A /trunk/doc/example/tests/check_money.c (from /trunk/doc/example/check_money.c:285)

* Move money example source into src/ and tests/

------------------------------------------------------------------------
r287 | cpickett | 2006-10-12 23:26:35 -0400 (Thu, 12 Oct 2006) | 3 lines
Changed paths:
   A /trunk/doc/example/Makefile.am (from /trunk/doc/example/Makefile.am.money:285)
   D /trunk/doc/example/Makefile.am.money
   A /trunk/doc/example/configure.ac (from /trunk/doc/example/configure.in.money:285)
   D /trunk/doc/example/configure.in.money

* Renamed Makefile.am.money to Makefile.am
* Renamed configure.in.money to configure.ac

------------------------------------------------------------------------
r286 | cpickett | 2006-10-12 23:24:34 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   D /trunk/doc/example/Makefile.am

* delete old Makefile.am

------------------------------------------------------------------------
r285 | cpickett | 2006-10-12 23:23:36 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   A /trunk/doc/example (from /trunk/doc/money:284)
   D /trunk/doc/money

* Rename money to example

------------------------------------------------------------------------
r284 | cpickett | 2006-10-12 23:19:55 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/TODO
   D /trunk/doc/money/aclocal.m4

* Update TODO, remove generated aclocal.m4 from money example

------------------------------------------------------------------------
r283 | cpickett | 2006-10-12 23:18:54 -0400 (Thu, 12 Oct 2006) | 5 lines
Changed paths:
   D /trunk/INSTALL
   M /trunk/README
   M /trunk/THANKS
   M /trunk/TODO
   M /trunk/configure.ac
   D /trunk/rpm

* Remove installation instructions
* Remove rpm target altogether
* Update README with comments from downstream Fedora Extras
  and Debian maintainers

------------------------------------------------------------------------
r282 | cpickett | 2006-10-12 23:18:04 -0400 (Thu, 12 Oct 2006) | 4 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/tests/Makefile.am

* Removed $(MAKE) compilation of libcheck.a in tests/Makefile.am
* Removed core from CLEANFILES in tests/Makefile.am
* Put tests at the end of top-level SUBDIRS

------------------------------------------------------------------------
r281 | cpickett | 2006-10-12 23:17:18 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   D /trunk/Doxyfile

* delete obsolete Doxyfile

------------------------------------------------------------------------
r280 | cpickett | 2006-10-12 23:16:36 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   A /trunk/TODO

* simple TODO file, just build issues for now

------------------------------------------------------------------------
r279 | cpickett | 2006-10-12 23:15:57 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/configure.ac
   M /trunk/doc/Makefile.am
   M /trunk/doc/money/Makefile.am

* various fixes to doc building and installation

------------------------------------------------------------------------
r278 | cpickett | 2006-10-12 23:15:21 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/configure.ac

* Remove debian from top-level Makefile.am and configure.ac

------------------------------------------------------------------------
r277 | cpickett | 2006-10-12 23:14:20 -0400 (Thu, 12 Oct 2006) | 3 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/NEWS
   M /trunk/configure.ac
   M /trunk/doc/Makefile.am
   M /trunk/doc/money/Makefile.am

* Got rid of --enable-plain-docdir : just let packagers take care
  of this if they want to.

------------------------------------------------------------------------
r276 | cpickett | 2006-10-12 23:13:37 -0400 (Thu, 12 Oct 2006) | 3 lines
Changed paths:
   D /trunk/debian

* Delete debian/ per Debian maintainer's suggestion
  -- it's better not for upstream to manage packaging for distributions

------------------------------------------------------------------------
r275 | cpickett | 2006-10-12 23:12:50 -0400 (Thu, 12 Oct 2006) | 8 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/configure.ac
   M /trunk/doc/Makefile.am
   M /trunk/src/Makefile.am
   M /trunk/tests/Makefile.am

* Replaced .. usage in Makefile.am's with $(top_builddir) or 
  $(top_srcdir) where appropriate
  -- make distcheck now works, make distcleancheck and
     make distuninstallcheck do not
* Added core to CLEANFILES in tests/Makefile.am
* Bumped version to 0.9.4, added notice to top of NEWS 
  -- should bump version in CVS right after release

------------------------------------------------------------------------
r274 | cpickett | 2006-10-12 23:11:12 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/debian/Makefile.am
   M /trunk/doc/Makefile.am
   M /trunk/doc/money/Makefile.am
   M /trunk/doc/money/Makefile.am.money
   M /trunk/rpm/Makefile.am
   M /trunk/src/Makefile.am
   M /trunk/tests/Makefile.am

* Comments in Makefile.am's

------------------------------------------------------------------------
r273 | cpickett | 2006-10-12 23:10:08 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/AUTHORS
   M /trunk/NEWS

* Add change notice to AUTHORS, NEWS

------------------------------------------------------------------------
r272 | cpickett | 2006-10-12 23:09:21 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/README

* Updated README to mention docbook2html

------------------------------------------------------------------------
r271 | cpickett | 2006-10-12 23:08:27 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/Makefile.am

* Remove autogen.sh from EXTRA_DIST

------------------------------------------------------------------------
r270 | cpickett | 2006-10-12 23:07:50 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/Makefile.am

* Change COPYING to COPYING.LESSER in Makefile.am

------------------------------------------------------------------------
r269 | cpickett | 2006-10-12 23:06:36 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/configure.ac

* remove accidental junk line from configure.ac

------------------------------------------------------------------------
r268 | cpickett | 2006-10-12 23:05:55 -0400 (Thu, 12 Oct 2006) | 3 lines
Changed paths:
   D /trunk/acinclude.m4
   D /trunk/stamp-h.in

* Removed acinclude.m4 because it was empty
* Removed stamp-h.in because it is automatically generated

------------------------------------------------------------------------
r267 | cpickett | 2006-10-12 23:05:06 -0400 (Thu, 12 Oct 2006) | 6 lines
Changed paths:
   D /trunk/COPYING
   A /trunk/COPYING.LESSER

* Removed COPYING, replaced with COPYING.LESSER
  The LGPL-2.1 in COPYING had some problems:
    -- out of date, FSF address has changed
    -- formatting (linebreaks and such) has changed or is unofficial
    -- COPYING is actually for GPL, so use COPYING.LESSER instead

------------------------------------------------------------------------
r266 | cpickett | 2006-10-12 23:02:53 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   M /trunk/tests/Makefile.am

* change INCLUDES to AM_CPPFLAGS to stop Automake from complaining

------------------------------------------------------------------------
r265 | cpickett | 2006-10-12 23:01:50 -0400 (Thu, 12 Oct 2006) | 3 lines
Changed paths:
   M /trunk/AUTHORS
   A /trunk/THANKS

* moved design suggestions out of AUTHORS and into THANKS
  -- AUTHORS is for people with copyright over some piece of Check

------------------------------------------------------------------------
r264 | cpickett | 2006-10-12 22:58:52 -0400 (Thu, 12 Oct 2006) | 4 lines
Changed paths:
   M /trunk/configure.ac

* Updated configure.ac to use 2.59 macro syntax
* Ran autoscan, merged generated configure.scan with configure.ac
  -- this resolves autoscan warnings

------------------------------------------------------------------------
r263 | cpickett | 2006-10-12 22:57:19 -0400 (Thu, 12 Oct 2006) | 17 lines
Changed paths:
   M /trunk/README
   D /trunk/autogen.sh
   D /trunk/config.h.in

* Removed config.h.in -- generated automatically by autoheader

* Removed autogen.sh.  Unnecessary features inside included:
    1) checking version of autoconf, automake (twice each)
    2) checking for being in the top-level project dir
    3) running configure automatically
    4) specifying --include-deps to automake (obsolete)
    5) some autoheader line I don't understand:
       (autoheader --version)  < /dev/null > /dev/null 2>&1 && autoheader
    6) calling configure --enable-maintainer-mode, which is no
       longer recognized by configure

* Updated README to specify latest autoconf and automake,
  and usage of autoreconf --install instead of ./autogen.sh

* Note: this build is still broken

------------------------------------------------------------------------
r262 | cpickett | 2006-10-12 22:09:26 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   A /trunk/configure.ac (from /trunk/configure.in:261)
   D /trunk/configure.in

* svn mv configure.in configure.ac

------------------------------------------------------------------------
r261 | cpickett | 2006-10-12 20:29:39 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   D /trunk/check

* Remove old trunk/check directory.

------------------------------------------------------------------------
r260 | cpickett | 2006-10-12 20:24:56 -0400 (Thu, 12 Oct 2006) | 2 lines
Changed paths:
   A /trunk/.cvsignore (from /trunk/check/.cvsignore:259)
   A /trunk/AUTHORS (from /trunk/check/AUTHORS:259)
   A /trunk/COPYING (from /trunk/check/COPYING:259)
   A /trunk/ChangeLog (from /trunk/check/ChangeLog:259)
   A /trunk/ChangeLogOld (from /trunk/check/ChangeLogOld:259)
   A /trunk/Doxyfile (from /trunk/check/Doxyfile:259)
   A /trunk/INSTALL (from /trunk/check/INSTALL:259)
   A /trunk/Makefile.am (from /trunk/check/Makefile.am:259)
   A /trunk/NEWS (from /trunk/check/NEWS:259)
   A /trunk/README (from /trunk/check/README:259)
   A /trunk/acinclude.m4 (from /trunk/check/acinclude.m4:259)
   A /trunk/autogen.sh (from /trunk/check/autogen.sh:259)
   D /trunk/check/.cvsignore
   D /trunk/check/AUTHORS
   D /trunk/check/COPYING
   D /trunk/check/ChangeLog
   D /trunk/check/ChangeLogOld
   D /trunk/check/Doxyfile
   D /trunk/check/INSTALL
   D /trunk/check/Makefile.am
   D /trunk/check/NEWS
   D /trunk/check/README
   D /trunk/check/acinclude.m4
   D /trunk/check/autogen.sh
   D /trunk/check/check.m4
   D /trunk/check/config.h.in
   D /trunk/check/configure.in
   D /trunk/check/debian
   D /trunk/check/doc
   D /trunk/check/rpm
   D /trunk/check/src
   D /trunk/check/stamp-h.in
   D /trunk/check/tests
   A /trunk/check.m4 (from /trunk/check/check.m4:259)
   A /trunk/config.h.in (from /trunk/check/config.h.in:259)
   A /trunk/configure.in (from /trunk/check/configure.in:259)
   A /trunk/debian (from /trunk/check/debian:259)
   A /trunk/doc (from /trunk/check/doc:259)
   A /trunk/rpm (from /trunk/check/rpm:259)
   A /trunk/src (from /trunk/check/src:259)
   A /trunk/stamp-h.in (from /trunk/check/stamp-h.in:259)
   A /trunk/tests (from /trunk/check/tests:259)

* Move trunk/check/* to trunk/.

------------------------------------------------------------------------
r259 | hugo303 | 2005-12-16 10:19:16 -0500 (Fri, 16 Dec 2005) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Fixed eprintf arguments

------------------------------------------------------------------------
r258 | hugo303 | 2005-12-16 10:07:01 -0500 (Fri, 16 Dec 2005) | 2 lines
Changed paths:
   M /trunk/check/src/check_pack.c

Fixed eprintf string

------------------------------------------------------------------------
r257 | hugo303 | 2005-10-31 07:35:18 -0500 (Mon, 31 Oct 2005) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog
   M /trunk/check/NEWS

Fixed sourceforge bug #1327225, Two teardown checked fixtures segfaults

------------------------------------------------------------------------
r256 | hugo303 | 2005-10-31 07:29:12 -0500 (Mon, 31 Oct 2005) | 2 lines
Changed paths:
   M /trunk/check/tests/check_check_fixture.c

Added tests for several setup and teardown functions.

------------------------------------------------------------------------
r255 | hugo303 | 2005-10-31 07:25:59 -0500 (Mon, 31 Oct 2005) | 2 lines
Changed paths:
   M /trunk/check/tests/check_list.c

Added tests for list_add_front.

------------------------------------------------------------------------
r254 | hugo303 | 2005-10-31 07:25:12 -0500 (Mon, 31 Oct 2005) | 2 lines
Changed paths:
   M /trunk/check/src/check_list.c

Fixed memove bug in list_add_front. Pointer arithmetics bites again.

------------------------------------------------------------------------
r253 | hugo303 | 2005-09-30 08:19:44 -0400 (Fri, 30 Sep 2005) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog
   M /trunk/check/doc/tutorial.sgml

Updated documentation with a section about looping tests

------------------------------------------------------------------------
r252 | hugo303 | 2005-09-30 07:43:03 -0400 (Fri, 30 Sep 2005) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog
   M /trunk/check/NEWS
   M /trunk/check/src/check.c
   M /trunk/check/src/check.h.in
   M /trunk/check/src/check_impl.h
   M /trunk/check/src/check_print.c
   M /trunk/check/src/check_run.c
   M /trunk/check/src/check_str.c
   M /trunk/check/tests/Makefile.am
   M /trunk/check/tests/check_check_fixture.c
   M /trunk/check/tests/check_check_master.c
   M /trunk/check/tests/ex_xml_output.c
   M /trunk/check/tests/test_log_output.sh
   M /trunk/check/tests/test_output.sh
   M /trunk/check/tests/test_xml_output.sh

Looping tests added

------------------------------------------------------------------------
r251 | hugo303 | 2005-09-21 10:42:10 -0400 (Wed, 21 Sep 2005) | 2 lines
Changed paths:
   M /trunk/check/tests/check_check_sub.c

Fixed line number error introduced when adding configure option --enable-timeout-tests=no

------------------------------------------------------------------------
r250 | hugo303 | 2005-09-15 09:04:17 -0400 (Thu, 15 Sep 2005) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog
   M /trunk/check/configure.in
   M /trunk/check/tests/Makefile.am
   M /trunk/check/tests/check_check.h
   M /trunk/check/tests/check_check_master.c
   M /trunk/check/tests/check_check_sub.c

Added possibility to turn off timeout tests through configure option --enable-timeout-tests=no

------------------------------------------------------------------------
r249 | hugo303 | 2005-09-15 05:55:21 -0400 (Thu, 15 Sep 2005) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Coverage improvements

------------------------------------------------------------------------
r248 | hugo303 | 2005-09-15 05:52:26 -0400 (Thu, 15 Sep 2005) | 2 lines
Changed paths:
   M /trunk/check/src/Makefile.am

Improved coverage analysis by running all tests before compiling result. Added gcc3.3 coverage bug workaround.

------------------------------------------------------------------------
r247 | hugo303 | 2005-09-15 05:49:11 -0400 (Thu, 15 Sep 2005) | 2 lines
Changed paths:
   M /trunk/check/tests/check_check_master.c
   M /trunk/check/tests/check_check_sub.c

Added testing of timeout set through environment variable

------------------------------------------------------------------------
r246 | hugo303 | 2005-09-14 10:24:14 -0400 (Wed, 14 Sep 2005) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Added gcov/lcov support

------------------------------------------------------------------------
r245 | hugo303 | 2005-09-07 11:10:17 -0400 (Wed, 07 Sep 2005) | 2 lines
Changed paths:
   M /trunk/check/configure.in
   M /trunk/check/src/Makefile.am
   M /trunk/check/tests/Makefile.am

Added gcov/lcov support

------------------------------------------------------------------------
r244 | hugo303 | 2005-09-07 10:35:18 -0400 (Wed, 07 Sep 2005) | 2 lines
Changed paths:
   M /trunk/check/tests/Makefile.am

Clean emacs temp files

------------------------------------------------------------------------
r243 | hugo303 | 2005-09-07 10:24:57 -0400 (Wed, 07 Sep 2005) | 2 lines
Changed paths:
   M /trunk/check/tests/check_list.c

Added a test to get 100% coverage

------------------------------------------------------------------------
r241 | hugo303 | 2005-08-30 05:12:23 -0400 (Tue, 30 Aug 2005) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Post 0.9.3 fixes

------------------------------------------------------------------------
r240 | hugo303 | 2005-08-30 05:05:22 -0400 (Tue, 30 Aug 2005) | 2 lines
Changed paths:
   A /trunk/check/debian/README.Debian
   A /trunk/check/debian/compat
   M /trunk/check/debian/copyright
   A /trunk/check/debian/docs
   A /trunk/check/debian/example_makefile
   A /trunk/check/debian/examples
   A /trunk/check/debian/watch

Added new debian files, missed in the checkin of the debian patch

------------------------------------------------------------------------
r239 | hugo303 | 2005-08-30 04:40:11 -0400 (Tue, 30 Aug 2005) | 2 lines
Changed paths:
   M /trunk/check/NEWS

Added missed NEWS update for 0.9.3

------------------------------------------------------------------------
r237 | hugo303 | 2005-08-23 09:28:00 -0400 (Tue, 23 Aug 2005) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Added debian fixes

------------------------------------------------------------------------
r236 | hugo303 | 2005-08-22 09:46:48 -0400 (Mon, 22 Aug 2005) | 2 lines
Changed paths:
   M /trunk/check/debian/changelog
   M /trunk/check/debian/check.doc-base.tut
   M /trunk/check/debian/check.docs
   M /trunk/check/debian/check.postinst.debhelper
   M /trunk/check/debian/check.prerm.debhelper
   M /trunk/check/debian/control
   M /trunk/check/debian/copyright
   M /trunk/check/debian/dirs
   M /trunk/check/debian/rules

Applied patch for debian files received from check debian maintainer Robert Lemmen

------------------------------------------------------------------------
r235 | hugo303 | 2005-08-22 09:42:53 -0400 (Mon, 22 Aug 2005) | 2 lines
Changed paths:
   M /trunk/check/src/check.h.in

Added include of stddef.h for NULL definition

------------------------------------------------------------------------
r234 | hugo303 | 2005-08-22 09:36:43 -0400 (Mon, 22 Aug 2005) | 2 lines
Changed paths:
   M /trunk/check/doc/tutorial.sgml

Fixed sourceforge bug #1216502

------------------------------------------------------------------------
r233 | hugo303 | 2005-07-19 09:53:37 -0400 (Tue, 19 Jul 2005) | 2 lines
Changed paths:
   M /trunk/check/configure.in

Updated for 0.9.3 release

------------------------------------------------------------------------
r232 | hugo303 | 2005-07-19 09:02:43 -0400 (Tue, 19 Jul 2005) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Refactored messaging

------------------------------------------------------------------------
r231 | hugo303 | 2005-07-19 08:54:45 -0400 (Tue, 19 Jul 2005) | 2 lines
Changed paths:
   M /trunk/check/src/check.c
   M /trunk/check/src/check.h.in
   M /trunk/check/src/check_msg.c
   M /trunk/check/src/check_msg.h
   M /trunk/check/src/check_run.c
   M /trunk/check/tests/check_check_master.c
   M /trunk/check/tests/check_check_msg.c
   M /trunk/check/tests/check_check_sub.c

Refactored messaging to use the new tmpfile() method all the way, removing the message keys, pipes, pipe entries and pipe list. This makes the messaging work with forking tests, and also with threading tests on linux 2.4 (on 2.6 it already worked). Added check_fork and check_waitpid_and_exit to be used for forking tests.

------------------------------------------------------------------------
r230 | hugo303 | 2005-07-18 07:05:00 -0400 (Mon, 18 Jul 2005) | 2 lines
Changed paths:
   M /trunk/check/tests/check_check_main.c

Use correct variable for number of tests

------------------------------------------------------------------------
r229 | hugo303 | 2005-05-26 16:12:31 -0400 (Thu, 26 May 2005) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog
   M /trunk/check/debian/Makefile.am

Removed 'files' file from DIST

------------------------------------------------------------------------
r228 | hugo303 | 2005-03-29 09:30:06 -0500 (Tue, 29 Mar 2005) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog
   M /trunk/check/src/check.h.in

Fixed gcc 2.95.3 compatibility for VA_ARGS in fail_if

------------------------------------------------------------------------
r227 | hugo303 | 2005-03-29 09:25:56 -0500 (Tue, 29 Mar 2005) | 2 lines
Changed paths:
   M /trunk/check/src/check_run.c

Removed warning introduced by 2005-03-01 test timeout fix

------------------------------------------------------------------------
r226 | hugo303 | 2005-03-02 08:07:07 -0500 (Wed, 02 Mar 2005) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog
   M /trunk/check/src/check.h.in

Added define for NULL if needed

------------------------------------------------------------------------
r225 | hugo303 | 2005-03-01 04:46:47 -0500 (Tue, 01 Mar 2005) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog
   M /trunk/check/src/check_run.c

Changed timeout error message

------------------------------------------------------------------------
r224 | hugo303 | 2005-03-01 04:41:31 -0500 (Tue, 01 Mar 2005) | 2 lines
Changed paths:
   M /trunk/check/tests/check_check_master.c

Updated tests for timeout message change

------------------------------------------------------------------------
r223 | hugo303 | 2005-02-28 09:46:46 -0500 (Mon, 28 Feb 2005) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog
   D /trunk/check/debian/files

Removed auto generated debian file

------------------------------------------------------------------------
r222 | hugo303 | 2005-02-28 09:06:23 -0500 (Mon, 28 Feb 2005) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog
   M /trunk/check/rpm/check.spec.in

Added patch for x86_64 arch (fc3)

------------------------------------------------------------------------
r221 | hugo303 | 2005-02-28 08:42:53 -0500 (Mon, 28 Feb 2005) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Fixed mem leaks

------------------------------------------------------------------------
r220 | hugo303 | 2005-02-28 08:35:19 -0500 (Mon, 28 Feb 2005) | 2 lines
Changed paths:
   M /trunk/check/tests/ex_output.c

Added free of srunner

------------------------------------------------------------------------
r219 | hugo303 | 2005-02-28 08:28:06 -0500 (Mon, 28 Feb 2005) | 2 lines
Changed paths:
   M /trunk/check/src/check_log.c

Fixed memory leaks in xml log

------------------------------------------------------------------------
r218 | hugo303 | 2005-02-28 08:26:59 -0500 (Mon, 28 Feb 2005) | 2 lines
Changed paths:
   M /trunk/check/tests/ex_log_output.c
   M /trunk/check/tests/ex_xml_output.c

Added free of srunner

------------------------------------------------------------------------
r216 | hugo303 | 2005-01-04 04:42:35 -0500 (Tue, 04 Jan 2005) | 2 lines
Changed paths:
   M /trunk/check/debian/files

Fixed for 0.9.2

------------------------------------------------------------------------
r215 | hugo303 | 2005-01-04 03:57:00 -0500 (Tue, 04 Jan 2005) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Updated with latest changes

------------------------------------------------------------------------
r214 | hugo303 | 2005-01-04 03:56:03 -0500 (Tue, 04 Jan 2005) | 2 lines
Changed paths:
   M /trunk/check/check.m4
   M /trunk/check/config.h.in
   M /trunk/check/configure.in
   M /trunk/check/src/check_pack.c

Fixed quoting and added configure test for stdint.h.

------------------------------------------------------------------------
r213 | hugo303 | 2005-01-04 03:47:04 -0500 (Tue, 04 Jan 2005) | 2 lines
Changed paths:
   M /trunk/check/tests/check_check_master.c

Made fail strings more helpful

------------------------------------------------------------------------
r212 | hugo303 | 2004-11-12 06:00:49 -0500 (Fri, 12 Nov 2004) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Debian fixes

------------------------------------------------------------------------
r211 | hugo303 | 2004-11-12 05:56:36 -0500 (Fri, 12 Nov 2004) | 2 lines
Changed paths:
   M /trunk/check/debian/changelog
   M /trunk/check/debian/check.dirs
   M /trunk/check/debian/control
   M /trunk/check/debian/rules

Fixed building with gcc3. Removed empty money dir from docs

------------------------------------------------------------------------
r210 | hugo303 | 2004-11-11 06:19:24 -0500 (Thu, 11 Nov 2004) | 2 lines
Changed paths:
   M /trunk/check/debian/control
   M /trunk/check/rpm/check.spec.in

Fixed mail address

------------------------------------------------------------------------
r209 | hugo303 | 2004-11-10 07:49:49 -0500 (Wed, 10 Nov 2004) | 2 lines
Changed paths:
   M /trunk/check/rpm/Makefile.am

Added autogenerated check.spec to CLEANFILES

------------------------------------------------------------------------
r208 | hugo303 | 2004-11-10 07:26:29 -0500 (Wed, 10 Nov 2004) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog
   M /trunk/check/NEWS

Preparations for 0.9.2 release

------------------------------------------------------------------------
r207 | hugo303 | 2004-11-10 07:16:57 -0500 (Wed, 10 Nov 2004) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Use strsignal to print describing text for signals.

------------------------------------------------------------------------
r206 | hugo303 | 2004-11-10 07:12:35 -0500 (Wed, 10 Nov 2004) | 2 lines
Changed paths:
   M /trunk/check/Makefile.am

Added debian target

------------------------------------------------------------------------
r205 | hugo303 | 2004-11-10 07:06:38 -0500 (Wed, 10 Nov 2004) | 2 lines
Changed paths:
   M /trunk/check/rpm/Makefile.am

Added variable for RPM release number

------------------------------------------------------------------------
r204 | hugo303 | 2004-11-10 06:55:20 -0500 (Wed, 10 Nov 2004) | 2 lines
Changed paths:
   M /trunk/check/configure.in
   M /trunk/check/debian/changelog
   M /trunk/check/rpm/check.spec.in

Updated for 0.9.2 release

------------------------------------------------------------------------
r203 | hugo303 | 2004-11-10 06:03:41 -0500 (Wed, 10 Nov 2004) | 2 lines
Changed paths:
   M /trunk/check/debian/control

Changed maintainer

------------------------------------------------------------------------
r202 | hugo303 | 2004-11-10 05:56:31 -0500 (Wed, 10 Nov 2004) | 2 lines
Changed paths:
   M /trunk/check/AUTHORS

Added more names

------------------------------------------------------------------------
r201 | hugo303 | 2004-11-09 10:42:26 -0500 (Tue, 09 Nov 2004) | 2 lines
Changed paths:
   M /trunk/check/src/check_run.c
   M /trunk/check/tests/check_check_master.c

Use strsignal to print describing text for signals.

------------------------------------------------------------------------
r200 | hugo303 | 2004-11-09 10:29:55 -0500 (Tue, 09 Nov 2004) | 2 lines
Changed paths:
   M /trunk/check/src/check_list.c

Fixed warning

------------------------------------------------------------------------
r199 | hugo303 | 2004-11-09 09:51:15 -0500 (Tue, 09 Nov 2004) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog
   M /trunk/check/doc/tutorial.sgml

Documented signals handling and timeouts

------------------------------------------------------------------------
r198 | hugo303 | 2004-11-09 08:38:47 -0500 (Tue, 09 Nov 2004) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog
   M /trunk/check/src/check.h.in
   M /trunk/check/tests/check_check_master.c

Changed failure message for fail_if

------------------------------------------------------------------------
r197 | hugo303 | 2004-11-09 07:49:41 -0500 (Tue, 09 Nov 2004) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog
   M /trunk/check/src/check.c
   M /trunk/check/src/check.h.in
   M /trunk/check/src/check_impl.h
   M /trunk/check/src/check_run.c
   M /trunk/check/tests/check_check_master.c
   M /trunk/check/tests/check_check_sub.c

Added support for timeouts on tests, enabling detection of eternal loops as errors.

------------------------------------------------------------------------
r196 | hugo303 | 2004-11-08 09:40:05 -0500 (Mon, 08 Nov 2004) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog
   M /trunk/check/src/check.c
   M /trunk/check/src/check.h.in
   M /trunk/check/src/check_impl.h
   M /trunk/check/src/check_run.c

Added support for testing on expected signals.

------------------------------------------------------------------------
r195 | hugo303 | 2004-11-08 09:31:49 -0500 (Mon, 08 Nov 2004) | 2 lines
Changed paths:
   M /trunk/check/tests/check_check_master.c

Added tests for signals patch and cleaned up the verification functions

------------------------------------------------------------------------
r194 | hugo303 | 2004-11-08 09:31:01 -0500 (Mon, 08 Nov 2004) | 2 lines
Changed paths:
   M /trunk/check/tests/check_check_sub.c

Added tests for signals patch

------------------------------------------------------------------------
r193 | hugo303 | 2004-11-04 08:51:03 -0500 (Thu, 04 Nov 2004) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog
   M /trunk/check/src/check.c
   M /trunk/check/src/check_list.c
   M /trunk/check/src/check_list.h
   M /trunk/check/src/check_log.c
   M /trunk/check/src/check_msg.c
   M /trunk/check/tests/check_list.c

Changed name on function list_create to check_list_create to avoid name clash

------------------------------------------------------------------------
r192 | hugo303 | 2004-11-04 08:03:42 -0500 (Thu, 04 Nov 2004) | 2 lines
Changed paths:
   M /trunk/check/doc/tutorial.sgml

Fixed stale link to gnu autounit

------------------------------------------------------------------------
r191 | hugo303 | 2004-11-04 07:52:10 -0500 (Thu, 04 Nov 2004) | 2 lines
Changed paths:
   M /trunk/check/check.m4

Fixed underquoted definition of AM_PATH_CHECK

------------------------------------------------------------------------
r190 | hugo303 | 2004-11-04 07:42:51 -0500 (Thu, 04 Nov 2004) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog
   M /trunk/check/src/check.c
   M /trunk/check/src/check.h.in
   M /trunk/check/tests/check_check_master.c
   M /trunk/check/tests/check_check_sub.c

Applied ANSI C99 patch (#1047014)

------------------------------------------------------------------------
r188 | hugo303 | 2004-09-03 07:50:51 -0400 (Fri, 03 Sep 2004) | 2 lines
Changed paths:
   M /trunk/check/NEWS
   M /trunk/check/configure.in

Updated for 0.9.1 release

------------------------------------------------------------------------
r187 | hugo303 | 2004-08-20 07:21:39 -0400 (Fri, 20 Aug 2004) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog
   M /trunk/check/doc/tutorial.sgml

Updated documentation with new features

------------------------------------------------------------------------
r186 | hugo303 | 2004-08-18 08:52:09 -0400 (Wed, 18 Aug 2004) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog
   M /trunk/check/src/check_print.c
   M /trunk/check/tests/test_xml_output.sh

Fixed distcheck problem

------------------------------------------------------------------------
r185 | hugo303 | 2004-08-18 08:08:09 -0400 (Wed, 18 Aug 2004) | 2 lines
Changed paths:
   M /trunk/check/tests/Makefile.am

Added test_xml_output.sh to EXTRA_DIST

------------------------------------------------------------------------
r184 | hugo303 | 2004-08-18 08:02:02 -0400 (Wed, 18 Aug 2004) | 2 lines
Changed paths:
   M /trunk/check/src/check.c
   M /trunk/check/src/check.h.in
   M /trunk/check/src/check_impl.h
   M /trunk/check/src/check_log.c
   M /trunk/check/src/check_log.h
   M /trunk/check/src/check_print.c
   M /trunk/check/src/check_print.h
   M /trunk/check/src/check_run.c
   M /trunk/check/tests/Makefile.am
   M /trunk/check/tests/check_check_log.c
   A /trunk/check/tests/ex_xml_output.c
   A /trunk/check/tests/test_xml_output.sh

Added support for XML output of the test results.

------------------------------------------------------------------------
r183 | hugo303 | 2004-08-18 05:23:02 -0400 (Wed, 18 Aug 2004) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog
   M /trunk/check/tests/check_check_fixture.c

Fixed setup bug from forum, failure in setup did not abort test in nofork mode. Added test cases for bug.

------------------------------------------------------------------------
r182 | hugo303 | 2004-08-18 05:19:37 -0400 (Wed, 18 Aug 2004) | 2 lines
Changed paths:
   M /trunk/check/src/check_run.c

Fixed setup bug from forum, failure in setup did not abort test in nofork mode.

------------------------------------------------------------------------
r181 | hugo303 | 2004-08-17 10:39:30 -0400 (Tue, 17 Aug 2004) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog
   M /trunk/check/src/check_pack.c

Use stdint.h for specific sized type

------------------------------------------------------------------------
r180 | hugo303 | 2004-08-17 05:50:36 -0400 (Tue, 17 Aug 2004) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog
   M /trunk/check/src/check.c
   M /trunk/check/src/check.h.in
   M /trunk/check/tests/check_check_master.c
   M /trunk/check/tests/check_check_sub.c

Applied varargs patch (#933411) and added test cases.

------------------------------------------------------------------------
r179 | hugo303 | 2004-08-17 04:39:12 -0400 (Tue, 17 Aug 2004) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog
   M /trunk/check/src/check.h.in
   M /trunk/check/tests/check_check_master.c
   M /trunk/check/tests/check_check_sub.c

Applied fail_if (#709167) patch

------------------------------------------------------------------------
r178 | hugo303 | 2004-08-16 10:40:35 -0400 (Mon, 16 Aug 2004) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Updated with latest changes

------------------------------------------------------------------------
r177 | hugo303 | 2004-08-16 10:11:31 -0400 (Mon, 16 Aug 2004) | 2 lines
Changed paths:
   M /trunk/check/rpm/check.spec.in

Applied doc patch from Bill Barnard

------------------------------------------------------------------------
r176 | hugo303 | 2004-08-16 10:01:27 -0400 (Mon, 16 Aug 2004) | 2 lines
Changed paths:
   M /trunk/check/doc/tutorial.sgml

Applied 'newbies' patch for autoconf doc.

------------------------------------------------------------------------
r175 | hugo303 | 2004-06-04 10:52:40 -0400 (Fri, 04 Jun 2004) | 2 lines
Changed paths:
   M /trunk/check/tests/test_log_output.sh
   M /trunk/check/tests/test_output.sh

Fixed portability problem by changing == to =.

------------------------------------------------------------------------
r174 | hugo303 | 2004-05-26 05:55:37 -0400 (Wed, 26 May 2004) | 2 lines
Changed paths:
   M /trunk/check/rpm/check.spec.in

Changed copyright

------------------------------------------------------------------------
r173 | hugo303 | 2004-05-25 03:46:03 -0400 (Tue, 25 May 2004) | 2 lines
Changed paths:
   M /trunk/check/src/check_run.c

Applied patch 796705. Replacing _exit with exit

------------------------------------------------------------------------
r172 | hugo303 | 2004-05-25 03:38:36 -0400 (Tue, 25 May 2004) | 2 lines
Changed paths:
   M /trunk/check/src/check.c
   M /trunk/check/tests/check_check_master.c
   M /trunk/check/tests/check_check_sub.c

Applied patch for bug 793671

------------------------------------------------------------------------
r170 | hugo303 | 2004-05-25 03:05:15 -0400 (Tue, 25 May 2004) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog
   M /trunk/check/NEWS
   M /trunk/check/configure.in

Released 0.9.0

------------------------------------------------------------------------
r169 | hugo303 | 2004-05-17 04:46:53 -0400 (Mon, 17 May 2004) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog
   M /trunk/check/NEWS

Released 0.8.5

------------------------------------------------------------------------
r168 | hugo303 | 2004-05-17 04:42:08 -0400 (Mon, 17 May 2004) | 2 lines
Changed paths:
   M /trunk/check/AUTHORS

Updated with new maintainer

------------------------------------------------------------------------
r167 | hugo303 | 2004-05-17 03:30:56 -0400 (Mon, 17 May 2004) | 2 lines
Changed paths:
   M /trunk/check/src/check.c
   M /trunk/check/src/check_list.c
   M /trunk/check/src/check_list.h

Run fixture teardowns in reverse order to setup

------------------------------------------------------------------------
r166 | hugo303 | 2004-05-14 11:26:45 -0400 (Fri, 14 May 2004) | 2 lines
Changed paths:
   M /trunk/check/doc/tutorial.sgml

Updated doc to show test name when printing

------------------------------------------------------------------------
r165 | hugo303 | 2004-05-14 10:41:20 -0400 (Fri, 14 May 2004) | 2 lines
Changed paths:
   M /trunk/check/configure.in

Replaced lyx stuff with docbook. Bumped minor version. Removed autoconf warnings

------------------------------------------------------------------------
r164 | hugo303 | 2004-05-14 10:39:37 -0400 (Fri, 14 May 2004) | 2 lines
Changed paths:
   M /trunk/check/acinclude.m4

Removed lyx stuff

------------------------------------------------------------------------
r163 | hugo303 | 2004-05-14 10:35:18 -0400 (Fri, 14 May 2004) | 2 lines
Changed paths:
   M /trunk/check/doc/Makefile.am
   D /trunk/check/doc/index.html
   D /trunk/check/doc/tutorial.lyx
   A /trunk/check/doc/tutorial.sgml

Updated documentation according to changes. Changed to docbook format

------------------------------------------------------------------------
r162 | hugo303 | 2004-05-14 10:33:35 -0400 (Fri, 14 May 2004) | 2 lines
Changed paths:
   M /trunk/check/doc/money/check_money.c

Removed suite_free()

------------------------------------------------------------------------
r161 | hugo303 | 2004-05-14 10:09:46 -0400 (Fri, 14 May 2004) | 2 lines
Changed paths:
   M /trunk/check/tests/check_check_fixture.c
   M /trunk/check/tests/check_check_fork.c
   M /trunk/check/tests/check_check_log.c
   M /trunk/check/tests/check_check_master.c
   M /trunk/check/tests/check_check_msg.c
   M /trunk/check/tests/check_check_sub.c
   M /trunk/check/tests/check_stress.c
   M /trunk/check/tests/ex_log_output.c
   M /trunk/check/tests/ex_output.c
   M /trunk/check/tests/test_log_output.sh
   M /trunk/check/tests/test_output.sh

Updated according to implementation changes. Applied distcheck patch (802160).

------------------------------------------------------------------------
r160 | hugo303 | 2004-05-14 09:54:49 -0400 (Fri, 14 May 2004) | 2 lines
Changed paths:
   M /trunk/check/src/check_run.c
   M /trunk/check/src/check_str.c

Added name of test to result.

------------------------------------------------------------------------
r159 | hugo303 | 2004-05-14 09:53:02 -0400 (Fri, 14 May 2004) | 2 lines
Changed paths:
   M /trunk/check/src/check_msg.c

Fixed message for nofork failures.

------------------------------------------------------------------------
r158 | hugo303 | 2004-05-14 08:11:16 -0400 (Fri, 14 May 2004) | 2 lines
Changed paths:
   M /trunk/check/src/check_pack.c
   M /trunk/check/src/check_pack.h

Fixed message for nofork failures.

------------------------------------------------------------------------
r157 | hugo303 | 2004-05-14 08:08:11 -0400 (Fri, 14 May 2004) | 2 lines
Changed paths:
   M /trunk/check/src/check_log.c
   M /trunk/check/src/check_print.c
   M /trunk/check/src/check_print.h

Added new print mode that reads the mode from environment variable.

------------------------------------------------------------------------
r156 | hugo303 | 2004-05-14 08:05:49 -0400 (Fri, 14 May 2004) | 2 lines
Changed paths:
   M /trunk/check/src/check_list.c

Fixed bug in NULL check

------------------------------------------------------------------------
r155 | hugo303 | 2004-05-14 08:04:31 -0400 (Fri, 14 May 2004) | 2 lines
Changed paths:
   M /trunk/check/src/check_impl.h

Added name of test to result.

------------------------------------------------------------------------
r154 | hugo303 | 2004-05-14 08:02:51 -0400 (Fri, 14 May 2004) | 2 lines
Changed paths:
   M /trunk/check/src/check.h.in

Made suite_free and tcase_free static. Added new print mode that reads the mode from environment variable.

------------------------------------------------------------------------
r153 | hugo303 | 2004-05-14 08:00:53 -0400 (Fri, 14 May 2004) | 2 lines
Changed paths:
   M /trunk/check/src/check.c

Added free of suites when freeing srunner. Made suite_free and tcase_free static. Added name of test to result.

------------------------------------------------------------------------
r152 | neo23 | 2002-10-21 07:29:53 -0400 (Mon, 21 Oct 2002) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog
   M /trunk/check/NEWS

Made 0.8.4 release.

------------------------------------------------------------------------
r151 | neo23 | 2002-10-16 07:47:44 -0400 (Wed, 16 Oct 2002) | 2 lines
Changed paths:
   M /trunk/check/AUTHORS
   M /trunk/check/ChangeLog
   M /trunk/check/configure.in

Bumped version number to 0.8.4. Updated AUTHORS and ChangeLog.

------------------------------------------------------------------------
r150 | neo23 | 2002-10-16 07:39:48 -0400 (Wed, 16 Oct 2002) | 5 lines
Changed paths:
   M /trunk/check/src/check_msg.c
   M /trunk/check/tests/check_check_msg.c

Applied a patch from Rick Poyner that changes the pipe used for IPC
to use a temporary file instead of stdin/stdout. This fixes the
long-standing problem that the pipe used to fill up when too many
fail_unless() were used. (#482012).

------------------------------------------------------------------------
r149 | neo23 | 2002-10-09 12:57:36 -0400 (Wed, 09 Oct 2002) | 3 lines
Changed paths:
   M /trunk/check/src/check.h.in

Applied a patch from Rick Poyner that fixes a typo which broke check
for C++ compilers (bug #601397).

------------------------------------------------------------------------
r148 | neo23 | 2002-08-16 13:41:04 -0400 (Fri, 16 Aug 2002) | 3 lines
Changed paths:
   M /trunk/check/src/check.c
   M /trunk/check/src/check_msg.c
   M /trunk/check/src/check_msg.h
   M /trunk/check/src/check_pack.c
   M /trunk/check/src/check_pack.h

Applied a patch from Dietmar Petras <dpetras@gmx.de> that plugs some
memory leaks.

------------------------------------------------------------------------
r147 | neo23 | 2002-07-09 22:37:19 -0400 (Tue, 09 Jul 2002) | 2 lines
Changed paths:
   M /trunk/check
   M /trunk/check/.cvsignore
   M /trunk/check/autogen.sh

Call aclocal from autogen.sh.

------------------------------------------------------------------------
r146 | neo23 | 2002-07-09 22:32:55 -0400 (Tue, 09 Jul 2002) | 2 lines
Changed paths:
   D /trunk/check/aclocal.m4
   D /trunk/check/depcomp
   D /trunk/check/install-sh
   D /trunk/check/missing
   D /trunk/check/mkinstalldirs

Removed files generated by automake.

------------------------------------------------------------------------
r145 | neo23 | 2002-06-16 08:25:04 -0400 (Sun, 16 Jun 2002) | 2 lines
Changed paths:
   M /trunk/check/debian/changelog

applied patch from Arien Malec to fix build of Debian packages

------------------------------------------------------------------------
r144 | neo23 | 2002-05-24 11:04:38 -0400 (Fri, 24 May 2002) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Made 0.8.3 Release.

------------------------------------------------------------------------
r143 | neo23 | 2002-05-24 11:00:49 -0400 (Fri, 24 May 2002) | 3 lines
Changed paths:
   M /trunk/check/NEWS
   M /trunk/check/doc/tutorial.lyx
   M /trunk/check/rpm/check.spec.in

Added check.m4 to the spec file. Updated NEWS. Updated the date of the
tutorial.

------------------------------------------------------------------------
r142 | neo23 | 2002-05-24 10:35:10 -0400 (Fri, 24 May 2002) | 2 lines
Changed paths:
   M /trunk/check/debian/check.dirs
   M /trunk/check/debian/check.files
   M /trunk/check/debian/control

Added check.m4 to debian rules. Changed the maintainer entry.

------------------------------------------------------------------------
r141 | neo23 | 2002-05-23 11:08:32 -0400 (Thu, 23 May 2002) | 3 lines
Changed paths:
   M /trunk/check/doc/tutorial.lyx

Mention that EXIT_SUCCESS and EXIT_FAILURE are defined in stdlib.h.
Suggested by Russell Reed in bug #547129.

------------------------------------------------------------------------
r140 | neo23 | 2002-05-10 08:01:44 -0400 (Fri, 10 May 2002) | 2 lines
Changed paths:
   M /trunk/check/src/check_msg.c

Declared local functions static (based on a patch from Gilgamesh Nootebos).

------------------------------------------------------------------------
r139 | neo23 | 2002-05-03 07:58:02 -0400 (Fri, 03 May 2002) | 3 lines
Changed paths:
   M /trunk/check/src/Makefile.am
   M /trunk/check/src/check.c
   M /trunk/check/src/check_error.c
   A /trunk/check/src/check_list.c
   A /trunk/check/src/check_list.h
   M /trunk/check/src/check_log.c
   M /trunk/check/src/check_msg.c
   M /trunk/check/src/check_pack.c
   M /trunk/check/src/check_print.c
   M /trunk/check/src/check_run.c
   M /trunk/check/src/check_str.c
   D /trunk/check/src/list.c
   D /trunk/check/src/list.h
   M /trunk/check/tests/check_list.c

Renamed list.[ch] to check_list.[ch] for consistency.
Include config.h from all over the place, cleaned up includes.

------------------------------------------------------------------------
r138 | neo23 | 2002-05-02 04:34:57 -0400 (Thu, 02 May 2002) | 2 lines
Changed paths:
   M /trunk/check/src/check_pack.c
   M /trunk/check/tests/check_check_log.c

Removed compiler warnings mentioned in bug #547126.

------------------------------------------------------------------------
r137 | neo23 | 2002-05-02 04:27:25 -0400 (Thu, 02 May 2002) | 2 lines
Changed paths:
   M /trunk/check/src/check_print.c
   M /trunk/check/tests/check_check_msg.c

Don't include "error.h" (bug #546175 small cygwin portability problem).

------------------------------------------------------------------------
r136 | neo23 | 2002-04-16 13:33:49 -0400 (Tue, 16 Apr 2002) | 4 lines
Changed paths:
   M /trunk/check/doc/tutorial.lyx

Changed date to that of the latest release.
Added a name to an internal reference so that we get a working link in
the generated HTML.

------------------------------------------------------------------------
r135 | neo23 | 2002-04-15 12:47:44 -0400 (Mon, 15 Apr 2002) | 3 lines
Changed paths:
   M /trunk/check/check.m4
   M /trunk/check/configure.in

Fixed check.m4 so that --without-check is a valid option to disable check.
Bumped version number to 0.8.3.

------------------------------------------------------------------------
r134 | neo23 | 2002-04-15 06:58:10 -0400 (Mon, 15 Apr 2002) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Updated ChangeLog.

------------------------------------------------------------------------
r133 | neo23 | 2002-04-15 06:57:35 -0400 (Mon, 15 Apr 2002) | 2 lines
Changed paths:
   M /trunk/check/NEWS
   M /trunk/check/README

Made 0.8.2 Release.

------------------------------------------------------------------------
r132 | neo23 | 2002-04-14 12:59:08 -0400 (Sun, 14 Apr 2002) | 4 lines
Changed paths:
   M /trunk/check/src/check_msg.c

Applied a patch from Arien that makes the pipe nonblocking. This doesn't
solve #482012 but makes it more obvious what is going wrong if the pipe
fills up.

------------------------------------------------------------------------
r131 | neo23 | 2002-04-12 06:50:04 -0400 (Fri, 12 Apr 2002) | 2 lines
Changed paths:
   M /trunk/check/doc/tutorial.lyx

Use #include rather than #import (bug #484564).

------------------------------------------------------------------------
r130 | neo23 | 2002-04-12 06:34:04 -0400 (Fri, 12 Apr 2002) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Updated ChangeLog.

------------------------------------------------------------------------
r129 | neo23 | 2002-04-12 06:33:06 -0400 (Fri, 12 Apr 2002) | 3 lines
Changed paths:
   M /trunk/check/AUTHORS
   M /trunk/check/doc/tutorial.lyx

Document the fact that you can now use NULL as msg argument for
fail_unless().

------------------------------------------------------------------------
r128 | neo23 | 2002-04-12 05:54:17 -0400 (Fri, 12 Apr 2002) | 10 lines
Changed paths:
   M /trunk/check/config.h.in
   M /trunk/check/configure.in
   M /trunk/check/src/Makefile.am
   M /trunk/check/src/check.c
   M /trunk/check/src/check_impl.h
   D /trunk/check/src/check_magic.h
   M /trunk/check/src/check_msg.c
   M /trunk/check/src/check_pack.c
   M /trunk/check/src/check_pack.h
   M /trunk/check/src/check_run.c
   M /trunk/check/src/check_str.c
   M /trunk/check/src/check_str.h
   M /trunk/check/tests/Makefile.am
   M /trunk/check/tests/check_check_fixture.c
   M /trunk/check/tests/check_check_master.c
   M /trunk/check/tests/check_check_msg.c
   M /trunk/check/tests/check_check_pack.c

Removed limitations on line number, message and buffer sizes
(bug #478233) by changing the way we send integers over the
pipe. Instead of strings, integers are now send as 4 bytes.
This allows the pack routine to easily calculate the message
size so that we can allocate the needed buffer there.
Made a union out of the different Msg structs to clean up the
internal API. Also introduced the internal function
ck_strdup_printf(), a simple wrapper around sprintf() that
allocates enough space to hold the resulting string.

------------------------------------------------------------------------
r127 | neo23 | 2002-04-10 07:11:48 -0400 (Wed, 10 Apr 2002) | 7 lines
Changed paths:
   M /trunk/check/AUTHORS
   M /trunk/check/NEWS
   M /trunk/check/configure.in
   M /trunk/check/src/check.c
   M /trunk/check/src/check.h.in
   M /trunk/check/src/check_error.c
   M /trunk/check/src/check_error.h
   M /trunk/check/src/check_impl.h
   M /trunk/check/src/check_log.c
   M /trunk/check/src/check_msg.c
   M /trunk/check/src/check_msg.h
   M /trunk/check/src/check_pack.c
   M /trunk/check/src/check_run.c
   M /trunk/check/src/check_str.c
   M /trunk/check/src/list.c
   M /trunk/check/src/list.h
   M /trunk/check/tests/check_check_fixture.c
   M /trunk/check/tests/check_check_fork.c
   M /trunk/check/tests/check_check_master.c
   M /trunk/check/tests/check_check_pack.c
   M /trunk/check/tests/check_list.c

Applied a slightly modified version of a patch from
Neil Spring <nspring@cs.washington.edu> that declares strings as
const where applicable. It also changes our CFLAGS to be much
stricter and removes the warnings introduced by -Wwrite-strings.
This allows building other check tests with -Wwrite-strings
without heaping gobs of compiler warnings.

------------------------------------------------------------------------
r126 | neo23 | 2002-03-28 14:12:30 -0500 (Thu, 28 Mar 2002) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Updated ChangeLog.

------------------------------------------------------------------------
r125 | neo23 | 2002-03-28 13:37:07 -0500 (Thu, 28 Mar 2002) | 6 lines
Changed paths:
   M /trunk/check/src/check.c
   M /trunk/check/src/check.h.in
   M /trunk/check/tests/check_check_master.c
   M /trunk/check/tests/check_check_sub.c

Allow fail_unless() to be called with a NULL msg and substitute a reasonable
error message in that case. Bail out if NULL is passed to _fail_unless() to
avoid possible confusion.

Added a test case that calls fail_unless() with msg=NULL.

------------------------------------------------------------------------
r124 | neo23 | 2002-03-28 13:22:09 -0500 (Thu, 28 Mar 2002) | 21 lines
Changed paths:
   M /trunk/check/Makefile.am
   M /trunk/check/README
   M /trunk/check/autogen.sh
   A /trunk/check/check.m4
   M /trunk/check/configure.in
   M /trunk/check/doc/money
   A /trunk/check/doc/money/.cvsignore
   M /trunk/check/doc/money/Makefile.am.money
   M /trunk/check/doc/money/aclocal.m4
   M /trunk/check/doc/money/configure.in.money
   M /trunk/check/doc/tutorial.lyx
   M /trunk/check/rpm
   M /trunk/check/rpm/.cvsignore
   M /trunk/check/rpm/Makefile.am
   D /trunk/check/rpm/check.spec
   A /trunk/check/rpm/check.spec.in
   M /trunk/check/src
   M /trunk/check/src/.cvsignore
   M /trunk/check/src/Makefile.am
   M /trunk/check/src/check.c
   D /trunk/check/src/check.h
   A /trunk/check/src/check.h.in
   M /trunk/check/tests
   M /trunk/check/tests/.cvsignore

Changed autogen.sh to bail out if necessary tools can't be found
instead of proceeding to the version checks.

Document use of autogen.sh in README.

Generate check.spec from check.spec.in to it automatically gets the
correct version number.

Generate check.h from chech.h.in and include Check version information.

Compile Check version number into the library to allow for runtime
version checks.

Added the m4 script check.m4 that allows to easily integrate Check
into projects using autoconf/automake. It does version checking and
also assures that header and library versions match.

Document the use of check.m4 and the AM_PATH_CHECK() macro in the
tutorial. Adapted example Makefile.am and configure.in and added a
missing .cvsignore file.

------------------------------------------------------------------------
r123 | amalec | 2002-03-26 20:21:12 -0500 (Tue, 26 Mar 2002) | 2 lines
Changed paths:
   D /trunk/check/src/Makefile.in
   D /trunk/check/tests/Makefile.in

Complete CVS cleanup

------------------------------------------------------------------------
r122 | amalec | 2002-03-26 20:18:55 -0500 (Tue, 26 Mar 2002) | 2 lines
Changed paths:
   M /trunk/check
   A /trunk/check/.cvsignore
   M /trunk/check/Makefile.am
   D /trunk/check/Makefile.in
   A /trunk/check/autogen.sh
   D /trunk/check/configure
   M /trunk/check/debian
   A /trunk/check/debian/.cvsignore
   D /trunk/check/debian/Makefile.in
   M /trunk/check/doc
   A /trunk/check/doc/.cvsignore
   D /trunk/check/doc/Makefile.in
   D /trunk/check/doc/money/Makefile.in
   M /trunk/check/rpm
   A /trunk/check/rpm/.cvsignore
   D /trunk/check/rpm/Makefile.in
   M /trunk/check/src
   A /trunk/check/src/.cvsignore
   M /trunk/check/tests
   A /trunk/check/tests/.cvsignore

Cleaned up CVS to remove all autofoo generated files, included an autogen.sh bootstrap file. Changes at the suggestion of Sven Neumann

------------------------------------------------------------------------
r121 | amalec | 2002-03-01 20:42:48 -0500 (Fri, 01 Mar 2002) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Update ChangeLog

------------------------------------------------------------------------
r120 | amalec | 2002-03-01 20:42:20 -0500 (Fri, 01 Mar 2002) | 2 lines
Changed paths:
   M /trunk/check/debian/changelog
   M /trunk/check/debian/files
   M /trunk/check/rpm/check.spec
   M /trunk/check/src/Makefile.am
   M /trunk/check/src/Makefile.in
   M /trunk/check/src/check.c
   A /trunk/check/src/check_error.c
   A /trunk/check/src/check_error.h
   M /trunk/check/src/check_log.c
   M /trunk/check/src/check_msg.c
   M /trunk/check/src/check_pack.c
   M /trunk/check/src/check_run.c
   M /trunk/check/src/check_str.c
   D /trunk/check/src/error.c
   D /trunk/check/src/error.h
   M /trunk/check/src/list.c
   M /trunk/check/tests/check_check_fixture.c
   M /trunk/check/tests/check_check_pack.c

Moved error.[hc] to check_error.[hc], and fixed bug in running checked setup in nofork mode.

------------------------------------------------------------------------
r119 | amalec | 2002-02-27 21:02:09 -0500 (Wed, 27 Feb 2002) | 2 lines
Changed paths:
   M /trunk/check/COPYING
   M /trunk/check/configure
   M /trunk/check/configure.in
   M /trunk/check/src/check.c
   M /trunk/check/src/check.h
   M /trunk/check/src/check_impl.h
   M /trunk/check/src/check_log.c
   M /trunk/check/src/check_log.h
   M /trunk/check/src/check_magic.h
   M /trunk/check/src/check_msg.c
   M /trunk/check/src/check_msg.h
   M /trunk/check/src/check_pack.c
   M /trunk/check/src/check_pack.h
   M /trunk/check/src/check_print.c
   M /trunk/check/src/check_print.h
   M /trunk/check/src/check_run.c
   M /trunk/check/src/check_str.c
   M /trunk/check/src/check_str.h
   M /trunk/check/src/error.c
   M /trunk/check/src/error.h
   M /trunk/check/src/list.c
   M /trunk/check/src/list.h

Changed license to LGPL

------------------------------------------------------------------------
r117 | amalec | 2001-10-25 19:19:28 -0400 (Thu, 25 Oct 2001) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Update ChangeLog

------------------------------------------------------------------------
r116 | amalec | 2001-10-25 19:18:42 -0400 (Thu, 25 Oct 2001) | 2 lines
Changed paths:
   M /trunk/check/AUTHORS

Update AUTHORS to give credit to key contributors

------------------------------------------------------------------------
r115 | amalec | 2001-10-25 19:12:35 -0400 (Thu, 25 Oct 2001) | 2 lines
Changed paths:
   M /trunk/check/configure
   M /trunk/check/configure.in

Clarified configuration warning on doc building

------------------------------------------------------------------------
r114 | amalec | 2001-10-25 18:51:35 -0400 (Thu, 25 Oct 2001) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Updating ChangeLog prior to release

------------------------------------------------------------------------
r113 | amalec | 2001-10-25 18:45:31 -0400 (Thu, 25 Oct 2001) | 2 lines
Changed paths:
   M /trunk/check/src/check_run.c
   M /trunk/check/tests/check_check_pack.c

Fixed some missing header includes

------------------------------------------------------------------------
r112 | amalec | 2001-10-25 18:25:11 -0400 (Thu, 25 Oct 2001) | 2 lines
Changed paths:
   M /trunk/check/src/check_pack.c

Fix packing of NULL strings (causing problems under Solaris)

------------------------------------------------------------------------
r111 | amalec | 2001-10-25 18:17:03 -0400 (Thu, 25 Oct 2001) | 2 lines
Changed paths:
   M /trunk/check/tests/check_check_pack.c

Minor change to pack tests to ensure that tests don't pass accidentally

------------------------------------------------------------------------
r110 | amalec | 2001-10-24 20:45:23 -0400 (Wed, 24 Oct 2001) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Updated ChangeLog

------------------------------------------------------------------------
r109 | amalec | 2001-10-24 20:44:13 -0400 (Wed, 24 Oct 2001) | 2 lines
Changed paths:
   A /trunk/check/depcomp

Added new automake file

------------------------------------------------------------------------
r108 | amalec | 2001-10-24 20:43:37 -0400 (Wed, 24 Oct 2001) | 2 lines
Changed paths:
   M /trunk/check/NEWS
   M /trunk/check/doc/index.html
   M /trunk/check/doc/money/check_money.c
   M /trunk/check/tests/check_check_sub.c

Added comments on string functions to NEWS, cleaned up money example, and fixed a signal unit test so that it will pass under cygwin

------------------------------------------------------------------------
r107 | amalec | 2001-10-24 13:25:47 -0400 (Wed, 24 Oct 2001) | 2 lines
Changed paths:
   M /trunk/check/Makefile.in
   M /trunk/check/NEWS
   M /trunk/check/aclocal.m4
   M /trunk/check/configure
   M /trunk/check/debian/Makefile.in
   M /trunk/check/debian/changelog
   M /trunk/check/debian/files
   M /trunk/check/doc/Makefile.am
   M /trunk/check/doc/Makefile.in
   M /trunk/check/doc/money/Makefile.in
   M /trunk/check/doc/tutorial.lyx
   M /trunk/check/rpm/Makefile.in
   M /trunk/check/rpm/check.spec
   M /trunk/check/src/Makefile.am
   M /trunk/check/src/Makefile.in
   M /trunk/check/src/check.h
   M /trunk/check/src/check_log.c
   M /trunk/check/src/check_msg.c
   M /trunk/check/src/check_msg.h
   M /trunk/check/src/check_print.c
   M /trunk/check/src/check_run.c
   M /trunk/check/tests/Makefile.am
   M /trunk/check/tests/Makefile.in
   M /trunk/check/tests/check_check_fixture.c
   M /trunk/check/tests/check_check_fork.c
   M /trunk/check/tests/check_check_limit.c
   M /trunk/check/tests/check_check_main.c
   M /trunk/check/tests/check_check_master.c
   M /trunk/check/tests/check_stress.c
   M /trunk/check/tests/ex_log_output.c
   M /trunk/check/tests/ex_output.c
   M /trunk/check/tests/test_log_output.sh
   M /trunk/check/tests/test_output.sh

Documentation updates

------------------------------------------------------------------------
r106 | amalec | 2001-10-22 19:57:18 -0400 (Mon, 22 Oct 2001) | 2 lines
Changed paths:
   M /trunk/check/src/check_msg.c
   M /trunk/check/src/check_pack.c
   M /trunk/check/src/check_pack.h
   M /trunk/check/tests/check_check_pack.c

Removed old ppunpack, renamed new_*, and updated callers

------------------------------------------------------------------------
r105 | amalec | 2001-10-22 19:26:48 -0400 (Mon, 22 Oct 2001) | 2 lines
Changed paths:
   M /trunk/check/src/check_msg.c
   M /trunk/check/src/check_msg.h
   M /trunk/check/src/check_pack.c
   M /trunk/check/src/check_run.c
   M /trunk/check/tests/check_check_master.c
   M /trunk/check/tests/check_check_msg.c
   M /trunk/check/tests/check_check_pack.c

Moved Check to use new internal ppack routine, and fixed a nasty bug

------------------------------------------------------------------------
r104 | amalec | 2001-10-19 19:27:33 -0400 (Fri, 19 Oct 2001) | 2 lines
Changed paths:
   M /trunk/check/src/check_msg.c
   M /trunk/check/src/check_msg.h
   M /trunk/check/src/check_pack.c
   M /trunk/check/tests/check_check_msg.c
   M /trunk/check/tests/check_check_pack.c

New version of receive_test_result passes unit tests

------------------------------------------------------------------------
r103 | amalec | 2001-10-19 14:44:39 -0400 (Fri, 19 Oct 2001) | 2 lines
Changed paths:
   M /trunk/check/src/check_pack.c
   M /trunk/check/src/check_pack.h
   M /trunk/check/tests/check_check_fixture.c
   M /trunk/check/tests/check_check_pack.c

Changed punpack to return test and fixture locs to preserve test information when teardown messages are sent

------------------------------------------------------------------------
r102 | amalec | 2001-10-16 21:15:16 -0400 (Tue, 16 Oct 2001) | 2 lines
Changed paths:
   M /trunk/check/src/check_run.c
   M /trunk/check/tests/check_check_fixture.c

Checked setup passes unit tests

------------------------------------------------------------------------
r101 | amalec | 2001-10-13 12:13:52 -0400 (Sat, 13 Oct 2001) | 2 lines
Changed paths:
   M /trunk/check/src/Makefile.am
   M /trunk/check/src/Makefile.in
   M /trunk/check/src/check.c
   M /trunk/check/src/check_msg.c
   M /trunk/check/src/check_msg.h
   M /trunk/check/src/check_run.c
   M /trunk/check/tests/check_check_msg.c

Replace previous messaging implementation files with new module

------------------------------------------------------------------------
r100 | amalec | 2001-10-13 02:05:11 -0400 (Sat, 13 Oct 2001) | 2 lines
Changed paths:
   M /trunk/check/src/check.c
   M /trunk/check/src/check.h
   M /trunk/check/src/check_log.c
   M /trunk/check/src/check_msg.c
   M /trunk/check/src/check_pack.c
   M /trunk/check/src/check_run.c
   M /trunk/check/src/check_str.c
   M /trunk/check/src/error.c
   M /trunk/check/src/error.h
   M /trunk/check/tests/check_check_master.c
   M /trunk/check/tests/test_log_output.sh
   M /trunk/check/tests/test_output.sh

Fully implemented new messaging back-end based on pipes

------------------------------------------------------------------------
r99 | amalec | 2001-10-10 14:01:17 -0400 (Wed, 10 Oct 2001) | 2 lines
Changed paths:
   M /trunk/check/Makefile.in
   M /trunk/check/aclocal.m4
   M /trunk/check/configure
   M /trunk/check/debian/Makefile.in
   M /trunk/check/doc/Makefile.in
   M /trunk/check/doc/money/Makefile.in
   M /trunk/check/rpm/Makefile.in
   M /trunk/check/src/Makefile.am
   M /trunk/check/src/Makefile.in
   M /trunk/check/src/check.c
   M /trunk/check/src/check_impl.h
   M /trunk/check/src/check_pack.c
   M /trunk/check/tests/Makefile.in
   M /trunk/check/tests/check_check_msg.c
   M /trunk/check/tests/check_check_pack.c

Updated messaging tests to use new infrastructure

------------------------------------------------------------------------
r98 | amalec | 2001-10-04 17:55:29 -0400 (Thu, 04 Oct 2001) | 2 lines
Changed paths:
   M /trunk/check/src/check.c
   M /trunk/check/src/check.h
   M /trunk/check/src/check_impl.h
   M /trunk/check/src/check_pack.c
   M /trunk/check/src/check_pack.h
   M /trunk/check/tests/check_check_pack.c

Completed implementation of check_pack

------------------------------------------------------------------------
r97 | amalec | 2001-10-02 11:38:48 -0400 (Tue, 02 Oct 2001) | 2 lines
Changed paths:
   M /trunk/check/doc/index.html
   M /trunk/check/doc/tutorial.lyx
   M /trunk/check/src/Makefile.am
   M /trunk/check/src/Makefile.in
   M /trunk/check/src/check.c
   M /trunk/check/src/check.h
   M /trunk/check/src/check_magic.h
   M /trunk/check/src/check_msg.h
   A /trunk/check/src/check_pack.c
   A /trunk/check/src/check_pack.h
   M /trunk/check/tests/Makefile.am
   M /trunk/check/tests/Makefile.in
   M /trunk/check/tests/check_check.h
   M /trunk/check/tests/check_check_fixture.c
   M /trunk/check/tests/check_check_fork.c
   M /trunk/check/tests/check_check_limit.c
   M /trunk/check/tests/check_check_main.c
   M /trunk/check/tests/check_check_master.c
   M /trunk/check/tests/check_check_msg.c
   A /trunk/check/tests/check_check_pack.c

First generation packing code as the infrastructure to revising message passing between processes, to accomodate context messages

------------------------------------------------------------------------
r96 | amalec | 2001-09-27 20:20:37 -0400 (Thu, 27 Sep 2001) | 2 lines
Changed paths:
   M /trunk/check/src/check.c
   M /trunk/check/src/check.h
   M /trunk/check/src/check_impl.h
   M /trunk/check/src/check_run.c
   M /trunk/check/src/list.c
   M /trunk/check/src/list.h
   M /trunk/check/tests/check_check_fixture.c
   M /trunk/check/tests/check_check_fork.c
   M /trunk/check/tests/check_check_limit.c
   M /trunk/check/tests/check_check_master.c
   M /trunk/check/tests/check_check_msg.c

Added framework for support of checked fixture functions

------------------------------------------------------------------------
r95 | amalec | 2001-09-27 12:08:48 -0400 (Thu, 27 Sep 2001) | 2 lines
Changed paths:
   M /trunk/check/src/check.c
   M /trunk/check/src/check_run.c

Refactored failure info functions

------------------------------------------------------------------------
r94 | amalec | 2001-09-18 20:14:03 -0400 (Tue, 18 Sep 2001) | 2 lines
Changed paths:
   M /trunk/check/src/check.c
   M /trunk/check/src/check.h
   M /trunk/check/src/check_impl.h
   M /trunk/check/src/check_magic.h
   M /trunk/check/src/check_msg.c
   M /trunk/check/src/check_msg.h
   M /trunk/check/src/check_print.c
   M /trunk/check/src/check_run.c
   M /trunk/check/src/check_str.c
   M /trunk/check/tests/Makefile.am
   M /trunk/check/tests/Makefile.in
   M /trunk/check/tests/check_check.h
   A /trunk/check/tests/check_check_fixture.c
   M /trunk/check/tests/check_check_main.c
   M /trunk/check/tests/check_check_master.c

Setup failure is working and partially tested

------------------------------------------------------------------------
r93 | amalec | 2001-09-14 19:15:28 -0400 (Fri, 14 Sep 2001) | 2 lines
Changed paths:
   M /trunk/check/tests/check_check.h
   A /trunk/check/tests/check_check_fork.c
   M /trunk/check/tests/check_check_main.c

Completed implementation of CK_NOFORK

------------------------------------------------------------------------
r92 | amalec | 2001-09-07 18:12:54 -0400 (Fri, 07 Sep 2001) | 2 lines
Changed paths:
   M /trunk/check/src/check_impl.h
   M /trunk/check/src/check_msg.c
   M /trunk/check/src/check_msg.h
   M /trunk/check/src/check_run.c

Implemented nofork mode

------------------------------------------------------------------------
r91 | amalec | 2001-09-06 14:10:22 -0400 (Thu, 06 Sep 2001) | 2 lines
Changed paths:
   M /trunk/check/Doxyfile
   M /trunk/check/configure.in
   M /trunk/check/src/check.h
   M /trunk/check/src/check_impl.h
   M /trunk/check/src/check_log.c
   M /trunk/check/src/check_log.h
   M /trunk/check/src/check_print.c
   M /trunk/check/src/check_print.h
   M /trunk/check/src/check_run.c
   M /trunk/check/tests/Makefile.am
   M /trunk/check/tests/Makefile.in
   M /trunk/check/tests/check_check.h
   M /trunk/check/tests/check_check_main.c

Added initial control functions to control forking

------------------------------------------------------------------------
r90 | amalec | 2001-09-05 12:48:45 -0400 (Wed, 05 Sep 2001) | 2 lines
Changed paths:
   M /trunk/check/src/check.c
   M /trunk/check/src/check_msg.c
   M /trunk/check/src/check_msg.h
   M /trunk/check/src/check_run.c
   M /trunk/check/tests/check_check_msg.c

Completely abstracted the details of messaging behind check_msg.c

------------------------------------------------------------------------
r89 | amalec | 2001-08-31 20:12:51 -0400 (Fri, 31 Aug 2001) | 2 lines
Changed paths:
   M /trunk/check/src/check.c
   M /trunk/check/src/check_msg.c
   M /trunk/check/src/check_msg.h
   M /trunk/check/src/check_run.c

Ensure that each subprocesses alloc the correct msg queue

------------------------------------------------------------------------
r88 | amalec | 2001-08-29 21:00:45 -0400 (Wed, 29 Aug 2001) | 2 lines
Changed paths:
   M /trunk/check/src/check.c
   M /trunk/check/src/check.h
   M /trunk/check/src/check_msg.c
   M /trunk/check/src/check_msg.h
   M /trunk/check/src/check_run.c
   M /trunk/check/tests/check_check_msg.c

Eliminated passing of msqid in unit tests

------------------------------------------------------------------------
r87 | amalec | 2001-08-28 20:49:07 -0400 (Tue, 28 Aug 2001) | 2 lines
Changed paths:
   M /trunk/check/src/check_print.c
   M /trunk/check/src/check_str.c
   A /trunk/check/tests/check_check_limit.c

Added test checking running empty suites

------------------------------------------------------------------------
r86 | amalec | 2001-08-28 13:06:05 -0400 (Tue, 28 Aug 2001) | 2 lines
Changed paths:
   A /trunk/check/src/check_magic.h

Moved magic values to separate header

------------------------------------------------------------------------
r85 | amalec | 2001-08-28 13:04:27 -0400 (Tue, 28 Aug 2001) | 2 lines
Changed paths:
   M /trunk/check/src/Makefile.am
   M /trunk/check/src/Makefile.in
   M /trunk/check/src/check.h
   M /trunk/check/src/check_impl.h
   M /trunk/check/src/check_print.c
   A /trunk/check/src/check_str.c
   A /trunk/check/src/check_str.h
   M /trunk/check/tests/check_check_master.c
   M /trunk/check/tests/check_check_msg.c

Separated printing from string formating functions to allow better testing.

------------------------------------------------------------------------
r84 | amalec | 2001-08-27 20:18:00 -0400 (Mon, 27 Aug 2001) | 2 lines
Changed paths:
   M /trunk/check/configure
   M /trunk/check/configure.in
   M /trunk/check/src/check_msg.c
   M /trunk/check/src/check_msg.h
   M /trunk/check/src/check_run.c
   M /trunk/check/tests/Makefile.am
   M /trunk/check/tests/Makefile.in
   M /trunk/check/tests/check_check.h
   M /trunk/check/tests/check_check_main.c
   M /trunk/check/tests/check_check_msg.c

Use pid/ppid as message queue key, preliminary to removing _msqid from unit test functions

------------------------------------------------------------------------
r82 | amalec | 2001-08-23 17:26:16 -0400 (Thu, 23 Aug 2001) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Final ChangeLog for 0.7.3 release

------------------------------------------------------------------------
r81 | amalec | 2001-08-23 17:25:03 -0400 (Thu, 23 Aug 2001) | 2 lines
Changed paths:
   M /trunk/check/NEWS

Document 0.7.3 in NEWS

------------------------------------------------------------------------
r80 | amalec | 2001-08-23 17:13:58 -0400 (Thu, 23 Aug 2001) | 2 lines
Changed paths:
   M /trunk/check/debian/changelog

This time, fix debian changelog correctly

------------------------------------------------------------------------
r79 | amalec | 2001-08-23 17:10:48 -0400 (Thu, 23 Aug 2001) | 2 lines
Changed paths:
   M /trunk/check/debian/changelog

Fixed maintainer email in debian changelog

------------------------------------------------------------------------
r78 | amalec | 2001-08-22 19:08:21 -0400 (Wed, 22 Aug 2001) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog
   M /trunk/check/acinclude.m4
   M /trunk/check/aclocal.m4
   M /trunk/check/configure
   M /trunk/check/configure.in
   M /trunk/check/debian/changelog
   M /trunk/check/debian/check.doc-base.tut
   M /trunk/check/debian/files
   M /trunk/check/rpm/check.spec

Updated acinclude.m4 to increase portability; fixed a minor packaging bug in debian doc-base files

------------------------------------------------------------------------
r76 | amalec | 2001-08-18 01:28:01 -0400 (Sat, 18 Aug 2001) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog
   M /trunk/check/doc/index.html

index.html changes

------------------------------------------------------------------------
r75 | amalec | 2001-08-18 01:24:32 -0400 (Sat, 18 Aug 2001) | 2 lines
Changed paths:
   M /trunk/check/INSTALL
   M /trunk/check/NEWS

NEWS and INSTALL changes

------------------------------------------------------------------------
r74 | amalec | 2001-08-18 01:15:48 -0400 (Sat, 18 Aug 2001) | 2 lines
Changed paths:
   M /trunk/check/Doxyfile
   M /trunk/check/configure
   M /trunk/check/configure.in
   M /trunk/check/debian/check.postinst.debhelper
   M /trunk/check/debian/check.prerm.debhelper
   M /trunk/check/debian/files
   M /trunk/check/doc/Makefile.in
   M /trunk/check/doc/tutorial.lyx
   M /trunk/check/rpm/Makefile.am
   M /trunk/check/rpm/Makefile.in
   M /trunk/check/rpm/check.spec
   M /trunk/check/src/check.c
   M /trunk/check/src/check.h
   M /trunk/check/src/check_log.c
   M /trunk/check/src/check_msg.c
   M /trunk/check/src/check_print.c
   M /trunk/check/src/check_run.c
   M /trunk/check/tests/check_check_log.c
   M /trunk/check/tests/check_check_master.c
   M /trunk/check/tests/check_check_msg.c
   M /trunk/check/tests/check_list.c
   M /trunk/check/tests/check_stress.c
   M /trunk/check/tests/ex_log_output.c
   M /trunk/check/tests/ex_output.c

Bug fixes and assorted cleanup prior to release

------------------------------------------------------------------------
r73 | amalec | 2001-08-17 19:16:57 -0400 (Fri, 17 Aug 2001) | 2 lines
Changed paths:
   A /trunk/check/doc/money/Makefile.am
   A /trunk/check/doc/money/Makefile.in

Added money example Makefiles to CVS

------------------------------------------------------------------------
r72 | amalec | 2001-08-17 19:13:21 -0400 (Fri, 17 Aug 2001) | 2 lines
Changed paths:
   M /trunk/check/doc/Makefile.am
   D /trunk/check/doc/example.lyx
   A /trunk/check/doc/tutorial.lyx

Moved example.lyx to tutorial.lyx

------------------------------------------------------------------------
r71 | amalec | 2001-08-15 20:47:35 -0400 (Wed, 15 Aug 2001) | 2 lines
Changed paths:
   A /trunk/check/acinclude.m4
   A /trunk/check/debian/Makefile.am
   A /trunk/check/debian/Makefile.in
   A /trunk/check/debian/check.docs

Added leftover stuff in debian directory, acinclude.m4

------------------------------------------------------------------------
r70 | amalec | 2001-08-15 20:45:54 -0400 (Wed, 15 Aug 2001) | 2 lines
Changed paths:
   M /trunk/check/Makefile.am
   M /trunk/check/Makefile.in
   M /trunk/check/aclocal.m4
   M /trunk/check/configure
   M /trunk/check/configure.in
   A /trunk/check/debian/check.doc-base.tut
   M /trunk/check/debian/control
   D /trunk/check/debian/docs
   M /trunk/check/doc/Makefile.am
   M /trunk/check/doc/Makefile.in
   D /trunk/check/doc/money/AUTHORS
   D /trunk/check/doc/money/COPYING
   D /trunk/check/doc/money/ChangeLog
   D /trunk/check/doc/money/INSTALL
   D /trunk/check/doc/money/Makefile.am
   A /trunk/check/doc/money/Makefile.am.money
   D /trunk/check/doc/money/Makefile.in
   D /trunk/check/doc/money/NEWS
   D /trunk/check/doc/money/README
   D /trunk/check/doc/money/config.h.in
   D /trunk/check/doc/money/configure
   D /trunk/check/doc/money/configure.in
   A /trunk/check/doc/money/configure.in.money
   D /trunk/check/doc/money/stamp-h.in
   M /trunk/check/rpm/Makefile.in
   M /trunk/check/rpm/check.spec
   M /trunk/check/src/Makefile.in
   M /trunk/check/tests/Makefile.in

Added configure check for Lyx with Linuxdoc

------------------------------------------------------------------------
r69 | amalec | 2001-08-06 16:45:30 -0400 (Mon, 06 Aug 2001) | 2 lines
Changed paths:
   A /trunk/check/rpm/Makefile.in

Added rpm/Makefile.in

------------------------------------------------------------------------
r68 | amalec | 2001-08-06 16:44:28 -0400 (Mon, 06 Aug 2001) | 2 lines
Changed paths:
   M /trunk/check/Makefile.am
   M /trunk/check/Makefile.in
   M /trunk/check/configure
   M /trunk/check/configure.in
   M /trunk/check/debian/changelog
   M /trunk/check/debian/check.dirs
   M /trunk/check/debian/check.files
   M /trunk/check/debian/rules
   M /trunk/check/doc/Makefile.am
   M /trunk/check/doc/Makefile.in
   M /trunk/check/doc/index.html
   M /trunk/check/doc/money/AUTHORS
   M /trunk/check/doc/money/COPYING
   M /trunk/check/doc/money/ChangeLog
   M /trunk/check/doc/money/NEWS
   M /trunk/check/doc/money/README
   M /trunk/check/rpm/check.spec

Can now build complete debs

------------------------------------------------------------------------
r67 | amalec | 2001-08-04 01:40:15 -0400 (Sat, 04 Aug 2001) | 2 lines
Changed paths:
   D /trunk/check/debian/README.Debian

Don't need README.Debian

------------------------------------------------------------------------
r66 | amalec | 2001-08-04 01:26:40 -0400 (Sat, 04 Aug 2001) | 2 lines
Changed paths:
   A /trunk/check/debian
   A /trunk/check/debian/README.Debian
   A /trunk/check/debian/changelog
   A /trunk/check/debian/check.dirs
   A /trunk/check/debian/check.files
   A /trunk/check/debian/check.postinst.debhelper
   A /trunk/check/debian/check.prerm.debhelper
   A /trunk/check/debian/control
   A /trunk/check/debian/copyright
   A /trunk/check/debian/dirs
   A /trunk/check/debian/docs
   A /trunk/check/debian/files
   A /trunk/check/debian/rules
   M /trunk/check/doc/Makefile.am
   M /trunk/check/doc/index.html

Added preliminary debian packaging files

------------------------------------------------------------------------
r65 | amalec | 2001-08-02 21:05:18 -0400 (Thu, 02 Aug 2001) | 2 lines
Changed paths:
   M /trunk/check/Makefile.am
   M /trunk/check/Makefile.in
   M /trunk/check/aclocal.m4
   M /trunk/check/configure
   M /trunk/check/configure.in
   M /trunk/check/doc/index.html
   A /trunk/check/rpm/Makefile.am
   D /trunk/check/rpm/buildrpm.sh

Added automatic building of RPMs

------------------------------------------------------------------------
r63 | amalec | 2001-07-31 12:51:40 -0400 (Tue, 31 Jul 2001) | 2 lines
Changed paths:
   M /trunk/check/doc/index.html

Update index.html for final release to main Check website.

------------------------------------------------------------------------
r62 | amalec | 2001-07-30 21:08:59 -0400 (Mon, 30 Jul 2001) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Update ChangeLog

------------------------------------------------------------------------
r61 | amalec | 2001-07-30 21:08:17 -0400 (Mon, 30 Jul 2001) | 2 lines
Changed paths:
   M /trunk/check/NEWS
   M /trunk/check/configure
   M /trunk/check/configure.in
   M /trunk/check/doc/example.lyx
   A /trunk/check/rpm/buildrpm.sh
   M /trunk/check/rpm/check.spec
   M /trunk/check/tests/Makefile.am
   M /trunk/check/tests/Makefile.in
   M /trunk/check/tests/ex_log_output.c
   M /trunk/check/tests/test_log_output.sh

Update NEWS, docs, and rpm building

------------------------------------------------------------------------
r60 | amalec | 2001-07-30 16:10:32 -0400 (Mon, 30 Jul 2001) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Update ChangeLog

------------------------------------------------------------------------
r59 | amalec | 2001-07-30 16:10:10 -0400 (Mon, 30 Jul 2001) | 2 lines
Changed paths:
   A /trunk/check/doc/Makefile.in
   A /trunk/check/tests/ex_log_output.c

Add neglected files

------------------------------------------------------------------------
r58 | amalec | 2001-07-30 16:08:57 -0400 (Mon, 30 Jul 2001) | 2 lines
Changed paths:
   M /trunk/check/src/Makefile.am
   M /trunk/check/src/Makefile.in
   M /trunk/check/src/check_impl.h
   M /trunk/check/src/check_log.c
   A /trunk/check/src/check_log.h
   A /trunk/check/src/check_print.c
   A /trunk/check/src/check_print.h
   M /trunk/check/src/check_run.c
   M /trunk/check/tests/test_log_output.sh

Reorganized printing and logging functions and implemented more sophisticated logging

------------------------------------------------------------------------
r57 | amalec | 2001-07-25 17:26:51 -0400 (Wed, 25 Jul 2001) | 2 lines
Changed paths:
   M /trunk/check/Makefile.in
   M /trunk/check/aclocal.m4
   M /trunk/check/config.h.in
   M /trunk/check/configure
   M /trunk/check/doc/money/aclocal.m4
   M /trunk/check/doc/money/config.h.in
   M /trunk/check/doc/money/configure
   M /trunk/check/src/Makefile.in
   M /trunk/check/tests/Makefile.in
   A /trunk/check/tests/test_log_output.sh

Added log tests

------------------------------------------------------------------------
r55 | amalec | 2001-07-11 16:46:08 -0400 (Wed, 11 Jul 2001) | 2 lines
Changed paths:
   M /trunk/check/NEWS
   M /trunk/check/README
   M /trunk/check/doc/example.lyx
   M /trunk/check/rpm/check.spec
   M /trunk/check/src/check.h
   M /trunk/check/tests/check_check_log.c
   M /trunk/check/tests/check_check_main.c

Updated docs

------------------------------------------------------------------------
r54 | amalec | 2001-07-10 19:29:27 -0400 (Tue, 10 Jul 2001) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Update ChangeLog

------------------------------------------------------------------------
r53 | amalec | 2001-07-10 19:28:57 -0400 (Tue, 10 Jul 2001) | 2 lines
Changed paths:
   M /trunk/check/src/Makefile.in
   M /trunk/check/src/check_log.c
   M /trunk/check/tests/check_check.h
   M /trunk/check/tests/check_check_log.c
   M /trunk/check/tests/check_check_master.c
   M /trunk/check/tests/check_check_sub.c
   M /trunk/check/tests/test_output.sh

Completed testing for multiple suite running, and reorganized files

------------------------------------------------------------------------
r52 | amalec | 2001-07-10 19:26:28 -0400 (Tue, 10 Jul 2001) | 2 lines
Changed paths:
   A /trunk/check/src/check_log.c
   D /trunk/check/src/check_log.h

Commit file changes

------------------------------------------------------------------------
r51 | amalec | 2001-07-10 19:25:53 -0400 (Tue, 10 Jul 2001) | 2 lines
Changed paths:
   M /trunk/check/src/Makefile.am
   M /trunk/check/src/check.h
   M /trunk/check/src/check_run.c

Moved check_log.h functions into check.h

------------------------------------------------------------------------
r50 | amalec | 2001-07-09 20:10:06 -0400 (Mon, 09 Jul 2001) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Commit ChangeLog

------------------------------------------------------------------------
r49 | amalec | 2001-07-09 20:09:41 -0400 (Mon, 09 Jul 2001) | 2 lines
Changed paths:
   M /trunk/check/src/check.c
   M /trunk/check/src/check.h
   M /trunk/check/src/check_impl.h
   M /trunk/check/src/check_run.c
   M /trunk/check/src/list.h
   M /trunk/check/tests/Makefile.am
   M /trunk/check/tests/Makefile.in
   M /trunk/check/tests/check_check.h
   M /trunk/check/tests/check_check_log.c
   M /trunk/check/tests/check_check_main.c
   M /trunk/check/tests/check_check_master.c
   M /trunk/check/tests/check_check_msg.c
   M /trunk/check/tests/check_check_sub.c
   M /trunk/check/tests/check_list.c

Completed test for initial logging feature, and added feature to run multiple suites through an SRunner

------------------------------------------------------------------------
r48 | amalec | 2001-06-29 21:27:02 -0400 (Fri, 29 Jun 2001) | 2 lines
Changed paths:
   M /trunk/check/src/Makefile.in
   M /trunk/check/src/check.h
   M /trunk/check/src/check_impl.h
   M /trunk/check/src/check_log.h
   M /trunk/check/src/check_run.c
   M /trunk/check/tests/check_check_log.c
   M /trunk/check/tests/test_output.sh

Restructured printing to allow for logging function

------------------------------------------------------------------------
r47 | amalec | 2001-06-28 20:40:03 -0400 (Thu, 28 Jun 2001) | 2 lines
Changed paths:
   M /trunk/check/src/Makefile.am
   M /trunk/check/src/Makefile.in

Add check_log.c to Makefile.am

------------------------------------------------------------------------
r46 | amalec | 2001-06-28 20:33:07 -0400 (Thu, 28 Jun 2001) | 2 lines
Changed paths:
   M /trunk/check/tests/Makefile.am
   M /trunk/check/tests/Makefile.in

Complete move of check_check_log.c -- this time for real...

------------------------------------------------------------------------
r45 | amalec | 2001-06-28 20:31:39 -0400 (Thu, 28 Jun 2001) | 2 lines
Changed paths:
   M /trunk/check/Doxyfile
   M /trunk/check/src/check_log.h
   M /trunk/check/tests/Makefile.am
   M /trunk/check/tests/Makefile.in

Complete move of check_check_log.c

------------------------------------------------------------------------
r44 | amalec | 2001-06-28 20:30:29 -0400 (Thu, 28 Jun 2001) | 2 lines
Changed paths:
   M /trunk/check/tests/Makefile.am
   A /trunk/check/tests/check_check_log.c
   D /trunk/check/tests/check_log.c

Moved check_log.c to check_check_log.c

------------------------------------------------------------------------
r43 | amalec | 2001-06-28 18:56:26 -0400 (Thu, 28 Jun 2001) | 2 lines
Changed paths:
   D /trunk/check/doc/money/stamp-h

Removed stamp-h

------------------------------------------------------------------------
r42 | amalec | 2001-06-28 18:51:36 -0400 (Thu, 28 Jun 2001) | 2 lines
Changed paths:
   A /trunk/check/src/check_log.h
   A /trunk/check/tests/check_log.c

Added skeleton files for check logging

------------------------------------------------------------------------
r41 | amalec | 2001-06-28 18:33:50 -0400 (Thu, 28 Jun 2001) | 2 lines
Changed paths:
   M /trunk/check/Doxyfile
   M /trunk/check/configure
   M /trunk/check/configure.in
   M /trunk/check/src/check.h
   M /trunk/check/tests/Makefile.am
   M /trunk/check/tests/Makefile.in

Additional doxygenation of check.h

------------------------------------------------------------------------
r39 | amalec | 2001-06-27 14:27:35 -0400 (Wed, 27 Jun 2001) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Updated ChangeLog

------------------------------------------------------------------------
r38 | amalec | 2001-06-27 14:25:54 -0400 (Wed, 27 Jun 2001) | 2 lines
Changed paths:
   M /trunk/check/configure
   M /trunk/check/rpm/check.spec

Updated check.spec

------------------------------------------------------------------------
r37 | amalec | 2001-06-27 14:21:32 -0400 (Wed, 27 Jun 2001) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Update ChangeLog

------------------------------------------------------------------------
r36 | amalec | 2001-06-27 14:20:42 -0400 (Wed, 27 Jun 2001) | 2 lines
Changed paths:
   M /trunk/check/NEWS
   M /trunk/check/configure.in
   M /trunk/check/doc/example.lyx
   M /trunk/check/doc/money/check_money.c
   M /trunk/check/doc/money/configure
   M /trunk/check/doc/money/configure.in
   M /trunk/check/src/check.h
   M /trunk/check/src/check_run.c
   M /trunk/check/tests/check_check_main.c
   M /trunk/check/tests/check_check_master.c
   M /trunk/check/tests/check_check_msg.c
   M /trunk/check/tests/check_list.c
   M /trunk/check/tests/check_stress.c

Completed srunner_results, and added unit tests; changed srunner_nfailed to srunner_ntests_failed and changed documentation.

------------------------------------------------------------------------
r35 | amalec | 2001-06-26 18:51:57 -0400 (Tue, 26 Jun 2001) | 2 lines
Changed paths:
   A /trunk/check/Doxyfile
   M /trunk/check/doc/example.lyx
   M /trunk/check/src/check.h
   M /trunk/check/src/check_run.c
   M /trunk/check/tests/Makefile.am
   M /trunk/check/tests/Makefile.in
   D /trunk/check/tests/check_check.c
   A /trunk/check/tests/check_check.h
   A /trunk/check/tests/check_check_main.c
   A /trunk/check/tests/check_check_master.c
   M /trunk/check/tests/check_check_msg.c
   A /trunk/check/tests/check_check_sub.c
   M /trunk/check/tests/check_list.c
   M /trunk/check/tests/check_stress.c

Fixed a bug in srunner_failures, fixed a typo in the tutorial documentation (thanks to Michael Tucker), and refactored check_check

------------------------------------------------------------------------
r34 | amalec | 2001-06-21 21:16:03 -0400 (Thu, 21 Jun 2001) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Update ChangeLog

------------------------------------------------------------------------
r33 | amalec | 2001-06-21 21:15:23 -0400 (Thu, 21 Jun 2001) | 2 lines
Changed paths:
   M /trunk/check/NEWS
   M /trunk/check/doc/Makefile.am
   M /trunk/check/doc/example.lyx
   M /trunk/check/doc/index.html
   M /trunk/check/rpm/check.spec
   M /trunk/check/tests/Makefile.am
   M /trunk/check/tests/Makefile.in

Specfile changes, updates to NEWS

------------------------------------------------------------------------
r32 | amalec | 2001-06-21 20:37:48 -0400 (Thu, 21 Jun 2001) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Update ChangeLog

------------------------------------------------------------------------
r31 | amalec | 2001-06-21 20:36:49 -0400 (Thu, 21 Jun 2001) | 2 lines
Changed paths:
   M /trunk/check/src/check.h
   M /trunk/check/src/check_run.c
   M /trunk/check/tests/Makefile.am
   M /trunk/check/tests/Makefile.in
   M /trunk/check/tests/check_check.c
   A /trunk/check/tests/ex_output.c
   A /trunk/check/tests/test_output.sh

Changed test output, added end-to-end test, and removed redundant field from TestResult struct

------------------------------------------------------------------------
r30 | amalec | 2001-06-19 16:01:10 -0400 (Tue, 19 Jun 2001) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Update changelog

------------------------------------------------------------------------
r29 | amalec | 2001-06-19 15:59:48 -0400 (Tue, 19 Jun 2001) | 2 lines
Changed paths:
   M /trunk/check/src/check.h
   M /trunk/check/src/check_run.c
   M /trunk/check/tests/check_check.c

Added accessors for TestResult and expanded unit test

------------------------------------------------------------------------
r28 | amalec | 2001-06-12 13:29:04 -0400 (Tue, 12 Jun 2001) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Updated ChangeLog

------------------------------------------------------------------------
r27 | amalec | 2001-06-12 13:28:10 -0400 (Tue, 12 Jun 2001) | 2 lines
Changed paths:
   M /trunk/check/configure
   M /trunk/check/configure.in
   M /trunk/check/src/check.h
   M /trunk/check/src/check_run.c
   M /trunk/check/tests/check_check.c

Added new tests for line number

------------------------------------------------------------------------
r26 | amalec | 2001-06-04 13:58:14 -0400 (Mon, 04 Jun 2001) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog
   A /trunk/check/doc/index.html

Added homepage file in doc directory, and updated change log

------------------------------------------------------------------------
r24 | amalec | 2001-06-04 13:08:54 -0400 (Mon, 04 Jun 2001) | 2 lines
Changed paths:
   M /trunk/check/doc/Makefile.am
   M /trunk/check/doc/example.lyx
   M /trunk/check/rpm/check.spec

Cleaned up spec file for RPM packaging

------------------------------------------------------------------------
r23 | amalec | 2001-06-03 19:50:40 -0400 (Sun, 03 Jun 2001) | 2 lines
Changed paths:
   M /trunk/check/Makefile.am
   M /trunk/check/Makefile.in
   M /trunk/check/configure
   M /trunk/check/configure.in
   M /trunk/check/doc/Makefile.am
   A /trunk/check/rpm
   A /trunk/check/rpm/check.spec

Added RPM spec file and added additional documentation files

------------------------------------------------------------------------
r22 | amalec | 2001-06-01 11:46:39 -0400 (Fri, 01 Jun 2001) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Updated ChangeLog

------------------------------------------------------------------------
r21 | amalec | 2001-06-01 11:44:43 -0400 (Fri, 01 Jun 2001) | 2 lines
Changed paths:
   M /trunk/check/Makefile.in
   M /trunk/check/src/Makefile.in
   M /trunk/check/src/check.c
   M /trunk/check/src/check.h
   M /trunk/check/src/check_impl.h
   M /trunk/check/src/check_msg.c
   M /trunk/check/src/check_msg.h
   M /trunk/check/src/check_run.c
   M /trunk/check/src/error.c
   M /trunk/check/src/error.h
   M /trunk/check/src/list.c
   M /trunk/check/src/list.h
   M /trunk/check/tests/Makefile.in

GNUified source files with copyright notice

------------------------------------------------------------------------
r20 | amalec | 2001-06-01 11:33:42 -0400 (Fri, 01 Jun 2001) | 2 lines
Changed paths:
   M /trunk/check/aclocal.m4
   M /trunk/check/configure
   M /trunk/check/configure.in
   M /trunk/check/doc/Makefile.am
   M /trunk/check/doc/example.lyx

Made building docs conditional on presence of lyx and sgml2html

------------------------------------------------------------------------
r19 | amalec | 2001-05-31 18:35:20 -0400 (Thu, 31 May 2001) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Update ChangeLog

------------------------------------------------------------------------
r18 | amalec | 2001-05-31 18:34:38 -0400 (Thu, 31 May 2001) | 2 lines
Changed paths:
   M /trunk/check/configure.in
   M /trunk/check/doc/Makefile.am

Modified Makefile.am to include docs in dist

------------------------------------------------------------------------
r17 | amalec | 2001-05-31 18:26:35 -0400 (Thu, 31 May 2001) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog
   M /trunk/check/Makefile.am
   M /trunk/check/Makefile.in
   M /trunk/check/aclocal.m4
   M /trunk/check/configure
   M /trunk/check/configure.in
   A /trunk/check/doc/Makefile.am
   M /trunk/check/src/Makefile.in
   M /trunk/check/tests/Makefile.in

Added Automake support to create and install documentation

------------------------------------------------------------------------
r16 | amalec | 2001-05-31 17:30:36 -0400 (Thu, 31 May 2001) | 2 lines
Changed paths:
   D /trunk/check/doc/money/config.h
   D /trunk/check/doc/money/config.log
   D /trunk/check/doc/money/config.status

Removed unneded files

------------------------------------------------------------------------
r15 | amalec | 2001-05-31 11:37:53 -0400 (Thu, 31 May 2001) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog
   M /trunk/check/ChangeLogOld

Updated change logs

------------------------------------------------------------------------
r14 | amalec | 2001-05-31 11:35:28 -0400 (Thu, 31 May 2001) | 2 lines
Changed paths:
   M /trunk/check/doc/example.lyx

Commit changes to example, get things in synch

------------------------------------------------------------------------
r13 | amalec | 2001-05-31 11:32:22 -0400 (Thu, 31 May 2001) | 2 lines
Changed paths:
   A /trunk/check/doc/money/COPYING
   A /trunk/check/doc/money/ChangeLog
   A /trunk/check/doc/money/INSTALL
   A /trunk/check/doc/money/Makefile.am
   A /trunk/check/doc/money/Makefile.in
   A /trunk/check/doc/money/NEWS
   A /trunk/check/doc/money/README
   A /trunk/check/doc/money/aclocal.m4
   A /trunk/check/doc/money/check_money.c
   A /trunk/check/doc/money/config.h
   A /trunk/check/doc/money/config.h.in
   A /trunk/check/doc/money/config.log
   A /trunk/check/doc/money/config.status
   A /trunk/check/doc/money/configure
   A /trunk/check/doc/money/configure.in
   A /trunk/check/doc/money/money.c
   A /trunk/check/doc/money/money.h
   A /trunk/check/doc/money/stamp-h
   A /trunk/check/doc/money/stamp-h.in

Hopefully finally solved CVS problems and commited changes to money example and example.lyx

------------------------------------------------------------------------
r12 | amalec | 2001-05-30 19:48:43 -0400 (Wed, 30 May 2001) | 2 lines
Changed paths:
   A /trunk/check/doc/money
   A /trunk/check/doc/money/AUTHORS

Trying to commit added files...

------------------------------------------------------------------------
r11 | amalec | 2001-05-30 19:45:07 -0400 (Wed, 30 May 2001) | 2 lines
Changed paths:
   M /trunk/check/doc/example.lyx

Cleaning up CVS..

------------------------------------------------------------------------
r10 | amalec | 2001-05-30 19:37:35 -0400 (Wed, 30 May 2001) | 2 lines
Changed paths:
   A /trunk/check/ChangeLogOld

Trying to update documentation and change log, and statisfy CVS...

------------------------------------------------------------------------
r9 | amalec | 2001-05-30 19:34:29 -0400 (Wed, 30 May 2001) | 2 lines
Changed paths:
   M /trunk/check/ChangeLog

Refined documentation, and moved old change log information to ChangeLogOld

------------------------------------------------------------------------
r8 | amalec | 2001-05-30 18:44:48 -0400 (Wed, 30 May 2001) | 2 lines
Changed paths:
   M /trunk/check/doc/example.lyx

Added complete example to accompany documentation

------------------------------------------------------------------------
r7 | amalec | 2001-05-29 23:25:29 -0400 (Tue, 29 May 2001) | 2 lines
Changed paths:
   M /trunk/check/Makefile.in

Added example and expanded documentation

------------------------------------------------------------------------
r3 | amalec | 2001-05-29 18:42:55 -0400 (Tue, 29 May 2001) | 2 lines
Changed paths:
   A /trunk/check
   A /trunk/check/AUTHORS
   A /trunk/check/COPYING
   A /trunk/check/ChangeLog
   A /trunk/check/INSTALL
   A /trunk/check/Makefile.am
   A /trunk/check/Makefile.in
   A /trunk/check/NEWS
   A /trunk/check/README
   A /trunk/check/aclocal.m4
   A /trunk/check/config.h.in
   A /trunk/check/configure
   A /trunk/check/configure.in
   A /trunk/check/doc
   A /trunk/check/doc/example.lyx
   A /trunk/check/install-sh
   A /trunk/check/missing
   A /trunk/check/mkinstalldirs
   A /trunk/check/src
   A /trunk/check/src/Makefile.am
   A /trunk/check/src/Makefile.in
   A /trunk/check/src/check.c
   A /trunk/check/src/check.h
   A /trunk/check/src/check_impl.h
   A /trunk/check/src/check_msg.c
   A /trunk/check/src/check_msg.h
   A /trunk/check/src/check_run.c
   A /trunk/check/src/error.c
   A /trunk/check/src/error.h
   A /trunk/check/src/list.c
   A /trunk/check/src/list.h
   A /trunk/check/stamp-h.in
   A /trunk/check/tests
   A /trunk/check/tests/Makefile.am
   A /trunk/check/tests/Makefile.in
   A /trunk/check/tests/check_check.c
   A /trunk/check/tests/check_check_msg.c
   A /trunk/check/tests/check_list.c
   A /trunk/check/tests/check_stress.c

Initial revision

------------------------------------------------------------------------
r1 | (no author) | 2001-05-29 18:42:54 -0400 (Tue, 29 May 2001) | 1 line
Changed paths:
   A /branches
   A /tags
   A /trunk

New repository initialized by cvs2svn.
------------------------------------------------------------------------
